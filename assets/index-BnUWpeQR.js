(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Mm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vu={exports:{}},Ei={},wu={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function O0(){if(Ff)return ye;Ff=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function w(T){return T===null||typeof T!="object"?null:(T=g&&T[g]||T["@@iterator"],typeof T=="function"?T:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function P(T,I,Z){this.props=T,this.context=I,this.refs=k,this.updater=Z||x}P.prototype.isReactComponent={},P.prototype.setState=function(T,I){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,I,"setState")},P.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=P.prototype;function D(T,I,Z){this.props=T,this.context=I,this.refs=k,this.updater=Z||x}var O=D.prototype=new A;O.constructor=D,E(O,P.prototype),O.isPureReactComponent=!0;var $=Array.isArray,V=Object.prototype.hasOwnProperty,z={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function J(T,I,Z){var ue,ge={},ie=null,xe=null;if(I!=null)for(ue in I.ref!==void 0&&(xe=I.ref),I.key!==void 0&&(ie=""+I.key),I)V.call(I,ue)&&!te.hasOwnProperty(ue)&&(ge[ue]=I[ue]);var we=arguments.length-2;if(we===1)ge.children=Z;else if(1<we){for(var be=Array(we),Ge=0;Ge<we;Ge++)be[Ge]=arguments[Ge+2];ge.children=be}if(T&&T.defaultProps)for(ue in we=T.defaultProps,we)ge[ue]===void 0&&(ge[ue]=we[ue]);return{$$typeof:t,type:T,key:ie,ref:xe,props:ge,_owner:z.current}}function K(T,I){return{$$typeof:t,type:T.type,key:I,ref:T.ref,props:T.props,_owner:T._owner}}function he(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function ve(T){var I={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Z){return I[Z]})}var ze=/\/+/g;function Be(T,I){return typeof T=="object"&&T!==null&&T.key!=null?ve(""+T.key):I.toString(36)}function et(T,I,Z,ue,ge){var ie=typeof T;(ie==="undefined"||ie==="boolean")&&(T=null);var xe=!1;if(T===null)xe=!0;else switch(ie){case"string":case"number":xe=!0;break;case"object":switch(T.$$typeof){case t:case e:xe=!0}}if(xe)return xe=T,ge=ge(xe),T=ue===""?"."+Be(xe,0):ue,$(ge)?(Z="",T!=null&&(Z=T.replace(ze,"$&/")+"/"),et(ge,I,Z,"",function(Ge){return Ge})):ge!=null&&(he(ge)&&(ge=K(ge,Z+(!ge.key||xe&&xe.key===ge.key?"":(""+ge.key).replace(ze,"$&/")+"/")+T)),I.push(ge)),1;if(xe=0,ue=ue===""?".":ue+":",$(T))for(var we=0;we<T.length;we++){ie=T[we];var be=ue+Be(ie,we);xe+=et(ie,I,Z,be,ge)}else if(be=w(T),typeof be=="function")for(T=be.call(T),we=0;!(ie=T.next()).done;)ie=ie.value,be=ue+Be(ie,we++),xe+=et(ie,I,Z,be,ge);else if(ie==="object")throw I=String(T),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return xe}function Ae(T,I,Z){if(T==null)return T;var ue=[],ge=0;return et(T,ue,"","",function(ie){return I.call(Z,ie,ge++)}),ue}function fe(T){if(T._status===-1){var I=T._result;I=I(),I.then(function(Z){(T._status===0||T._status===-1)&&(T._status=1,T._result=Z)},function(Z){(T._status===0||T._status===-1)&&(T._status=2,T._result=Z)}),T._status===-1&&(T._status=0,T._result=I)}if(T._status===1)return T._result.default;throw T._result}var oe={current:null},U={transition:null},G={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:U,ReactCurrentOwner:z};function H(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:Ae,forEach:function(T,I,Z){Ae(T,function(){I.apply(this,arguments)},Z)},count:function(T){var I=0;return Ae(T,function(){I++}),I},toArray:function(T){return Ae(T,function(I){return I})||[]},only:function(T){if(!he(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ye.Component=P,ye.Fragment=r,ye.Profiler=a,ye.PureComponent=D,ye.StrictMode=i,ye.Suspense=f,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ye.act=H,ye.cloneElement=function(T,I,Z){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ue=E({},T.props),ge=T.key,ie=T.ref,xe=T._owner;if(I!=null){if(I.ref!==void 0&&(ie=I.ref,xe=z.current),I.key!==void 0&&(ge=""+I.key),T.type&&T.type.defaultProps)var we=T.type.defaultProps;for(be in I)V.call(I,be)&&!te.hasOwnProperty(be)&&(ue[be]=I[be]===void 0&&we!==void 0?we[be]:I[be])}var be=arguments.length-2;if(be===1)ue.children=Z;else if(1<be){we=Array(be);for(var Ge=0;Ge<be;Ge++)we[Ge]=arguments[Ge+2];ue.children=we}return{$$typeof:t,type:T.type,key:ge,ref:ie,props:ue,_owner:xe}},ye.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},ye.createElement=J,ye.createFactory=function(T){var I=J.bind(null,T);return I.type=T,I},ye.createRef=function(){return{current:null}},ye.forwardRef=function(T){return{$$typeof:h,render:T}},ye.isValidElement=he,ye.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:fe}},ye.memo=function(T,I){return{$$typeof:m,type:T,compare:I===void 0?null:I}},ye.startTransition=function(T){var I=U.transition;U.transition={};try{T()}finally{U.transition=I}},ye.unstable_act=H,ye.useCallback=function(T,I){return oe.current.useCallback(T,I)},ye.useContext=function(T){return oe.current.useContext(T)},ye.useDebugValue=function(){},ye.useDeferredValue=function(T){return oe.current.useDeferredValue(T)},ye.useEffect=function(T,I){return oe.current.useEffect(T,I)},ye.useId=function(){return oe.current.useId()},ye.useImperativeHandle=function(T,I,Z){return oe.current.useImperativeHandle(T,I,Z)},ye.useInsertionEffect=function(T,I){return oe.current.useInsertionEffect(T,I)},ye.useLayoutEffect=function(T,I){return oe.current.useLayoutEffect(T,I)},ye.useMemo=function(T,I){return oe.current.useMemo(T,I)},ye.useReducer=function(T,I,Z){return oe.current.useReducer(T,I,Z)},ye.useRef=function(T){return oe.current.useRef(T)},ye.useState=function(T){return oe.current.useState(T)},ye.useSyncExternalStore=function(T,I,Z){return oe.current.useSyncExternalStore(T,I,Z)},ye.useTransition=function(){return oe.current.useTransition()},ye.version="18.3.1",ye}var zf;function Cc(){return zf||(zf=1,wu.exports=O0()),wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function N0(){if(Wf)return Ei;Wf=1;var t=Cc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var y,g={},w=null,x=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(y in f)i.call(f,y)&&!l.hasOwnProperty(y)&&(g[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)g[y]===void 0&&(g[y]=f[y]);return{$$typeof:e,type:h,key:w,ref:x,props:g,_owner:a.current}}return Ei.Fragment=r,Ei.jsx=c,Ei.jsxs=c,Ei}var Hf;function D0(){return Hf||(Hf=1,vu.exports=N0()),vu.exports}var b=D0(),ua={},_u={exports:{}},Tt={},xu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function I0(){return Kf||(Kf=1,(function(t){function e(U,G){var H=U.length;U.push(G);e:for(;0<H;){var T=H-1>>>1,I=U[T];if(0<a(I,G))U[T]=G,U[H]=I,H=T;else break e}}function r(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var G=U[0],H=U.pop();if(H!==G){U[0]=H;e:for(var T=0,I=U.length,Z=I>>>1;T<Z;){var ue=2*(T+1)-1,ge=U[ue],ie=ue+1,xe=U[ie];if(0>a(ge,H))ie<I&&0>a(xe,ge)?(U[T]=xe,U[ie]=H,T=ie):(U[T]=ge,U[ue]=H,T=ue);else if(ie<I&&0>a(xe,H))U[T]=xe,U[ie]=H,T=ie;else break e}}return G}function a(U,G){var H=U.sortIndex-G.sortIndex;return H!==0?H:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,g=null,w=3,x=!1,E=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(U){for(var G=r(m);G!==null;){if(G.callback===null)i(m);else if(G.startTime<=U)i(m),G.sortIndex=G.expirationTime,e(f,G);else break;G=r(m)}}function $(U){if(k=!1,O(U),!E)if(r(f)!==null)E=!0,fe(V);else{var G=r(m);G!==null&&oe($,G.startTime-U)}}function V(U,G){E=!1,k&&(k=!1,A(J),J=-1),x=!0;var H=w;try{for(O(G),g=r(f);g!==null&&(!(g.expirationTime>G)||U&&!ve());){var T=g.callback;if(typeof T=="function"){g.callback=null,w=g.priorityLevel;var I=T(g.expirationTime<=G);G=t.unstable_now(),typeof I=="function"?g.callback=I:g===r(f)&&i(f),O(G)}else i(f);g=r(f)}if(g!==null)var Z=!0;else{var ue=r(m);ue!==null&&oe($,ue.startTime-G),Z=!1}return Z}finally{g=null,w=H,x=!1}}var z=!1,te=null,J=-1,K=5,he=-1;function ve(){return!(t.unstable_now()-he<K)}function ze(){if(te!==null){var U=t.unstable_now();he=U;var G=!0;try{G=te(!0,U)}finally{G?Be():(z=!1,te=null)}}else z=!1}var Be;if(typeof D=="function")Be=function(){D(ze)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Ae=et.port2;et.port1.onmessage=ze,Be=function(){Ae.postMessage(null)}}else Be=function(){P(ze,0)};function fe(U){te=U,z||(z=!0,Be())}function oe(U,G){J=P(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||x||(E=!0,fe(V))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(U){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var H=w;w=G;try{return U()}finally{w=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=w;w=U;try{return G()}finally{w=H}},t.unstable_scheduleCallback=function(U,G,H){var T=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?T+H:T):H=T,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=H+I,U={id:y++,callback:G,priorityLevel:U,startTime:H,expirationTime:I,sortIndex:-1},H>T?(U.sortIndex=H,e(m,U),r(f)===null&&U===r(m)&&(k?(A(J),J=-1):k=!0,oe($,H-T))):(U.sortIndex=I,e(f,U),E||x||(E=!0,fe(V))),U},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(U){var G=w;return function(){var H=w;w=G;try{return U.apply(this,arguments)}finally{w=H}}}})(Su)),Su}var qf;function L0(){return qf||(qf=1,xu.exports=I0()),xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function M0(){if(Gf)return Tt;Gf=1;var t=Cc(),e=L0();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function w(n){return f.call(g,n)?!0:f.call(y,n)?!1:m.test(n)?g[n]=!0:(y[n]=!0,!1)}function x(n,s,o,u){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,s,o,u){if(s===null||typeof s>"u"||x(n,s,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(n,s,o,u,d,p,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=n,this.type=s,this.sanitizeURL=p,this.removeEmptyString=v}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];P[s]=new k(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(A,D);P[s]=new k(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(A,D);P[s]=new k(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(A,D);P[s]=new k(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function O(n,s,o,u){var d=P.hasOwnProperty(s)?P[s]:null;(d!==null?d.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,o,d,u)&&(o=null),u||d===null?w(s)&&(o===null?n.removeAttribute(s):n.setAttribute(s,""+o)):d.mustUseProperty?n[d.propertyName]=o===null?d.type===3?!1:"":o:(s=d.attributeName,u=d.attributeNamespace,o===null?n.removeAttribute(s):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?n.setAttributeNS(u,s,o):n.setAttribute(s,o))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),z=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ze=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),U=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var H=Object.assign,T;function I(n){if(T===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+n}var Z=!1;function ue(n,s){if(!n||Z)return"";Z=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(N){var u=N}Reflect.construct(n,[],s)}else{try{s.call()}catch(N){u=N}n.call(s.prototype)}else{try{throw Error()}catch(N){u=N}n()}}catch(N){if(N&&u&&typeof N.stack=="string"){for(var d=N.stack.split(`
`),p=u.stack.split(`
`),v=d.length-1,_=p.length-1;1<=v&&0<=_&&d[v]!==p[_];)_--;for(;1<=v&&0<=_;v--,_--)if(d[v]!==p[_]){if(v!==1||_!==1)do if(v--,_--,0>_||d[v]!==p[_]){var S=`
`+d[v].replace(" at new "," at ");return n.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",n.displayName)),S}while(1<=v&&0<=_);break}}}finally{Z=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?I(n):""}function ge(n){switch(n.tag){case 5:return I(n.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return n=ue(n.type,!1),n;case 11:return n=ue(n.type.render,!1),n;case 1:return n=ue(n.type,!0),n;default:return""}}function ie(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case te:return"Fragment";case z:return"Portal";case K:return"Profiler";case J:return"StrictMode";case Be:return"Suspense";case et:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ve:return(n.displayName||"Context")+".Consumer";case he:return(n._context.displayName||"Context")+".Provider";case ze:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ae:return s=n.displayName||null,s!==null?s:ie(n.type)||"Memo";case fe:s=n._payload,n=n._init;try{return ie(n(s))}catch{}}return null}function xe(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(s);case 8:return s===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function be(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ge(n){var s=be(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function zr(n){n._valueTracker||(n._valueTracker=Ge(n))}function $s(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=be(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function fr(n,s){var o=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function Xi(n,s){var o=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;o=we(s.value!=null?s.value:o),n._wrapperState={initialChecked:u,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bs(n,s){s=s.checked,s!=null&&O(n,"checked",s,!1)}function wn(n,s){Bs(n,s);var o=we(s.value),u=s.type;if(o!=null)u==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(u==="submit"||u==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?At(n,s.type,o):s.hasOwnProperty("defaultValue")&&At(n,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Us(n,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,o||s===n.value||(n.value=s),n.defaultValue=s}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function At(n,s,o){(s!=="number"||Wr(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var pr=Array.isArray;function In(n,s,o,u){if(n=n.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=s.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+we(o),s=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function it(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function _n(n,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(pr(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}n._wrapperState={initialValue:we(o)}}function Qi(n,s){var o=we(s.value),u=we(s.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),s.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),u!=null&&(n.defaultValue=""+u)}function Zi(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function mr(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vs(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?mr(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gr,Hr=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,u,d){MSApp.execUnsafeLocalFunction(function(){return n(s,o,u,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function $t(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mn=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(n){Mn.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Ln[s]=Ln[n]})});function eo(n,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Ln.hasOwnProperty(n)&&Ln[n]?(""+s).trim():s+"px"}function to(n,s){n=n.style;for(var o in s)if(s.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=eo(o,s[o],u);o==="float"&&(o="cssFloat"),u?n.setProperty(o,d):n[o]=d}}var no=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(n,s){if(s){if(no[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Fs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function Bt(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zs=null,$n=null,xn=null;function Ws(n){if(n=ci(n)){if(typeof zs!="function")throw Error(r(280));var s=n.stateNode;s&&(s=ko(s),zs(n.stateNode,n.type,s))}}function me(n){$n?xn?xn.push(n):xn=[n]:$n=n}function Ue(){if($n){var n=$n,s=xn;if(xn=$n=null,Ws(n),s)for(n=0;n<s.length;n++)Ws(s[n])}}function Je(n,s){return n(s)}function ht(){}var Bn=!1;function We(n,s,o){if(Bn)return n(s,o);Bn=!0;try{return Je(n,s,o)}finally{Bn=!1,($n!==null||xn!==null)&&(ht(),Ue())}}function tt(n,s){var o=n.stateNode;if(o===null)return null;var u=ko(o);if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Un=!1;if(h)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Un=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Un=!1}function Rt(n,s,o,u,d,p,v,_,S){var N=Array.prototype.slice.call(arguments,3);try{s.apply(o,N)}catch(M){this.onError(M)}}var Vn=!1,Ut=null,Hs=!1,Ma=null,By={onError:function(n){Vn=!0,Ut=n}};function Uy(n,s,o,u,d,p,v,_,S){Vn=!1,Ut=null,Rt.apply(By,arguments)}function Vy(n,s,o,u,d,p,v,_,S){if(Uy.apply(this,arguments),Vn){if(Vn){var N=Ut;Vn=!1,Ut=null}else throw Error(r(198));Hs||(Hs=!0,Ma=N)}}function vr(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function cd(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function dd(n){if(vr(n)!==n)throw Error(r(188))}function Fy(n){var s=n.alternate;if(!s){if(s=vr(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return dd(d),n;if(p===u)return dd(d),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=p;else{for(var v=!1,_=d.child;_;){if(_===o){v=!0,o=d,u=p;break}if(_===u){v=!0,u=d,o=p;break}_=_.sibling}if(!v){for(_=p.child;_;){if(_===o){v=!0,o=p,u=d;break}if(_===u){v=!0,u=p,o=d;break}_=_.sibling}if(!v)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function hd(n){return n=Fy(n),n!==null?fd(n):null}function fd(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=fd(n);if(s!==null)return s;n=n.sibling}return null}var pd=e.unstable_scheduleCallback,md=e.unstable_cancelCallback,zy=e.unstable_shouldYield,Wy=e.unstable_requestPaint,Ve=e.unstable_now,Hy=e.unstable_getCurrentPriorityLevel,$a=e.unstable_ImmediatePriority,gd=e.unstable_UserBlockingPriority,ro=e.unstable_NormalPriority,Ky=e.unstable_LowPriority,yd=e.unstable_IdlePriority,so=null,dn=null;function qy(n){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(so,n,void 0,(n.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Yy,Gy=Math.log,Jy=Math.LN2;function Yy(n){return n>>>=0,n===0?32:31-(Gy(n)/Jy|0)|0}var io=64,oo=4194304;function Ks(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ao(n,s){var o=n.pendingLanes;if(o===0)return 0;var u=0,d=n.suspendedLanes,p=n.pingedLanes,v=o&268435455;if(v!==0){var _=v&~d;_!==0?u=Ks(_):(p&=v,p!==0&&(u=Ks(p)))}else v=o&~d,v!==0?u=Ks(v):p!==0&&(u=Ks(p));if(u===0)return 0;if(s!==0&&s!==u&&(s&d)===0&&(d=u&-u,p=s&-s,d>=p||d===16&&(p&4194240)!==0))return s;if((u&4)!==0&&(u|=o&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=u;0<s;)o=31-Qt(s),d=1<<o,u|=n[o],s&=~d;return u}function Xy(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qy(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes;0<p;){var v=31-Qt(p),_=1<<v,S=d[v];S===-1?((_&o)===0||(_&u)!==0)&&(d[v]=Xy(_,s)):S<=s&&(n.expiredLanes|=_),p&=~_}}function Ba(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function vd(){var n=io;return io<<=1,(io&4194240)===0&&(io=64),n}function Ua(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function qs(n,s,o){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Qt(s),n[s]=o}function Zy(n,s){var o=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var u=n.eventTimes;for(n=n.expirationTimes;0<o;){var d=31-Qt(o),p=1<<d;s[d]=0,u[d]=-1,n[d]=-1,o&=~p}}function Va(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Qt(o),d=1<<u;d&s|n[u]&s&&(n[u]|=s),o&=~d}}var ke=0;function wd(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _d,Fa,xd,Sd,bd,za=!1,lo=[],Fn=null,zn=null,Wn=null,Gs=new Map,Js=new Map,Hn=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(n,s){switch(n){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Gs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(s.pointerId)}}function Ys(n,s,o,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=ci(s),s!==null&&Fa(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function tv(n,s,o,u,d){switch(s){case"focusin":return Fn=Ys(Fn,n,s,o,u,d),!0;case"dragenter":return zn=Ys(zn,n,s,o,u,d),!0;case"mouseover":return Wn=Ys(Wn,n,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return Gs.set(p,Ys(Gs.get(p)||null,n,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Js.set(p,Ys(Js.get(p)||null,n,s,o,u,d)),!0}return!1}function Ed(n){var s=wr(n.target);if(s!==null){var o=vr(s);if(o!==null){if(s=o.tag,s===13){if(s=cd(o),s!==null){n.blockedOn=s,bd(n.priority,function(){xd(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uo(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Ha(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);yr=u,o.target.dispatchEvent(u),yr=null}else return s=ci(o),s!==null&&Fa(s),n.blockedOn=o,!1;s.shift()}return!0}function Td(n,s,o){uo(n)&&o.delete(s)}function nv(){za=!1,Fn!==null&&uo(Fn)&&(Fn=null),zn!==null&&uo(zn)&&(zn=null),Wn!==null&&uo(Wn)&&(Wn=null),Gs.forEach(Td),Js.forEach(Td)}function Xs(n,s){n.blockedOn===s&&(n.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nv)))}function Qs(n){function s(d){return Xs(d,n)}if(0<lo.length){Xs(lo[0],n);for(var o=1;o<lo.length;o++){var u=lo[o];u.blockedOn===n&&(u.blockedOn=null)}}for(Fn!==null&&Xs(Fn,n),zn!==null&&Xs(zn,n),Wn!==null&&Xs(Wn,n),Gs.forEach(s),Js.forEach(s),o=0;o<Hn.length;o++)u=Hn[o],u.blockedOn===n&&(u.blockedOn=null);for(;0<Hn.length&&(o=Hn[0],o.blockedOn===null);)Ed(o),o.blockedOn===null&&Hn.shift()}var qr=$.ReactCurrentBatchConfig,co=!0;function rv(n,s,o,u){var d=ke,p=qr.transition;qr.transition=null;try{ke=1,Wa(n,s,o,u)}finally{ke=d,qr.transition=p}}function sv(n,s,o,u){var d=ke,p=qr.transition;qr.transition=null;try{ke=4,Wa(n,s,o,u)}finally{ke=d,qr.transition=p}}function Wa(n,s,o,u){if(co){var d=Ha(n,s,o,u);if(d===null)ll(n,s,u,ho,o),kd(n,u);else if(tv(d,n,s,o,u))u.stopPropagation();else if(kd(n,u),s&4&&-1<ev.indexOf(n)){for(;d!==null;){var p=ci(d);if(p!==null&&_d(p),p=Ha(n,s,o,u),p===null&&ll(n,s,u,ho,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else ll(n,s,u,null,o)}}var ho=null;function Ha(n,s,o,u){if(ho=null,n=Bt(u),n=wr(n),n!==null)if(s=vr(n),s===null)n=null;else if(o=s.tag,o===13){if(n=cd(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ho=n,null}function Cd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hy()){case $a:return 1;case gd:return 4;case ro:case Ky:return 16;case yd:return 536870912;default:return 16}default:return 16}}var Kn=null,Ka=null,fo=null;function Pd(){if(fo)return fo;var n,s=Ka,o=s.length,u,d="value"in Kn?Kn.value:Kn.textContent,p=d.length;for(n=0;n<o&&s[n]===d[n];n++);var v=o-n;for(u=1;u<=v&&s[o-u]===d[p-u];u++);return fo=d.slice(n,1<u?1-u:void 0)}function po(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function mo(){return!0}function Ad(){return!1}function jt(n){function s(o,u,d,p,v){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(o=n[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?mo:Ad,this.isPropagationStopped=Ad,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),s}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=jt(Gr),Zs=H({},Gr,{view:0,detail:0}),iv=jt(Zs),Ga,Ja,ei,go=H({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ei&&(ei&&n.type==="mousemove"?(Ga=n.screenX-ei.screenX,Ja=n.screenY-ei.screenY):Ja=Ga=0,ei=n),Ga)},movementY:function(n){return"movementY"in n?n.movementY:Ja}}),Rd=jt(go),ov=H({},go,{dataTransfer:0}),av=jt(ov),lv=H({},Zs,{relatedTarget:0}),Ya=jt(lv),uv=H({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),cv=jt(uv),dv=H({},Gr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hv=jt(dv),fv=H({},Gr,{data:0}),jd=jt(fv),pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yv(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=gv[n])?!!s[n]:!1}function Xa(){return yv}var vv=H({},Zs,{key:function(n){if(n.key){var s=pv[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=po(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(n){return n.type==="keypress"?po(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?po(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wv=jt(vv),_v=H({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=jt(_v),xv=H({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Sv=jt(xv),bv=H({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kv=jt(bv),Ev=H({},go,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tv=jt(Ev),Cv=[9,13,27,32],Qa=h&&"CompositionEvent"in window,ti=null;h&&"documentMode"in document&&(ti=document.documentMode);var Pv=h&&"TextEvent"in window&&!ti,Nd=h&&(!Qa||ti&&8<ti&&11>=ti),Dd=" ",Id=!1;function Ld(n,s){switch(n){case"keyup":return Cv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Jr=!1;function Av(n,s){switch(n){case"compositionend":return Md(s);case"keypress":return s.which!==32?null:(Id=!0,Dd);case"textInput":return n=s.data,n===Dd&&Id?null:n;default:return null}}function Rv(n,s){if(Jr)return n==="compositionend"||!Qa&&Ld(n,s)?(n=Pd(),fo=Ka=Kn=null,Jr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nd&&s.locale!=="ko"?null:s.data;default:return null}}var jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!jv[n.type]:s==="textarea"}function Bd(n,s,o,u){me(u),s=xo(s,"onChange"),0<s.length&&(o=new qa("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var ni=null,ri=null;function Ov(n){rh(n,0)}function yo(n){var s=es(n);if($s(s))return n}function Nv(n,s){if(n==="change")return s}var Ud=!1;if(h){var Za;if(h){var el="oninput"in document;if(!el){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),el=typeof Vd.oninput=="function"}Za=el}else Za=!1;Ud=Za&&(!document.documentMode||9<document.documentMode)}function Fd(){ni&&(ni.detachEvent("onpropertychange",zd),ri=ni=null)}function zd(n){if(n.propertyName==="value"&&yo(ri)){var s=[];Bd(s,ri,n,Bt(n)),We(Ov,s)}}function Dv(n,s,o){n==="focusin"?(Fd(),ni=s,ri=o,ni.attachEvent("onpropertychange",zd)):n==="focusout"&&Fd()}function Iv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yo(ri)}function Lv(n,s){if(n==="click")return yo(s)}function Mv(n,s){if(n==="input"||n==="change")return yo(s)}function $v(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Zt=typeof Object.is=="function"?Object.is:$v;function si(n,s){if(Zt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!f.call(s,d)||!Zt(n[d],s[d]))return!1}return!0}function Wd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hd(n,s){var o=Wd(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Wd(o)}}function Kd(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Kd(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function qd(){for(var n=window,s=Wr();s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Wr(n.document)}return s}function tl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Bv(n){var s=qd(),o=n.focusedElem,u=n.selectionRange;if(s!==o&&o&&o.ownerDocument&&Kd(o.ownerDocument.documentElement,o)){if(u!==null&&tl(o)){if(s=u.start,n=u.end,n===void 0&&(n=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(n,o.value.length);else if(n=(s=o.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=o.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!n.extend&&p>u&&(d=u,u=p,p=d),d=Hd(o,p);var v=Hd(o,u);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),p>u?(n.addRange(s),n.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),n.addRange(s)))}}for(s=[],n=o;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)n=s[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Uv=h&&"documentMode"in document&&11>=document.documentMode,Yr=null,nl=null,ii=null,rl=!1;function Gd(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rl||Yr==null||Yr!==Wr(u)||(u=Yr,"selectionStart"in u&&tl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ii&&si(ii,u)||(ii=u,u=xo(nl,"onSelect"),0<u.length&&(s=new qa("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Yr)))}function vo(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Xr={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},sl={},Jd={};h&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function wo(n){if(sl[n])return sl[n];if(!Xr[n])return n;var s=Xr[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Jd)return sl[n]=s[o];return n}var Yd=wo("animationend"),Xd=wo("animationiteration"),Qd=wo("animationstart"),Zd=wo("transitionend"),eh=new Map,th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(n,s){eh.set(n,s),l(s,[n])}for(var il=0;il<th.length;il++){var ol=th[il],Vv=ol.toLowerCase(),Fv=ol[0].toUpperCase()+ol.slice(1);qn(Vv,"on"+Fv)}qn(Yd,"onAnimationEnd"),qn(Xd,"onAnimationIteration"),qn(Qd,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Zd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function nh(n,s,o){var u=n.type||"unknown-event";n.currentTarget=o,Vy(u,s,void 0,n),n.currentTarget=null}function rh(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var v=u.length-1;0<=v;v--){var _=u[v],S=_.instance,N=_.currentTarget;if(_=_.listener,S!==p&&d.isPropagationStopped())break e;nh(d,_,N),p=S}else for(v=0;v<u.length;v++){if(_=u[v],S=_.instance,N=_.currentTarget,_=_.listener,S!==p&&d.isPropagationStopped())break e;nh(d,_,N),p=S}}}if(Hs)throw n=Ma,Hs=!1,Ma=null,n}function Ce(n,s){var o=s[pl];o===void 0&&(o=s[pl]=new Set);var u=n+"__bubble";o.has(u)||(sh(s,n,2,!1),o.add(u))}function al(n,s,o){var u=0;s&&(u|=4),sh(o,n,u,s)}var _o="_reactListening"+Math.random().toString(36).slice(2);function ai(n){if(!n[_o]){n[_o]=!0,i.forEach(function(o){o!=="selectionchange"&&(zv.has(o)||al(o,!1,n),al(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_o]||(s[_o]=!0,al("selectionchange",!1,s))}}function sh(n,s,o,u){switch(Cd(s)){case 1:var d=rv;break;case 4:d=sv;break;default:d=Wa}o=d.bind(null,s,o,n),d=void 0,!Un||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,o,{capture:!0,passive:d}):n.addEventListener(s,o,!0):d!==void 0?n.addEventListener(s,o,{passive:d}):n.addEventListener(s,o,!1)}function ll(n,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var _=u.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(v===4)for(v=u.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;v=v.return}for(;_!==null;){if(v=wr(_),v===null)return;if(S=v.tag,S===5||S===6){u=p=v;continue e}_=_.parentNode}}u=u.return}We(function(){var N=p,M=Bt(o),B=[];e:{var L=eh.get(n);if(L!==void 0){var q=qa,ee=n;switch(n){case"keypress":if(po(o)===0)break e;case"keydown":case"keyup":q=wv;break;case"focusin":ee="focus",q=Ya;break;case"focusout":ee="blur",q=Ya;break;case"beforeblur":case"afterblur":q=Ya;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Sv;break;case Yd:case Xd:case Qd:q=cv;break;case Zd:q=kv;break;case"scroll":q=iv;break;case"wheel":q=Tv;break;case"copy":case"cut":case"paste":q=hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Od}var ne=(s&4)!==0,Fe=!ne&&n==="scroll",R=ne?L!==null?L+"Capture":null:L;ne=[];for(var C=N,j;C!==null;){j=C;var F=j.stateNode;if(j.tag===5&&F!==null&&(j=F,R!==null&&(F=tt(C,R),F!=null&&ne.push(li(C,F,j)))),Fe)break;C=C.return}0<ne.length&&(L=new q(L,ee,null,o,M),B.push({event:L,listeners:ne}))}}if((s&7)===0){e:{if(L=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",L&&o!==yr&&(ee=o.relatedTarget||o.fromElement)&&(wr(ee)||ee[Sn]))break e;if((q||L)&&(L=M.window===M?M:(L=M.ownerDocument)?L.defaultView||L.parentWindow:window,q?(ee=o.relatedTarget||o.toElement,q=N,ee=ee?wr(ee):null,ee!==null&&(Fe=vr(ee),ee!==Fe||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(q=null,ee=N),q!==ee)){if(ne=Rd,F="onMouseLeave",R="onMouseEnter",C="mouse",(n==="pointerout"||n==="pointerover")&&(ne=Od,F="onPointerLeave",R="onPointerEnter",C="pointer"),Fe=q==null?L:es(q),j=ee==null?L:es(ee),L=new ne(F,C+"leave",q,o,M),L.target=Fe,L.relatedTarget=j,F=null,wr(M)===N&&(ne=new ne(R,C+"enter",ee,o,M),ne.target=j,ne.relatedTarget=Fe,F=ne),Fe=F,q&&ee)t:{for(ne=q,R=ee,C=0,j=ne;j;j=Qr(j))C++;for(j=0,F=R;F;F=Qr(F))j++;for(;0<C-j;)ne=Qr(ne),C--;for(;0<j-C;)R=Qr(R),j--;for(;C--;){if(ne===R||R!==null&&ne===R.alternate)break t;ne=Qr(ne),R=Qr(R)}ne=null}else ne=null;q!==null&&ih(B,L,q,ne,!1),ee!==null&&Fe!==null&&ih(B,Fe,ee,ne,!0)}}e:{if(L=N?es(N):window,q=L.nodeName&&L.nodeName.toLowerCase(),q==="select"||q==="input"&&L.type==="file")var re=Nv;else if($d(L))if(Ud)re=Mv;else{re=Iv;var ae=Dv}else(q=L.nodeName)&&q.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(re=Lv);if(re&&(re=re(n,N))){Bd(B,re,o,M);break e}ae&&ae(n,L,N),n==="focusout"&&(ae=L._wrapperState)&&ae.controlled&&L.type==="number"&&At(L,"number",L.value)}switch(ae=N?es(N):window,n){case"focusin":($d(ae)||ae.contentEditable==="true")&&(Yr=ae,nl=N,ii=null);break;case"focusout":ii=nl=Yr=null;break;case"mousedown":rl=!0;break;case"contextmenu":case"mouseup":case"dragend":rl=!1,Gd(B,o,M);break;case"selectionchange":if(Uv)break;case"keydown":case"keyup":Gd(B,o,M)}var le;if(Qa)e:{switch(n){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Jr?Ld(n,o)&&(pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(pe="onCompositionStart");pe&&(Nd&&o.locale!=="ko"&&(Jr||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Jr&&(le=Pd()):(Kn=M,Ka="value"in Kn?Kn.value:Kn.textContent,Jr=!0)),ae=xo(N,pe),0<ae.length&&(pe=new jd(pe,n,null,o,M),B.push({event:pe,listeners:ae}),le?pe.data=le:(le=Md(o),le!==null&&(pe.data=le)))),(le=Pv?Av(n,o):Rv(n,o))&&(N=xo(N,"onBeforeInput"),0<N.length&&(M=new jd("onBeforeInput","beforeinput",null,o,M),B.push({event:M,listeners:N}),M.data=le))}rh(B,s)})}function li(n,s,o){return{instance:n,listener:s,currentTarget:o}}function xo(n,s){for(var o=s+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=tt(n,o),p!=null&&u.unshift(li(n,p,d)),p=tt(n,s),p!=null&&u.push(li(n,p,d))),n=n.return}return u}function Qr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ih(n,s,o,u,d){for(var p=s._reactName,v=[];o!==null&&o!==u;){var _=o,S=_.alternate,N=_.stateNode;if(S!==null&&S===u)break;_.tag===5&&N!==null&&(_=N,d?(S=tt(o,p),S!=null&&v.unshift(li(o,S,_))):d||(S=tt(o,p),S!=null&&v.push(li(o,S,_)))),o=o.return}v.length!==0&&n.push({event:s,listeners:v})}var Wv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function oh(n){return(typeof n=="string"?n:""+n).replace(Wv,`
`).replace(Hv,"")}function So(n,s,o){if(s=oh(s),oh(n)!==s&&o)throw Error(r(425))}function bo(){}var ul=null,cl=null;function dl(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,qv=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(n){return ah.resolve(null).then(n).catch(Gv)}:hl;function Gv(n){setTimeout(function(){throw n})}function fl(n,s){var o=s,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){n.removeChild(d),Qs(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);Qs(s)}function Gn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function lh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Zr,ui="__reactProps$"+Zr,Sn="__reactContainer$"+Zr,pl="__reactEvents$"+Zr,Jv="__reactListeners$"+Zr,Yv="__reactHandles$"+Zr;function wr(n){var s=n[hn];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Sn]||o[hn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=lh(n);n!==null;){if(o=n[hn])return o;n=lh(n)}return s}n=o,o=n.parentNode}return null}function ci(n){return n=n[hn]||n[Sn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function es(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function ko(n){return n[ui]||null}var ml=[],ts=-1;function Jn(n){return{current:n}}function Pe(n){0>ts||(n.current=ml[ts],ml[ts]=null,ts--)}function Ee(n,s){ts++,ml[ts]=n.current,n.current=s}var Yn={},ft=Jn(Yn),xt=Jn(!1),_r=Yn;function ns(n,s){var o=n.type.contextTypes;if(!o)return Yn;var u=n.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=s[p];return u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function St(n){return n=n.childContextTypes,n!=null}function Eo(){Pe(xt),Pe(ft)}function uh(n,s,o){if(ft.current!==Yn)throw Error(r(168));Ee(ft,s),Ee(xt,o)}function ch(n,s,o){var u=n.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in s))throw Error(r(108,xe(n)||"Unknown",d));return H({},o,u)}function To(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yn,_r=ft.current,Ee(ft,n),Ee(xt,xt.current),!0}function dh(n,s,o){var u=n.stateNode;if(!u)throw Error(r(169));o?(n=ch(n,s,_r),u.__reactInternalMemoizedMergedChildContext=n,Pe(xt),Pe(ft),Ee(ft,n)):Pe(xt),Ee(xt,o)}var bn=null,Co=!1,gl=!1;function hh(n){bn===null?bn=[n]:bn.push(n)}function Xv(n){Co=!0,hh(n)}function Xn(){if(!gl&&bn!==null){gl=!0;var n=0,s=ke;try{var o=bn;for(ke=1;n<o.length;n++){var u=o[n];do u=u(!0);while(u!==null)}bn=null,Co=!1}catch(d){throw bn!==null&&(bn=bn.slice(n+1)),pd($a,Xn),d}finally{ke=s,gl=!1}}return null}var rs=[],ss=0,Po=null,Ao=0,Vt=[],Ft=0,xr=null,kn=1,En="";function Sr(n,s){rs[ss++]=Ao,rs[ss++]=Po,Po=n,Ao=s}function fh(n,s,o){Vt[Ft++]=kn,Vt[Ft++]=En,Vt[Ft++]=xr,xr=n;var u=kn;n=En;var d=32-Qt(u)-1;u&=~(1<<d),o+=1;var p=32-Qt(s)+d;if(30<p){var v=d-d%5;p=(u&(1<<v)-1).toString(32),u>>=v,d-=v,kn=1<<32-Qt(s)+d|o<<d|u,En=p+n}else kn=1<<p|o<<d|u,En=n}function yl(n){n.return!==null&&(Sr(n,1),fh(n,1,0))}function vl(n){for(;n===Po;)Po=rs[--ss],rs[ss]=null,Ao=rs[--ss],rs[ss]=null;for(;n===xr;)xr=Vt[--Ft],Vt[Ft]=null,En=Vt[--Ft],Vt[Ft]=null,kn=Vt[--Ft],Vt[Ft]=null}var Ot=null,Nt=null,Re=!1,en=null;function ph(n,s){var o=Kt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=n,s=n.deletions,s===null?(n.deletions=[o],n.flags|=16):s.push(o)}function mh(n,s){switch(n.tag){case 5:var o=n.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Ot=n,Nt=Gn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Ot=n,Nt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=xr!==null?{id:kn,overflow:En}:null,n.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Kt(18,null,null,0),o.stateNode=s,o.return=n,n.child=o,Ot=n,Nt=null,!0):!1;default:return!1}}function wl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _l(n){if(Re){var s=Nt;if(s){var o=s;if(!mh(n,s)){if(wl(n))throw Error(r(418));s=Gn(o.nextSibling);var u=Ot;s&&mh(n,s)?ph(u,o):(n.flags=n.flags&-4097|2,Re=!1,Ot=n)}}else{if(wl(n))throw Error(r(418));n.flags=n.flags&-4097|2,Re=!1,Ot=n}}}function gh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ot=n}function Ro(n){if(n!==Ot)return!1;if(!Re)return gh(n),Re=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!dl(n.type,n.memoizedProps)),s&&(s=Nt)){if(wl(n))throw yh(),Error(r(418));for(;s;)ph(n,s),s=Gn(s.nextSibling)}if(gh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(s===0){Nt=Gn(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}n=n.nextSibling}Nt=null}}else Nt=Ot?Gn(n.stateNode.nextSibling):null;return!0}function yh(){for(var n=Nt;n;)n=Gn(n.nextSibling)}function is(){Nt=Ot=null,Re=!1}function xl(n){en===null?en=[n]:en.push(n)}var Qv=$.ReactCurrentBatchConfig;function di(n,s,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var u=o.stateNode}if(!u)throw Error(r(147,n));var d=u,p=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(v){var _=d.refs;v===null?delete _[p]:_[p]=v},s._stringRef=p,s)}if(typeof n!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,n))}return n}function jo(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function vh(n){var s=n._init;return s(n._payload)}function wh(n){function s(R,C){if(n){var j=R.deletions;j===null?(R.deletions=[C],R.flags|=16):j.push(C)}}function o(R,C){if(!n)return null;for(;C!==null;)s(R,C),C=C.sibling;return null}function u(R,C){for(R=new Map;C!==null;)C.key!==null?R.set(C.key,C):R.set(C.index,C),C=C.sibling;return R}function d(R,C){return R=ir(R,C),R.index=0,R.sibling=null,R}function p(R,C,j){return R.index=j,n?(j=R.alternate,j!==null?(j=j.index,j<C?(R.flags|=2,C):j):(R.flags|=2,C)):(R.flags|=1048576,C)}function v(R){return n&&R.alternate===null&&(R.flags|=2),R}function _(R,C,j,F){return C===null||C.tag!==6?(C=hu(j,R.mode,F),C.return=R,C):(C=d(C,j),C.return=R,C)}function S(R,C,j,F){var re=j.type;return re===te?M(R,C,j.props.children,F,j.key):C!==null&&(C.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===fe&&vh(re)===C.type)?(F=d(C,j.props),F.ref=di(R,C,j),F.return=R,F):(F=ta(j.type,j.key,j.props,null,R.mode,F),F.ref=di(R,C,j),F.return=R,F)}function N(R,C,j,F){return C===null||C.tag!==4||C.stateNode.containerInfo!==j.containerInfo||C.stateNode.implementation!==j.implementation?(C=fu(j,R.mode,F),C.return=R,C):(C=d(C,j.children||[]),C.return=R,C)}function M(R,C,j,F,re){return C===null||C.tag!==7?(C=Rr(j,R.mode,F,re),C.return=R,C):(C=d(C,j),C.return=R,C)}function B(R,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return C=hu(""+C,R.mode,j),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case V:return j=ta(C.type,C.key,C.props,null,R.mode,j),j.ref=di(R,null,C),j.return=R,j;case z:return C=fu(C,R.mode,j),C.return=R,C;case fe:var F=C._init;return B(R,F(C._payload),j)}if(pr(C)||G(C))return C=Rr(C,R.mode,j,null),C.return=R,C;jo(R,C)}return null}function L(R,C,j,F){var re=C!==null?C.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return re!==null?null:_(R,C,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===re?S(R,C,j,F):null;case z:return j.key===re?N(R,C,j,F):null;case fe:return re=j._init,L(R,C,re(j._payload),F)}if(pr(j)||G(j))return re!==null?null:M(R,C,j,F,null);jo(R,j)}return null}function q(R,C,j,F,re){if(typeof F=="string"&&F!==""||typeof F=="number")return R=R.get(j)||null,_(C,R,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return R=R.get(F.key===null?j:F.key)||null,S(C,R,F,re);case z:return R=R.get(F.key===null?j:F.key)||null,N(C,R,F,re);case fe:var ae=F._init;return q(R,C,j,ae(F._payload),re)}if(pr(F)||G(F))return R=R.get(j)||null,M(C,R,F,re,null);jo(C,F)}return null}function ee(R,C,j,F){for(var re=null,ae=null,le=C,pe=C=0,st=null;le!==null&&pe<j.length;pe++){le.index>pe?(st=le,le=null):st=le.sibling;var Se=L(R,le,j[pe],F);if(Se===null){le===null&&(le=st);break}n&&le&&Se.alternate===null&&s(R,le),C=p(Se,C,pe),ae===null?re=Se:ae.sibling=Se,ae=Se,le=st}if(pe===j.length)return o(R,le),Re&&Sr(R,pe),re;if(le===null){for(;pe<j.length;pe++)le=B(R,j[pe],F),le!==null&&(C=p(le,C,pe),ae===null?re=le:ae.sibling=le,ae=le);return Re&&Sr(R,pe),re}for(le=u(R,le);pe<j.length;pe++)st=q(le,R,pe,j[pe],F),st!==null&&(n&&st.alternate!==null&&le.delete(st.key===null?pe:st.key),C=p(st,C,pe),ae===null?re=st:ae.sibling=st,ae=st);return n&&le.forEach(function(or){return s(R,or)}),Re&&Sr(R,pe),re}function ne(R,C,j,F){var re=G(j);if(typeof re!="function")throw Error(r(150));if(j=re.call(j),j==null)throw Error(r(151));for(var ae=re=null,le=C,pe=C=0,st=null,Se=j.next();le!==null&&!Se.done;pe++,Se=j.next()){le.index>pe?(st=le,le=null):st=le.sibling;var or=L(R,le,Se.value,F);if(or===null){le===null&&(le=st);break}n&&le&&or.alternate===null&&s(R,le),C=p(or,C,pe),ae===null?re=or:ae.sibling=or,ae=or,le=st}if(Se.done)return o(R,le),Re&&Sr(R,pe),re;if(le===null){for(;!Se.done;pe++,Se=j.next())Se=B(R,Se.value,F),Se!==null&&(C=p(Se,C,pe),ae===null?re=Se:ae.sibling=Se,ae=Se);return Re&&Sr(R,pe),re}for(le=u(R,le);!Se.done;pe++,Se=j.next())Se=q(le,R,pe,Se.value,F),Se!==null&&(n&&Se.alternate!==null&&le.delete(Se.key===null?pe:Se.key),C=p(Se,C,pe),ae===null?re=Se:ae.sibling=Se,ae=Se);return n&&le.forEach(function(j0){return s(R,j0)}),Re&&Sr(R,pe),re}function Fe(R,C,j,F){if(typeof j=="object"&&j!==null&&j.type===te&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:e:{for(var re=j.key,ae=C;ae!==null;){if(ae.key===re){if(re=j.type,re===te){if(ae.tag===7){o(R,ae.sibling),C=d(ae,j.props.children),C.return=R,R=C;break e}}else if(ae.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===fe&&vh(re)===ae.type){o(R,ae.sibling),C=d(ae,j.props),C.ref=di(R,ae,j),C.return=R,R=C;break e}o(R,ae);break}else s(R,ae);ae=ae.sibling}j.type===te?(C=Rr(j.props.children,R.mode,F,j.key),C.return=R,R=C):(F=ta(j.type,j.key,j.props,null,R.mode,F),F.ref=di(R,C,j),F.return=R,R=F)}return v(R);case z:e:{for(ae=j.key;C!==null;){if(C.key===ae)if(C.tag===4&&C.stateNode.containerInfo===j.containerInfo&&C.stateNode.implementation===j.implementation){o(R,C.sibling),C=d(C,j.children||[]),C.return=R,R=C;break e}else{o(R,C);break}else s(R,C);C=C.sibling}C=fu(j,R.mode,F),C.return=R,R=C}return v(R);case fe:return ae=j._init,Fe(R,C,ae(j._payload),F)}if(pr(j))return ee(R,C,j,F);if(G(j))return ne(R,C,j,F);jo(R,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,C!==null&&C.tag===6?(o(R,C.sibling),C=d(C,j),C.return=R,R=C):(o(R,C),C=hu(j,R.mode,F),C.return=R,R=C),v(R)):o(R,C)}return Fe}var os=wh(!0),_h=wh(!1),Oo=Jn(null),No=null,as=null,Sl=null;function bl(){Sl=as=No=null}function kl(n){var s=Oo.current;Pe(Oo),n._currentValue=s}function El(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function ls(n,s){No=n,Sl=as=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(bt=!0),n.firstContext=null)}function zt(n){var s=n._currentValue;if(Sl!==n)if(n={context:n,memoizedValue:s,next:null},as===null){if(No===null)throw Error(r(308));as=n,No.dependencies={lanes:0,firstContext:n}}else as=as.next=n;return s}var br=null;function Tl(n){br===null?br=[n]:br.push(n)}function xh(n,s,o,u){var d=s.interleaved;return d===null?(o.next=o,Tl(s)):(o.next=d.next,d.next=o),s.interleaved=o,Tn(n,u)}function Tn(n,s){n.lanes|=s;var o=n.alternate;for(o!==null&&(o.lanes|=s),o=n,n=n.return;n!==null;)n.childLanes|=s,o=n.alternate,o!==null&&(o.childLanes|=s),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Qn=!1;function Cl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Cn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Zn(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(_e&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,Tn(n,o)}return d=u.interleaved,d===null?(s.next=s,Tl(u)):(s.next=d.next,d.next=s),u.interleaved=s,Tn(n,o)}function Do(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Va(n,o)}}function bh(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}function Io(n,s,o,u){var d=n.updateQueue;Qn=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var S=_,N=S.next;S.next=null,v===null?p=N:v.next=N,v=S;var M=n.alternate;M!==null&&(M=M.updateQueue,_=M.lastBaseUpdate,_!==v&&(_===null?M.firstBaseUpdate=N:_.next=N,M.lastBaseUpdate=S))}if(p!==null){var B=d.baseState;v=0,M=N=S=null,_=p;do{var L=_.lane,q=_.eventTime;if((u&L)===L){M!==null&&(M=M.next={eventTime:q,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var ee=n,ne=_;switch(L=s,q=o,ne.tag){case 1:if(ee=ne.payload,typeof ee=="function"){B=ee.call(q,B,L);break e}B=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ne.payload,L=typeof ee=="function"?ee.call(q,B,L):ee,L==null)break e;B=H({},B,L);break e;case 2:Qn=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,L=d.effects,L===null?d.effects=[_]:L.push(_))}else q={eventTime:q,lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},M===null?(N=M=q,S=B):M=M.next=q,v|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);if(M===null&&(S=B),d.baseState=S,d.firstBaseUpdate=N,d.lastBaseUpdate=M,s=d.shared.interleaved,s!==null){d=s;do v|=d.lane,d=d.next;while(d!==s)}else p===null&&(d.shared.lanes=0);Tr|=v,n.lanes=v,n.memoizedState=B}}function kh(n,s,o){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var u=n[s],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(r(191,d));d.call(u)}}}var hi={},fn=Jn(hi),fi=Jn(hi),pi=Jn(hi);function kr(n){if(n===hi)throw Error(r(174));return n}function Pl(n,s){switch(Ee(pi,s),Ee(fi,n),Ee(fn,hi),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Vs(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=Vs(s,n)}Pe(fn),Ee(fn,s)}function us(){Pe(fn),Pe(fi),Pe(pi)}function Eh(n){kr(pi.current);var s=kr(fn.current),o=Vs(s,n.type);s!==o&&(Ee(fi,n),Ee(fn,o))}function Al(n){fi.current===n&&(Pe(fn),Pe(fi))}var Oe=Jn(0);function Lo(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rl=[];function jl(){for(var n=0;n<Rl.length;n++)Rl[n]._workInProgressVersionPrimary=null;Rl.length=0}var Mo=$.ReactCurrentDispatcher,Ol=$.ReactCurrentBatchConfig,Er=0,Ne=null,Ye=null,nt=null,$o=!1,mi=!1,gi=0,Zv=0;function pt(){throw Error(r(321))}function Nl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Zt(n[o],s[o]))return!1;return!0}function Dl(n,s,o,u,d,p){if(Er=p,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mo.current=n===null||n.memoizedState===null?r0:s0,n=o(u,d),mi){p=0;do{if(mi=!1,gi=0,25<=p)throw Error(r(301));p+=1,nt=Ye=null,s.updateQueue=null,Mo.current=i0,n=o(u,d)}while(mi)}if(Mo.current=Vo,s=Ye!==null&&Ye.next!==null,Er=0,nt=Ye=Ne=null,$o=!1,s)throw Error(r(300));return n}function Il(){var n=gi!==0;return gi=0,n}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ne.memoizedState=nt=n:nt=nt.next=n,nt}function Wt(){if(Ye===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=nt===null?Ne.memoizedState:nt.next;if(s!==null)nt=s,Ye=n;else{if(n===null)throw Error(r(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?Ne.memoizedState=nt=n:nt=nt.next=n}return nt}function yi(n,s){return typeof s=="function"?s(n):s}function Ll(n){var s=Wt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=Ye,d=u.baseQueue,p=o.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}u.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,u=u.baseState;var _=v=null,S=null,N=p;do{var M=N.lane;if((Er&M)===M)S!==null&&(S=S.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),u=N.hasEagerState?N.eagerState:n(u,N.action);else{var B={lane:M,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};S===null?(_=S=B,v=u):S=S.next=B,Ne.lanes|=M,Tr|=M}N=N.next}while(N!==null&&N!==p);S===null?v=u:S.next=_,Zt(u,s.memoizedState)||(bt=!0),s.memoizedState=u,s.baseState=v,s.baseQueue=S,o.lastRenderedState=u}if(n=o.interleaved,n!==null){d=n;do p=d.lane,Ne.lanes|=p,Tr|=p,d=d.next;while(d!==n)}else d===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Ml(n){var s=Wt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do p=n(p,v.action),v=v.next;while(v!==d);Zt(p,s.memoizedState)||(bt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function Th(){}function Ch(n,s){var o=Ne,u=Wt(),d=s(),p=!Zt(u.memoizedState,d);if(p&&(u.memoizedState=d,bt=!0),u=u.queue,$l(Rh.bind(null,o,u,n),[n]),u.getSnapshot!==s||p||nt!==null&&nt.memoizedState.tag&1){if(o.flags|=2048,vi(9,Ah.bind(null,o,u,d,s),void 0,null),rt===null)throw Error(r(349));(Er&30)!==0||Ph(o,s,d)}return d}function Ph(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s={lastEffect:null,stores:null},Ne.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Ah(n,s,o,u){s.value=o,s.getSnapshot=u,jh(s)&&Oh(n)}function Rh(n,s,o){return o(function(){jh(s)&&Oh(n)})}function jh(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Zt(n,o)}catch{return!0}}function Oh(n){var s=Tn(n,1);s!==null&&sn(s,n,1,-1)}function Nh(n){var s=pn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},s.queue=n,n=n.dispatch=n0.bind(null,Ne,n),[s.memoizedState,n]}function vi(n,s,o,u){return n={tag:n,create:s,destroy:o,deps:u,next:null},s=Ne.updateQueue,s===null?(s={lastEffect:null,stores:null},Ne.updateQueue=s,s.lastEffect=n.next=n):(o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n)),n}function Dh(){return Wt().memoizedState}function Bo(n,s,o,u){var d=pn();Ne.flags|=n,d.memoizedState=vi(1|s,o,void 0,u===void 0?null:u)}function Uo(n,s,o,u){var d=Wt();u=u===void 0?null:u;var p=void 0;if(Ye!==null){var v=Ye.memoizedState;if(p=v.destroy,u!==null&&Nl(u,v.deps)){d.memoizedState=vi(s,o,p,u);return}}Ne.flags|=n,d.memoizedState=vi(1|s,o,p,u)}function Ih(n,s){return Bo(8390656,8,n,s)}function $l(n,s){return Uo(2048,8,n,s)}function Lh(n,s){return Uo(4,2,n,s)}function Mh(n,s){return Uo(4,4,n,s)}function $h(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Bh(n,s,o){return o=o!=null?o.concat([n]):null,Uo(4,4,$h.bind(null,s,n),o)}function Bl(){}function Uh(n,s){var o=Wt();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&Nl(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Vh(n,s){var o=Wt();s=s===void 0?null:s;var u=o.memoizedState;return u!==null&&s!==null&&Nl(s,u[1])?u[0]:(n=n(),o.memoizedState=[n,s],n)}function Fh(n,s,o){return(Er&21)===0?(n.baseState&&(n.baseState=!1,bt=!0),n.memoizedState=o):(Zt(o,s)||(o=vd(),Ne.lanes|=o,Tr|=o,n.baseState=!0),s)}function e0(n,s){var o=ke;ke=o!==0&&4>o?o:4,n(!0);var u=Ol.transition;Ol.transition={};try{n(!1),s()}finally{ke=o,Ol.transition=u}}function zh(){return Wt().memoizedState}function t0(n,s,o){var u=rr(n);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Wh(n))Hh(s,o);else if(o=xh(n,s,o,u),o!==null){var d=wt();sn(o,n,u,d),Kh(o,s,u)}}function n0(n,s,o){var u=rr(n),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wh(n))Hh(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var v=s.lastRenderedState,_=p(v,o);if(d.hasEagerState=!0,d.eagerState=_,Zt(_,v)){var S=s.interleaved;S===null?(d.next=d,Tl(s)):(d.next=S.next,S.next=d),s.interleaved=d;return}}catch{}finally{}o=xh(n,s,d,u),o!==null&&(d=wt(),sn(o,n,u,d),Kh(o,s,u))}}function Wh(n){var s=n.alternate;return n===Ne||s!==null&&s===Ne}function Hh(n,s){mi=$o=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Kh(n,s,o){if((o&4194240)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Va(n,o)}}var Vo={readContext:zt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},r0={readContext:zt,useCallback:function(n,s){return pn().memoizedState=[n,s===void 0?null:s],n},useContext:zt,useEffect:Ih,useImperativeHandle:function(n,s,o){return o=o!=null?o.concat([n]):null,Bo(4194308,4,$h.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Bo(4194308,4,n,s)},useInsertionEffect:function(n,s){return Bo(4,2,n,s)},useMemo:function(n,s){var o=pn();return s=s===void 0?null:s,n=n(),o.memoizedState=[n,s],n},useReducer:function(n,s,o){var u=pn();return s=o!==void 0?o(s):s,u.memoizedState=u.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},u.queue=n,n=n.dispatch=t0.bind(null,Ne,n),[u.memoizedState,n]},useRef:function(n){var s=pn();return n={current:n},s.memoizedState=n},useState:Nh,useDebugValue:Bl,useDeferredValue:function(n){return pn().memoizedState=n},useTransition:function(){var n=Nh(!1),s=n[0];return n=e0.bind(null,n[1]),pn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,o){var u=Ne,d=pn();if(Re){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),rt===null)throw Error(r(349));(Er&30)!==0||Ph(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,Ih(Rh.bind(null,u,p,n),[n]),u.flags|=2048,vi(9,Ah.bind(null,u,p,o,s),void 0,null),o},useId:function(){var n=pn(),s=rt.identifierPrefix;if(Re){var o=En,u=kn;o=(u&~(1<<32-Qt(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=gi++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Zv++,s=":"+s+"r"+o.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},s0={readContext:zt,useCallback:Uh,useContext:zt,useEffect:$l,useImperativeHandle:Bh,useInsertionEffect:Lh,useLayoutEffect:Mh,useMemo:Vh,useReducer:Ll,useRef:Dh,useState:function(){return Ll(yi)},useDebugValue:Bl,useDeferredValue:function(n){var s=Wt();return Fh(s,Ye.memoizedState,n)},useTransition:function(){var n=Ll(yi)[0],s=Wt().memoizedState;return[n,s]},useMutableSource:Th,useSyncExternalStore:Ch,useId:zh,unstable_isNewReconciler:!1},i0={readContext:zt,useCallback:Uh,useContext:zt,useEffect:$l,useImperativeHandle:Bh,useInsertionEffect:Lh,useLayoutEffect:Mh,useMemo:Vh,useReducer:Ml,useRef:Dh,useState:function(){return Ml(yi)},useDebugValue:Bl,useDeferredValue:function(n){var s=Wt();return Ye===null?s.memoizedState=n:Fh(s,Ye.memoizedState,n)},useTransition:function(){var n=Ml(yi)[0],s=Wt().memoizedState;return[n,s]},useMutableSource:Th,useSyncExternalStore:Ch,useId:zh,unstable_isNewReconciler:!1};function tn(n,s){if(n&&n.defaultProps){s=H({},s),n=n.defaultProps;for(var o in n)s[o]===void 0&&(s[o]=n[o]);return s}return s}function Ul(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:H({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Fo={isMounted:function(n){return(n=n._reactInternals)?vr(n)===n:!1},enqueueSetState:function(n,s,o){n=n._reactInternals;var u=wt(),d=rr(n),p=Cn(u,d);p.payload=s,o!=null&&(p.callback=o),s=Zn(n,p,d),s!==null&&(sn(s,n,d,u),Do(s,n,d))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=wt(),d=rr(n),p=Cn(u,d);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Zn(n,p,d),s!==null&&(sn(s,n,d,u),Do(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=wt(),u=rr(n),d=Cn(o,u);d.tag=2,s!=null&&(d.callback=s),s=Zn(n,d,u),s!==null&&(sn(s,n,u,o),Do(s,n,u))}};function qh(n,s,o,u,d,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,v):s.prototype&&s.prototype.isPureReactComponent?!si(o,u)||!si(d,p):!0}function Gh(n,s,o){var u=!1,d=Yn,p=s.contextType;return typeof p=="object"&&p!==null?p=zt(p):(d=St(s)?_r:ft.current,u=s.contextTypes,p=(u=u!=null)?ns(n,d):Yn),s=new s(o,p),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Fo,n.stateNode=s,s._reactInternals=n,u&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=p),s}function Jh(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Fo.enqueueReplaceState(s,s.state,null)}function Vl(n,s,o,u){var d=n.stateNode;d.props=o,d.state=n.memoizedState,d.refs={},Cl(n);var p=s.contextType;typeof p=="object"&&p!==null?d.context=zt(p):(p=St(s)?_r:ft.current,d.context=ns(n,p)),d.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ul(n,s,p,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Fo.enqueueReplaceState(d,d.state,null),Io(n,o,d,u),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function cs(n,s){try{var o="",u=s;do o+=ge(u),u=u.return;while(u);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:s,stack:d,digest:null}}function Fl(n,s,o){return{value:n,source:null,stack:o??null,digest:s??null}}function zl(n,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var o0=typeof WeakMap=="function"?WeakMap:Map;function Yh(n,s,o){o=Cn(-1,o),o.tag=3,o.payload={element:null};var u=s.value;return o.callback=function(){Jo||(Jo=!0,su=u),zl(n,s)},o}function Xh(n,s,o){o=Cn(-1,o),o.tag=3;var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;o.payload=function(){return u(d)},o.callback=function(){zl(n,s)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){zl(n,s),typeof u!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),o}function Qh(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new o0;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(d.add(o),n=_0.bind(null,n,s,o),s.then(n,n))}function Zh(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function ef(n,s,o,u,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Cn(-1,1),s.tag=2,Zn(o,s,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var a0=$.ReactCurrentOwner,bt=!1;function vt(n,s,o,u){s.child=n===null?_h(s,null,o,u):os(s,n.child,o,u)}function tf(n,s,o,u,d){o=o.render;var p=s.ref;return ls(s,d),u=Dl(n,s,o,u,p,d),o=Il(),n!==null&&!bt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Pn(n,s,d)):(Re&&o&&yl(s),s.flags|=1,vt(n,s,u,d),s.child)}function nf(n,s,o,u,d){if(n===null){var p=o.type;return typeof p=="function"&&!du(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=p,rf(n,s,p,u,d)):(n=ta(o.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,(n.lanes&d)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:si,o(v,u)&&n.ref===s.ref)return Pn(n,s,d)}return s.flags|=1,n=ir(p,u),n.ref=s.ref,n.return=s,s.child=n}function rf(n,s,o,u,d){if(n!==null){var p=n.memoizedProps;if(si(p,u)&&n.ref===s.ref)if(bt=!1,s.pendingProps=u=p,(n.lanes&d)!==0)(n.flags&131072)!==0&&(bt=!0);else return s.lanes=n.lanes,Pn(n,s,d)}return Wl(n,s,o,u,d)}function sf(n,s,o){var u=s.pendingProps,d=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(hs,Dt),Dt|=o;else{if((o&1073741824)===0)return n=p!==null?p.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ee(hs,Dt),Dt|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Ee(hs,Dt),Dt|=u}else p!==null?(u=p.baseLanes|o,s.memoizedState=null):u=o,Ee(hs,Dt),Dt|=u;return vt(n,s,d,o),s.child}function of(n,s){var o=s.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Wl(n,s,o,u,d){var p=St(o)?_r:ft.current;return p=ns(s,p),ls(s,d),o=Dl(n,s,o,u,p,d),u=Il(),n!==null&&!bt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,Pn(n,s,d)):(Re&&u&&yl(s),s.flags|=1,vt(n,s,o,d),s.child)}function af(n,s,o,u,d){if(St(o)){var p=!0;To(s)}else p=!1;if(ls(s,d),s.stateNode===null)Wo(n,s),Gh(s,o,u),Vl(s,o,u,d),u=!0;else if(n===null){var v=s.stateNode,_=s.memoizedProps;v.props=_;var S=v.context,N=o.contextType;typeof N=="object"&&N!==null?N=zt(N):(N=St(o)?_r:ft.current,N=ns(s,N));var M=o.getDerivedStateFromProps,B=typeof M=="function"||typeof v.getSnapshotBeforeUpdate=="function";B||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==u||S!==N)&&Jh(s,v,u,N),Qn=!1;var L=s.memoizedState;v.state=L,Io(s,u,v,d),S=s.memoizedState,_!==u||L!==S||xt.current||Qn?(typeof M=="function"&&(Ul(s,o,M,u),S=s.memoizedState),(_=Qn||qh(s,o,_,u,L,S,N))?(B||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=S),v.props=u,v.state=S,v.context=N,u=_):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Sh(n,s),_=s.memoizedProps,N=s.type===s.elementType?_:tn(s.type,_),v.props=N,B=s.pendingProps,L=v.context,S=o.contextType,typeof S=="object"&&S!==null?S=zt(S):(S=St(o)?_r:ft.current,S=ns(s,S));var q=o.getDerivedStateFromProps;(M=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(_!==B||L!==S)&&Jh(s,v,u,S),Qn=!1,L=s.memoizedState,v.state=L,Io(s,u,v,d);var ee=s.memoizedState;_!==B||L!==ee||xt.current||Qn?(typeof q=="function"&&(Ul(s,o,q,u),ee=s.memoizedState),(N=Qn||qh(s,o,N,u,L,ee,S)||!1)?(M||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ee,S),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ee,S)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||_===n.memoizedProps&&L===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&L===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),v.props=u,v.state=ee,v.context=S,u=N):(typeof v.componentDidUpdate!="function"||_===n.memoizedProps&&L===n.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&L===n.memoizedState||(s.flags|=1024),u=!1)}return Hl(n,s,o,u,p,d)}function Hl(n,s,o,u,d,p){of(n,s);var v=(s.flags&128)!==0;if(!u&&!v)return d&&dh(s,o,!1),Pn(n,s,p);u=s.stateNode,a0.current=s;var _=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,n!==null&&v?(s.child=os(s,n.child,null,p),s.child=os(s,null,_,p)):vt(n,s,_,p),s.memoizedState=u.state,d&&dh(s,o,!0),s.child}function lf(n){var s=n.stateNode;s.pendingContext?uh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&uh(n,s.context,!1),Pl(n,s.containerInfo)}function uf(n,s,o,u,d){return is(),xl(d),s.flags|=256,vt(n,s,o,u),s.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function ql(n){return{baseLanes:n,cachePool:null,transitions:null}}function cf(n,s,o){var u=s.pendingProps,d=Oe.current,p=!1,v=(s.flags&128)!==0,_;if((_=v)||(_=n!==null&&n.memoizedState===null?!1:(d&2)!==0),_?(p=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ee(Oe,d&1),n===null)return _l(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=u.children,n=u.fallback,p?(u=s.mode,p=s.child,v={mode:"hidden",children:v},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=na(v,u,0,null),n=Rr(n,u,o,null),p.return=s,n.return=s,p.sibling=n,s.child=p,s.child.memoizedState=ql(o),s.memoizedState=Kl,n):Gl(s,v));if(d=n.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return l0(n,s,v,u,_,d,o);if(p){p=u.fallback,v=s.mode,d=n.child,_=d.sibling;var S={mode:"hidden",children:u.children};return(v&1)===0&&s.child!==d?(u=s.child,u.childLanes=0,u.pendingProps=S,s.deletions=null):(u=ir(d,S),u.subtreeFlags=d.subtreeFlags&14680064),_!==null?p=ir(_,p):(p=Rr(p,v,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,v=n.child.memoizedState,v=v===null?ql(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=n.childLanes&~o,s.memoizedState=Kl,u}return p=n.child,n=p.sibling,u=ir(p,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=o),u.return=s,u.sibling=null,n!==null&&(o=s.deletions,o===null?(s.deletions=[n],s.flags|=16):o.push(n)),s.child=u,s.memoizedState=null,u}function Gl(n,s){return s=na({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function zo(n,s,o,u){return u!==null&&xl(u),os(s,n.child,null,o),n=Gl(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function l0(n,s,o,u,d,p,v){if(o)return s.flags&256?(s.flags&=-257,u=Fl(Error(r(422))),zo(n,s,v,u)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(p=u.fallback,d=s.mode,u=na({mode:"visible",children:u.children},d,0,null),p=Rr(p,d,v,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,(s.mode&1)!==0&&os(s,n.child,null,v),s.child.memoizedState=ql(v),s.memoizedState=Kl,p);if((s.mode&1)===0)return zo(n,s,v,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var _=u.dgst;return u=_,p=Error(r(419)),u=Fl(p,u,void 0),zo(n,s,v,u)}if(_=(v&n.childLanes)!==0,bt||_){if(u=rt,u!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|v))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,Tn(n,d),sn(u,n,d,-1))}return cu(),u=Fl(Error(r(421))),zo(n,s,v,u)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=x0.bind(null,n),d._reactRetry=s,null):(n=p.treeContext,Nt=Gn(d.nextSibling),Ot=s,Re=!0,en=null,n!==null&&(Vt[Ft++]=kn,Vt[Ft++]=En,Vt[Ft++]=xr,kn=n.id,En=n.overflow,xr=s),s=Gl(s,u.children),s.flags|=4096,s)}function df(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),El(n.return,s,o)}function Jl(n,s,o,u,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function hf(n,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;if(vt(n,s,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&df(n,o,s);else if(n.tag===19)df(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}if(Ee(Oe,u),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(o=s.child,d=null;o!==null;)n=o.alternate,n!==null&&Lo(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Jl(s,!1,d,o,p);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Lo(n)===null){s.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}Jl(s,!0,o,null,p);break;case"together":Jl(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wo(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Pn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Tr|=s.lanes,(o&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=ir(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=ir(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function u0(n,s,o){switch(s.tag){case 3:lf(s),is();break;case 5:Eh(s);break;case 1:St(s.type)&&To(s);break;case 4:Pl(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,d=s.memoizedProps.value;Ee(Oo,u._currentValue),u._currentValue=d;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Ee(Oe,Oe.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?cf(n,s,o):(Ee(Oe,Oe.current&1),n=Pn(n,s,o),n!==null?n.sibling:null);Ee(Oe,Oe.current&1);break;case 19:if(u=(o&s.childLanes)!==0,(n.flags&128)!==0){if(u)return hf(n,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ee(Oe,Oe.current),u)break;return null;case 22:case 23:return s.lanes=0,sf(n,s,o)}return Pn(n,s,o)}var ff,Yl,pf,mf;ff=function(n,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Yl=function(){},pf=function(n,s,o,u){var d=n.memoizedProps;if(d!==u){n=s.stateNode,kr(fn.current);var p=null;switch(o){case"input":d=fr(n,d),u=fr(n,u),p=[];break;case"select":d=H({},d,{value:void 0}),u=H({},u,{value:void 0}),p=[];break;case"textarea":d=it(n,d),u=it(n,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(n.onclick=bo)}Kr(o,u);var v;o=null;for(N in d)if(!u.hasOwnProperty(N)&&d.hasOwnProperty(N)&&d[N]!=null)if(N==="style"){var _=d[N];for(v in _)_.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?p||(p=[]):(p=p||[]).push(N,null));for(N in u){var S=u[N];if(_=d!=null?d[N]:void 0,u.hasOwnProperty(N)&&S!==_&&(S!=null||_!=null))if(N==="style")if(_){for(v in _)!_.hasOwnProperty(v)||S&&S.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in S)S.hasOwnProperty(v)&&_[v]!==S[v]&&(o||(o={}),o[v]=S[v])}else o||(p||(p=[]),p.push(N,o)),o=S;else N==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,_=_?_.__html:void 0,S!=null&&_!==S&&(p=p||[]).push(N,S)):N==="children"?typeof S!="string"&&typeof S!="number"||(p=p||[]).push(N,""+S):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(S!=null&&N==="onScroll"&&Ce("scroll",n),p||_===S||(p=[])):(p=p||[]).push(N,S))}o&&(p=p||[]).push("style",o);var N=p;(s.updateQueue=N)&&(s.flags|=4)}},mf=function(n,s,o,u){o!==u&&(s.flags|=4)};function wi(n,s){if(!Re)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function c0(n,s,o){var u=s.pendingProps;switch(vl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return St(s.type)&&Eo(),mt(s),null;case 3:return u=s.stateNode,us(),Pe(xt),Pe(ft),jl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(Ro(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,en!==null&&(au(en),en=null))),Yl(n,s),mt(s),null;case 5:Al(s);var d=kr(pi.current);if(o=s.type,n!==null&&s.stateNode!=null)pf(n,s,o,u,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(r(166));return mt(s),null}if(n=kr(fn.current),Ro(s)){u=s.stateNode,o=s.type;var p=s.memoizedProps;switch(u[hn]=s,u[ui]=p,n=(s.mode&1)!==0,o){case"dialog":Ce("cancel",u),Ce("close",u);break;case"iframe":case"object":case"embed":Ce("load",u);break;case"video":case"audio":for(d=0;d<oi.length;d++)Ce(oi[d],u);break;case"source":Ce("error",u);break;case"img":case"image":case"link":Ce("error",u),Ce("load",u);break;case"details":Ce("toggle",u);break;case"input":Xi(u,p),Ce("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Ce("invalid",u);break;case"textarea":_n(u,p),Ce("invalid",u)}Kr(o,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var _=p[v];v==="children"?typeof _=="string"?u.textContent!==_&&(p.suppressHydrationWarning!==!0&&So(u.textContent,_,n),d=["children",_]):typeof _=="number"&&u.textContent!==""+_&&(p.suppressHydrationWarning!==!0&&So(u.textContent,_,n),d=["children",""+_]):a.hasOwnProperty(v)&&_!=null&&v==="onScroll"&&Ce("scroll",u)}switch(o){case"input":zr(u),Us(u,p,!0);break;case"textarea":zr(u),Zi(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=bo)}u=d,s.updateQueue=u,u!==null&&(s.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mr(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof u.is=="string"?n=v.createElement(o,{is:u.is}):(n=v.createElement(o),o==="select"&&(v=n,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):n=v.createElementNS(n,o),n[hn]=s,n[ui]=u,ff(n,s,!1,!1),s.stateNode=n;e:{switch(v=Fs(o,u),o){case"dialog":Ce("cancel",n),Ce("close",n),d=u;break;case"iframe":case"object":case"embed":Ce("load",n),d=u;break;case"video":case"audio":for(d=0;d<oi.length;d++)Ce(oi[d],n);d=u;break;case"source":Ce("error",n),d=u;break;case"img":case"image":case"link":Ce("error",n),Ce("load",n),d=u;break;case"details":Ce("toggle",n),d=u;break;case"input":Xi(n,u),d=fr(n,u),Ce("invalid",n);break;case"option":d=u;break;case"select":n._wrapperState={wasMultiple:!!u.multiple},d=H({},u,{value:void 0}),Ce("invalid",n);break;case"textarea":_n(n,u),d=it(n,u),Ce("invalid",n);break;default:d=u}Kr(o,d),_=d;for(p in _)if(_.hasOwnProperty(p)){var S=_[p];p==="style"?to(n,S):p==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Hr(n,S)):p==="children"?typeof S=="string"?(o!=="textarea"||S!=="")&&$t(n,S):typeof S=="number"&&$t(n,""+S):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?S!=null&&p==="onScroll"&&Ce("scroll",n):S!=null&&O(n,p,S,v))}switch(o){case"input":zr(n),Us(n,u,!1);break;case"textarea":zr(n),Zi(n);break;case"option":u.value!=null&&n.setAttribute("value",""+we(u.value));break;case"select":n.multiple=!!u.multiple,p=u.value,p!=null?In(n,!!u.multiple,p,!1):u.defaultValue!=null&&In(n,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=bo)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mt(s),null;case 6:if(n&&s.stateNode!=null)mf(n,s,n.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(o=kr(pi.current),kr(fn.current),Ro(s)){if(u=s.stateNode,o=s.memoizedProps,u[hn]=s,(p=u.nodeValue!==o)&&(n=Ot,n!==null))switch(n.tag){case 3:So(u.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&So(u.nodeValue,o,(n.mode&1)!==0)}p&&(s.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[hn]=s,s.stateNode=u}return mt(s),null;case 13:if(Pe(Oe),u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Re&&Nt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)yh(),is(),s.flags|=98560,p=!1;else if(p=Ro(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[hn]=s}else is(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),p=!1}else en!==null&&(au(en),en=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(u=u!==null,u!==(n!==null&&n.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Oe.current&1)!==0?Xe===0&&(Xe=3):cu())),s.updateQueue!==null&&(s.flags|=4),mt(s),null);case 4:return us(),Yl(n,s),n===null&&ai(s.stateNode.containerInfo),mt(s),null;case 10:return kl(s.type._context),mt(s),null;case 17:return St(s.type)&&Eo(),mt(s),null;case 19:if(Pe(Oe),p=s.memoizedState,p===null)return mt(s),null;if(u=(s.flags&128)!==0,v=p.rendering,v===null)if(u)wi(p,!1);else{if(Xe!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(v=Lo(n),v!==null){for(s.flags|=128,wi(p,!1),u=v.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=o,o=s.child;o!==null;)p=o,n=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,n=v.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Ee(Oe,Oe.current&1|2),s.child}n=n.sibling}p.tail!==null&&Ve()>fs&&(s.flags|=128,u=!0,wi(p,!1),s.lanes=4194304)}else{if(!u)if(n=Lo(v),n!==null){if(s.flags|=128,u=!0,o=n.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),wi(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Re)return mt(s),null}else 2*Ve()-p.renderingStartTime>fs&&o!==1073741824&&(s.flags|=128,u=!0,wi(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(o=p.last,o!==null?o.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ve(),s.sibling=null,o=Oe.current,Ee(Oe,u?o&1|2:o&1),s):(mt(s),null);case 22:case 23:return uu(),u=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Dt&1073741824)!==0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function d0(n,s){switch(vl(s),s.tag){case 1:return St(s.type)&&Eo(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return us(),Pe(xt),Pe(ft),jl(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Al(s),null;case 13:if(Pe(Oe),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));is()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Pe(Oe),null;case 4:return us(),null;case 10:return kl(s.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Ho=!1,gt=!1,h0=typeof WeakSet=="function"?WeakSet:Set,X=null;function ds(n,s){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Le(n,s,u)}else o.current=null}function Xl(n,s,o){try{o()}catch(u){Le(n,s,u)}}var gf=!1;function f0(n,s){if(ul=co,n=qd(),tl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,_=-1,S=-1,N=0,M=0,B=n,L=null;t:for(;;){for(var q;B!==o||d!==0&&B.nodeType!==3||(_=v+d),B!==p||u!==0&&B.nodeType!==3||(S=v+u),B.nodeType===3&&(v+=B.nodeValue.length),(q=B.firstChild)!==null;)L=B,B=q;for(;;){if(B===n)break t;if(L===o&&++N===d&&(_=v),L===p&&++M===u&&(S=v),(q=B.nextSibling)!==null)break;B=L,L=B.parentNode}B=q}o=_===-1||S===-1?null:{start:_,end:S}}else o=null}o=o||{start:0,end:0}}else o=null;for(cl={focusedElem:n,selectionRange:o},co=!1,X=s;X!==null;)if(s=X,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,X=n;else for(;X!==null;){s=X;try{var ee=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var ne=ee.memoizedProps,Fe=ee.memoizedState,R=s.stateNode,C=R.getSnapshotBeforeUpdate(s.elementType===s.type?ne:tn(s.type,ne),Fe);R.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(F){Le(s,s.return,F)}if(n=s.sibling,n!==null){n.return=s.return,X=n;break}X=s.return}return ee=gf,gf=!1,ee}function _i(n,s,o){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&n)===n){var p=d.destroy;d.destroy=void 0,p!==void 0&&Xl(s,o,p)}d=d.next}while(d!==u)}}function Ko(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&n)===n){var u=o.create;o.destroy=u()}o=o.next}while(o!==s)}}function Ql(n){var s=n.ref;if(s!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof s=="function"?s(n):s.current=n}}function yf(n){var s=n.alternate;s!==null&&(n.alternate=null,yf(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[hn],delete s[ui],delete s[pl],delete s[Jv],delete s[Yv])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function vf(n){return n.tag===5||n.tag===3||n.tag===4}function wf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zl(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(n,s):o.insertBefore(n,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(n,o)):(s=o,s.appendChild(n)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=bo));else if(u!==4&&(n=n.child,n!==null))for(Zl(n,s,o),n=n.sibling;n!==null;)Zl(n,s,o),n=n.sibling}function eu(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(n=n.child,n!==null))for(eu(n,s,o),n=n.sibling;n!==null;)eu(n,s,o),n=n.sibling}var at=null,nn=!1;function er(n,s,o){for(o=o.child;o!==null;)_f(n,s,o),o=o.sibling}function _f(n,s,o){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(so,o)}catch{}switch(o.tag){case 5:gt||ds(o,s);case 6:var u=at,d=nn;at=null,er(n,s,o),at=u,nn=d,at!==null&&(nn?(n=at,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):at.removeChild(o.stateNode));break;case 18:at!==null&&(nn?(n=at,o=o.stateNode,n.nodeType===8?fl(n.parentNode,o):n.nodeType===1&&fl(n,o),Qs(n)):fl(at,o.stateNode));break;case 4:u=at,d=nn,at=o.stateNode.containerInfo,nn=!0,er(n,s,o),at=u,nn=d;break;case 0:case 11:case 14:case 15:if(!gt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Xl(o,s,v),d=d.next}while(d!==u)}er(n,s,o);break;case 1:if(!gt&&(ds(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(_){Le(o,s,_)}er(n,s,o);break;case 21:er(n,s,o);break;case 22:o.mode&1?(gt=(u=gt)||o.memoizedState!==null,er(n,s,o),gt=u):er(n,s,o);break;default:er(n,s,o)}}function xf(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new h0),s.forEach(function(u){var d=S0.bind(null,n,u);o.has(u)||(o.add(u),u.then(d,d))})}}function rn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var p=n,v=s,_=v;e:for(;_!==null;){switch(_.tag){case 5:at=_.stateNode,nn=!1;break e;case 3:at=_.stateNode.containerInfo,nn=!0;break e;case 4:at=_.stateNode.containerInfo,nn=!0;break e}_=_.return}if(at===null)throw Error(r(160));_f(p,v,d),at=null,nn=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(N){Le(d,s,N)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sf(s,n),s=s.sibling}function Sf(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(rn(s,n),mn(n),u&4){try{_i(3,n,n.return),Ko(3,n)}catch(ne){Le(n,n.return,ne)}try{_i(5,n,n.return)}catch(ne){Le(n,n.return,ne)}}break;case 1:rn(s,n),mn(n),u&512&&o!==null&&ds(o,o.return);break;case 5:if(rn(s,n),mn(n),u&512&&o!==null&&ds(o,o.return),n.flags&32){var d=n.stateNode;try{$t(d,"")}catch(ne){Le(n,n.return,ne)}}if(u&4&&(d=n.stateNode,d!=null)){var p=n.memoizedProps,v=o!==null?o.memoizedProps:p,_=n.type,S=n.updateQueue;if(n.updateQueue=null,S!==null)try{_==="input"&&p.type==="radio"&&p.name!=null&&Bs(d,p),Fs(_,v);var N=Fs(_,p);for(v=0;v<S.length;v+=2){var M=S[v],B=S[v+1];M==="style"?to(d,B):M==="dangerouslySetInnerHTML"?Hr(d,B):M==="children"?$t(d,B):O(d,M,B,N)}switch(_){case"input":wn(d,p);break;case"textarea":Qi(d,p);break;case"select":var L=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var q=p.value;q!=null?In(d,!!p.multiple,q,!1):L!==!!p.multiple&&(p.defaultValue!=null?In(d,!!p.multiple,p.defaultValue,!0):In(d,!!p.multiple,p.multiple?[]:"",!1))}d[ui]=p}catch(ne){Le(n,n.return,ne)}}break;case 6:if(rn(s,n),mn(n),u&4){if(n.stateNode===null)throw Error(r(162));d=n.stateNode,p=n.memoizedProps;try{d.nodeValue=p}catch(ne){Le(n,n.return,ne)}}break;case 3:if(rn(s,n),mn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Qs(s.containerInfo)}catch(ne){Le(n,n.return,ne)}break;case 4:rn(s,n),mn(n);break;case 13:rn(s,n),mn(n),d=n.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(ru=Ve())),u&4&&xf(n);break;case 22:if(M=o!==null&&o.memoizedState!==null,n.mode&1?(gt=(N=gt)||M,rn(s,n),gt=N):rn(s,n),mn(n),u&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!M&&(n.mode&1)!==0)for(X=n,M=n.child;M!==null;){for(B=X=M;X!==null;){switch(L=X,q=L.child,L.tag){case 0:case 11:case 14:case 15:_i(4,L,L.return);break;case 1:ds(L,L.return);var ee=L.stateNode;if(typeof ee.componentWillUnmount=="function"){u=L,o=L.return;try{s=u,ee.props=s.memoizedProps,ee.state=s.memoizedState,ee.componentWillUnmount()}catch(ne){Le(u,o,ne)}}break;case 5:ds(L,L.return);break;case 22:if(L.memoizedState!==null){Ef(B);continue}}q!==null?(q.return=L,X=q):Ef(B)}M=M.sibling}e:for(M=null,B=n;;){if(B.tag===5){if(M===null){M=B;try{d=B.stateNode,N?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(_=B.stateNode,S=B.memoizedProps.style,v=S!=null&&S.hasOwnProperty("display")?S.display:null,_.style.display=eo("display",v))}catch(ne){Le(n,n.return,ne)}}}else if(B.tag===6){if(M===null)try{B.stateNode.nodeValue=N?"":B.memoizedProps}catch(ne){Le(n,n.return,ne)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===n)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===n)break e;for(;B.sibling===null;){if(B.return===null||B.return===n)break e;M===B&&(M=null),B=B.return}M===B&&(M=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:rn(s,n),mn(n),u&4&&xf(n);break;case 21:break;default:rn(s,n),mn(n)}}function mn(n){var s=n.flags;if(s&2){try{e:{for(var o=n.return;o!==null;){if(vf(o)){var u=o;break e}o=o.return}throw Error(r(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&($t(d,""),u.flags&=-33);var p=wf(n);eu(n,p,d);break;case 3:case 4:var v=u.stateNode.containerInfo,_=wf(n);Zl(n,_,v);break;default:throw Error(r(161))}}catch(S){Le(n,n.return,S)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function p0(n,s,o){X=n,bf(n)}function bf(n,s,o){for(var u=(n.mode&1)!==0;X!==null;){var d=X,p=d.child;if(d.tag===22&&u){var v=d.memoizedState!==null||Ho;if(!v){var _=d.alternate,S=_!==null&&_.memoizedState!==null||gt;_=Ho;var N=gt;if(Ho=v,(gt=S)&&!N)for(X=d;X!==null;)v=X,S=v.child,v.tag===22&&v.memoizedState!==null?Tf(d):S!==null?(S.return=v,X=S):Tf(d);for(;p!==null;)X=p,bf(p),p=p.sibling;X=d,Ho=_,gt=N}kf(n)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,X=p):kf(n)}}function kf(n){for(;X!==null;){var s=X;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gt||Ko(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!gt)if(o===null)u.componentDidMount();else{var d=s.elementType===s.type?o.memoizedProps:tn(s.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&kh(s,p,u);break;case 3:var v=s.updateQueue;if(v!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}kh(s,v,o)}break;case 5:var _=s.stateNode;if(o===null&&s.flags&4){o=_;var S=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&o.focus();break;case"img":S.src&&(o.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var N=s.alternate;if(N!==null){var M=N.memoizedState;if(M!==null){var B=M.dehydrated;B!==null&&Qs(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}gt||s.flags&512&&Ql(s)}catch(L){Le(s,s.return,L)}}if(s===n){X=null;break}if(o=s.sibling,o!==null){o.return=s.return,X=o;break}X=s.return}}function Ef(n){for(;X!==null;){var s=X;if(s===n){X=null;break}var o=s.sibling;if(o!==null){o.return=s.return,X=o;break}X=s.return}}function Tf(n){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Ko(4,s)}catch(S){Le(s,o,S)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var d=s.return;try{u.componentDidMount()}catch(S){Le(s,d,S)}}var p=s.return;try{Ql(s)}catch(S){Le(s,p,S)}break;case 5:var v=s.return;try{Ql(s)}catch(S){Le(s,v,S)}}}catch(S){Le(s,s.return,S)}if(s===n){X=null;break}var _=s.sibling;if(_!==null){_.return=s.return,X=_;break}X=s.return}}var m0=Math.ceil,qo=$.ReactCurrentDispatcher,tu=$.ReactCurrentOwner,Ht=$.ReactCurrentBatchConfig,_e=0,rt=null,He=null,lt=0,Dt=0,hs=Jn(0),Xe=0,xi=null,Tr=0,Go=0,nu=0,Si=null,kt=null,ru=0,fs=1/0,An=null,Jo=!1,su=null,tr=null,Yo=!1,nr=null,Xo=0,bi=0,iu=null,Qo=-1,Zo=0;function wt(){return(_e&6)!==0?Ve():Qo!==-1?Qo:Qo=Ve()}function rr(n){return(n.mode&1)===0?1:(_e&2)!==0&&lt!==0?lt&-lt:Qv.transition!==null?(Zo===0&&(Zo=vd()),Zo):(n=ke,n!==0||(n=window.event,n=n===void 0?16:Cd(n.type)),n)}function sn(n,s,o,u){if(50<bi)throw bi=0,iu=null,Error(r(185));qs(n,o,u),((_e&2)===0||n!==rt)&&(n===rt&&((_e&2)===0&&(Go|=o),Xe===4&&sr(n,lt)),Et(n,u),o===1&&_e===0&&(s.mode&1)===0&&(fs=Ve()+500,Co&&Xn()))}function Et(n,s){var o=n.callbackNode;Qy(n,s);var u=ao(n,n===rt?lt:0);if(u===0)o!==null&&md(o),n.callbackNode=null,n.callbackPriority=0;else if(s=u&-u,n.callbackPriority!==s){if(o!=null&&md(o),s===1)n.tag===0?Xv(Pf.bind(null,n)):hh(Pf.bind(null,n)),qv(function(){(_e&6)===0&&Xn()}),o=null;else{switch(wd(u)){case 1:o=$a;break;case 4:o=gd;break;case 16:o=ro;break;case 536870912:o=yd;break;default:o=ro}o=Lf(o,Cf.bind(null,n))}n.callbackPriority=s,n.callbackNode=o}}function Cf(n,s){if(Qo=-1,Zo=0,(_e&6)!==0)throw Error(r(327));var o=n.callbackNode;if(ps()&&n.callbackNode!==o)return null;var u=ao(n,n===rt?lt:0);if(u===0)return null;if((u&30)!==0||(u&n.expiredLanes)!==0||s)s=ea(n,u);else{s=u;var d=_e;_e|=2;var p=Rf();(rt!==n||lt!==s)&&(An=null,fs=Ve()+500,Pr(n,s));do try{v0();break}catch(_){Af(n,_)}while(!0);bl(),qo.current=p,_e=d,He!==null?s=0:(rt=null,lt=0,s=Xe)}if(s!==0){if(s===2&&(d=Ba(n),d!==0&&(u=d,s=ou(n,d))),s===1)throw o=xi,Pr(n,0),sr(n,u),Et(n,Ve()),o;if(s===6)sr(n,u);else{if(d=n.current.alternate,(u&30)===0&&!g0(d)&&(s=ea(n,u),s===2&&(p=Ba(n),p!==0&&(u=p,s=ou(n,p))),s===1))throw o=xi,Pr(n,0),sr(n,u),Et(n,Ve()),o;switch(n.finishedWork=d,n.finishedLanes=u,s){case 0:case 1:throw Error(r(345));case 2:Ar(n,kt,An);break;case 3:if(sr(n,u),(u&130023424)===u&&(s=ru+500-Ve(),10<s)){if(ao(n,0)!==0)break;if(d=n.suspendedLanes,(d&u)!==u){wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=hl(Ar.bind(null,n,kt,An),s);break}Ar(n,kt,An);break;case 4:if(sr(n,u),(u&4194240)===u)break;for(s=n.eventTimes,d=-1;0<u;){var v=31-Qt(u);p=1<<v,v=s[v],v>d&&(d=v),u&=~p}if(u=d,u=Ve()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*m0(u/1960))-u,10<u){n.timeoutHandle=hl(Ar.bind(null,n,kt,An),u);break}Ar(n,kt,An);break;case 5:Ar(n,kt,An);break;default:throw Error(r(329))}}}return Et(n,Ve()),n.callbackNode===o?Cf.bind(null,n):null}function ou(n,s){var o=Si;return n.current.memoizedState.isDehydrated&&(Pr(n,s).flags|=256),n=ea(n,s),n!==2&&(s=kt,kt=o,s!==null&&au(s)),n}function au(n){kt===null?kt=n:kt.push.apply(kt,n)}function g0(n){for(var s=n;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Zt(p(),d))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function sr(n,s){for(s&=~nu,s&=~Go,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var o=31-Qt(s),u=1<<o;n[o]=-1,s&=~u}}function Pf(n){if((_e&6)!==0)throw Error(r(327));ps();var s=ao(n,0);if((s&1)===0)return Et(n,Ve()),null;var o=ea(n,s);if(n.tag!==0&&o===2){var u=Ba(n);u!==0&&(s=u,o=ou(n,u))}if(o===1)throw o=xi,Pr(n,0),sr(n,s),Et(n,Ve()),o;if(o===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Ar(n,kt,An),Et(n,Ve()),null}function lu(n,s){var o=_e;_e|=1;try{return n(s)}finally{_e=o,_e===0&&(fs=Ve()+500,Co&&Xn())}}function Cr(n){nr!==null&&nr.tag===0&&(_e&6)===0&&ps();var s=_e;_e|=1;var o=Ht.transition,u=ke;try{if(Ht.transition=null,ke=1,n)return n()}finally{ke=u,Ht.transition=o,_e=s,(_e&6)===0&&Xn()}}function uu(){Dt=hs.current,Pe(hs)}function Pr(n,s){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,Kv(o)),He!==null)for(o=He.return;o!==null;){var u=o;switch(vl(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Eo();break;case 3:us(),Pe(xt),Pe(ft),jl();break;case 5:Al(u);break;case 4:us();break;case 13:Pe(Oe);break;case 19:Pe(Oe);break;case 10:kl(u.type._context);break;case 22:case 23:uu()}o=o.return}if(rt=n,He=n=ir(n.current,null),lt=Dt=s,Xe=0,xi=null,nu=Go=Tr=0,kt=Si=null,br!==null){for(s=0;s<br.length;s++)if(o=br[s],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=d,u.next=v}o.pending=u}br=null}return n}function Af(n,s){do{var o=He;try{if(bl(),Mo.current=Vo,$o){for(var u=Ne.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}$o=!1}if(Er=0,nt=Ye=Ne=null,mi=!1,gi=0,tu.current=null,o===null||o.return===null){Xe=1,xi=s,He=null;break}e:{var p=n,v=o.return,_=o,S=s;if(s=lt,_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var N=S,M=_,B=M.tag;if((M.mode&1)===0&&(B===0||B===11||B===15)){var L=M.alternate;L?(M.updateQueue=L.updateQueue,M.memoizedState=L.memoizedState,M.lanes=L.lanes):(M.updateQueue=null,M.memoizedState=null)}var q=Zh(v);if(q!==null){q.flags&=-257,ef(q,v,_,p,s),q.mode&1&&Qh(p,N,s),s=q,S=N;var ee=s.updateQueue;if(ee===null){var ne=new Set;ne.add(S),s.updateQueue=ne}else ee.add(S);break e}else{if((s&1)===0){Qh(p,N,s),cu();break e}S=Error(r(426))}}else if(Re&&_.mode&1){var Fe=Zh(v);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),ef(Fe,v,_,p,s),xl(cs(S,_));break e}}p=S=cs(S,_),Xe!==4&&(Xe=2),Si===null?Si=[p]:Si.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var R=Yh(p,S,s);bh(p,R);break e;case 1:_=S;var C=p.type,j=p.stateNode;if((p.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(tr===null||!tr.has(j)))){p.flags|=65536,s&=-s,p.lanes|=s;var F=Xh(p,_,s);bh(p,F);break e}}p=p.return}while(p!==null)}Of(o)}catch(re){s=re,He===o&&o!==null&&(He=o=o.return);continue}break}while(!0)}function Rf(){var n=qo.current;return qo.current=Vo,n===null?Vo:n}function cu(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||(Tr&268435455)===0&&(Go&268435455)===0||sr(rt,lt)}function ea(n,s){var o=_e;_e|=2;var u=Rf();(rt!==n||lt!==s)&&(An=null,Pr(n,s));do try{y0();break}catch(d){Af(n,d)}while(!0);if(bl(),_e=o,qo.current=u,He!==null)throw Error(r(261));return rt=null,lt=0,Xe}function y0(){for(;He!==null;)jf(He)}function v0(){for(;He!==null&&!zy();)jf(He)}function jf(n){var s=If(n.alternate,n,Dt);n.memoizedProps=n.pendingProps,s===null?Of(n):He=s,tu.current=null}function Of(n){var s=n;do{var o=s.alternate;if(n=s.return,(s.flags&32768)===0){if(o=c0(o,s,Dt),o!==null){He=o;return}}else{if(o=d0(o,s),o!==null){o.flags&=32767,He=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Xe=6,He=null;return}}if(s=s.sibling,s!==null){He=s;return}He=s=n}while(s!==null);Xe===0&&(Xe=5)}function Ar(n,s,o){var u=ke,d=Ht.transition;try{Ht.transition=null,ke=1,w0(n,s,o,u)}finally{Ht.transition=d,ke=u}return null}function w0(n,s,o,u){do ps();while(nr!==null);if((_e&6)!==0)throw Error(r(327));o=n.finishedWork;var d=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var p=o.lanes|o.childLanes;if(Zy(n,p),n===rt&&(He=rt=null,lt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Yo||(Yo=!0,Lf(ro,function(){return ps(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Ht.transition,Ht.transition=null;var v=ke;ke=1;var _=_e;_e|=4,tu.current=null,f0(n,o),Sf(o,n),Bv(cl),co=!!ul,cl=ul=null,n.current=o,p0(o),Wy(),_e=_,ke=v,Ht.transition=p}else n.current=o;if(Yo&&(Yo=!1,nr=n,Xo=d),p=n.pendingLanes,p===0&&(tr=null),qy(o.stateNode),Et(n,Ve()),s!==null)for(u=n.onRecoverableError,o=0;o<s.length;o++)d=s[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Jo)throw Jo=!1,n=su,su=null,n;return(Xo&1)!==0&&n.tag!==0&&ps(),p=n.pendingLanes,(p&1)!==0?n===iu?bi++:(bi=0,iu=n):bi=0,Xn(),null}function ps(){if(nr!==null){var n=wd(Xo),s=Ht.transition,o=ke;try{if(Ht.transition=null,ke=16>n?16:n,nr===null)var u=!1;else{if(n=nr,nr=null,Xo=0,(_e&6)!==0)throw Error(r(331));var d=_e;for(_e|=4,X=n.current;X!==null;){var p=X,v=p.child;if((X.flags&16)!==0){var _=p.deletions;if(_!==null){for(var S=0;S<_.length;S++){var N=_[S];for(X=N;X!==null;){var M=X;switch(M.tag){case 0:case 11:case 15:_i(8,M,p)}var B=M.child;if(B!==null)B.return=M,X=B;else for(;X!==null;){M=X;var L=M.sibling,q=M.return;if(yf(M),M===N){X=null;break}if(L!==null){L.return=q,X=L;break}X=q}}}var ee=p.alternate;if(ee!==null){var ne=ee.child;if(ne!==null){ee.child=null;do{var Fe=ne.sibling;ne.sibling=null,ne=Fe}while(ne!==null)}}X=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,X=v;else e:for(;X!==null;){if(p=X,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:_i(9,p,p.return)}var R=p.sibling;if(R!==null){R.return=p.return,X=R;break e}X=p.return}}var C=n.current;for(X=C;X!==null;){v=X;var j=v.child;if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,X=j;else e:for(v=C;X!==null;){if(_=X,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Ko(9,_)}}catch(re){Le(_,_.return,re)}if(_===v){X=null;break e}var F=_.sibling;if(F!==null){F.return=_.return,X=F;break e}X=_.return}}if(_e=d,Xn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(so,n)}catch{}u=!0}return u}finally{ke=o,Ht.transition=s}}return!1}function Nf(n,s,o){s=cs(o,s),s=Yh(n,s,1),n=Zn(n,s,1),s=wt(),n!==null&&(qs(n,1,s),Et(n,s))}function Le(n,s,o){if(n.tag===3)Nf(n,n,o);else for(;s!==null;){if(s.tag===3){Nf(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(tr===null||!tr.has(u))){n=cs(o,n),n=Xh(s,n,1),s=Zn(s,n,1),n=wt(),s!==null&&(qs(s,1,n),Et(s,n));break}}s=s.return}}function _0(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),s=wt(),n.pingedLanes|=n.suspendedLanes&o,rt===n&&(lt&o)===o&&(Xe===4||Xe===3&&(lt&130023424)===lt&&500>Ve()-ru?Pr(n,0):nu|=o),Et(n,s)}function Df(n,s){s===0&&((n.mode&1)===0?s=1:(s=oo,oo<<=1,(oo&130023424)===0&&(oo=4194304)));var o=wt();n=Tn(n,s),n!==null&&(qs(n,s,o),Et(n,o))}function x0(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Df(n,o)}function S0(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(s),Df(n,o)}var If;If=function(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps||xt.current)bt=!0;else{if((n.lanes&o)===0&&(s.flags&128)===0)return bt=!1,u0(n,s,o);bt=(n.flags&131072)!==0}else bt=!1,Re&&(s.flags&1048576)!==0&&fh(s,Ao,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Wo(n,s),n=s.pendingProps;var d=ns(s,ft.current);ls(s,o),d=Dl(null,s,u,n,d,o);var p=Il();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,St(u)?(p=!0,To(s)):p=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Cl(s),d.updater=Fo,s.stateNode=d,d._reactInternals=s,Vl(s,u,n,o),s=Hl(null,s,u,!0,p,o)):(s.tag=0,Re&&p&&yl(s),vt(null,s,d,o),s=s.child),s;case 16:u=s.elementType;e:{switch(Wo(n,s),n=s.pendingProps,d=u._init,u=d(u._payload),s.type=u,d=s.tag=k0(u),n=tn(u,n),d){case 0:s=Wl(null,s,u,n,o);break e;case 1:s=af(null,s,u,n,o);break e;case 11:s=tf(null,s,u,n,o);break e;case 14:s=nf(null,s,u,tn(u.type,n),o);break e}throw Error(r(306,u,""))}return s;case 0:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:tn(u,d),Wl(n,s,u,d,o);case 1:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:tn(u,d),af(n,s,u,d,o);case 3:e:{if(lf(s),n===null)throw Error(r(387));u=s.pendingProps,p=s.memoizedState,d=p.element,Sh(n,s),Io(s,u,null,o);var v=s.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){d=cs(Error(r(423)),s),s=uf(n,s,u,o,d);break e}else if(u!==d){d=cs(Error(r(424)),s),s=uf(n,s,u,o,d);break e}else for(Nt=Gn(s.stateNode.containerInfo.firstChild),Ot=s,Re=!0,en=null,o=_h(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(is(),u===d){s=Pn(n,s,o);break e}vt(n,s,u,o)}s=s.child}return s;case 5:return Eh(s),n===null&&_l(s),u=s.type,d=s.pendingProps,p=n!==null?n.memoizedProps:null,v=d.children,dl(u,d)?v=null:p!==null&&dl(u,p)&&(s.flags|=32),of(n,s),vt(n,s,v,o),s.child;case 6:return n===null&&_l(s),null;case 13:return cf(n,s,o);case 4:return Pl(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=os(s,null,u,o):vt(n,s,u,o),s.child;case 11:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:tn(u,d),tf(n,s,u,d,o);case 7:return vt(n,s,s.pendingProps,o),s.child;case 8:return vt(n,s,s.pendingProps.children,o),s.child;case 12:return vt(n,s,s.pendingProps.children,o),s.child;case 10:e:{if(u=s.type._context,d=s.pendingProps,p=s.memoizedProps,v=d.value,Ee(Oo,u._currentValue),u._currentValue=v,p!==null)if(Zt(p.value,v)){if(p.children===d.children&&!xt.current){s=Pn(n,s,o);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var _=p.dependencies;if(_!==null){v=p.child;for(var S=_.firstContext;S!==null;){if(S.context===u){if(p.tag===1){S=Cn(-1,o&-o),S.tag=2;var N=p.updateQueue;if(N!==null){N=N.shared;var M=N.pending;M===null?S.next=S:(S.next=M.next,M.next=S),N.pending=S}}p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),El(p.return,o,s),_.lanes|=o;break}S=S.next}}else if(p.tag===10)v=p.type===s.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(r(341));v.lanes|=o,_=v.alternate,_!==null&&(_.lanes|=o),El(v,o,s),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===s){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}vt(n,s,d.children,o),s=s.child}return s;case 9:return d=s.type,u=s.pendingProps.children,ls(s,o),d=zt(d),u=u(d),s.flags|=1,vt(n,s,u,o),s.child;case 14:return u=s.type,d=tn(u,s.pendingProps),d=tn(u.type,d),nf(n,s,u,d,o);case 15:return rf(n,s,s.type,s.pendingProps,o);case 17:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:tn(u,d),Wo(n,s),s.tag=1,St(u)?(n=!0,To(s)):n=!1,ls(s,o),Gh(s,u,d),Vl(s,u,d,o),Hl(null,s,u,!0,n,o);case 19:return hf(n,s,o);case 22:return sf(n,s,o)}throw Error(r(156,s.tag))};function Lf(n,s){return pd(n,s)}function b0(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(n,s,o,u){return new b0(n,s,o,u)}function du(n){return n=n.prototype,!(!n||!n.isReactComponent)}function k0(n){if(typeof n=="function")return du(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ze)return 11;if(n===Ae)return 14}return 2}function ir(n,s){var o=n.alternate;return o===null?(o=Kt(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function ta(n,s,o,u,d,p){var v=2;if(u=n,typeof n=="function")du(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case te:return Rr(o.children,d,p,s);case J:v=8,d|=8;break;case K:return n=Kt(12,o,s,d|2),n.elementType=K,n.lanes=p,n;case Be:return n=Kt(13,o,s,d),n.elementType=Be,n.lanes=p,n;case et:return n=Kt(19,o,s,d),n.elementType=et,n.lanes=p,n;case oe:return na(o,d,p,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case he:v=10;break e;case ve:v=9;break e;case ze:v=11;break e;case Ae:v=14;break e;case fe:v=16,u=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Kt(v,o,s,d),s.elementType=n,s.type=u,s.lanes=p,s}function Rr(n,s,o,u){return n=Kt(7,n,u,s),n.lanes=o,n}function na(n,s,o,u){return n=Kt(22,n,u,s),n.elementType=oe,n.lanes=o,n.stateNode={isHidden:!1},n}function hu(n,s,o){return n=Kt(6,n,null,s),n.lanes=o,n}function fu(n,s,o){return s=Kt(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function E0(n,s,o,u,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function pu(n,s,o,u,d,p,v,_,S){return n=new E0(n,s,o,_,S),s===1?(s=1,p===!0&&(s|=8)):s=0,p=Kt(3,null,null,s),n.current=p,p.stateNode=n,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(p),n}function T0(n,s,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:u==null?null:""+u,children:n,containerInfo:s,implementation:o}}function Mf(n){if(!n)return Yn;n=n._reactInternals;e:{if(vr(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(St(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var o=n.type;if(St(o))return ch(n,o,s)}return s}function $f(n,s,o,u,d,p,v,_,S){return n=pu(o,u,!0,n,d,p,v,_,S),n.context=Mf(null),o=n.current,u=wt(),d=rr(o),p=Cn(u,d),p.callback=s??null,Zn(o,p,d),n.current.lanes=d,qs(n,d,u),Et(n,u),n}function ra(n,s,o,u){var d=s.current,p=wt(),v=rr(d);return o=Mf(o),s.context===null?s.context=o:s.pendingContext=o,s=Cn(p,v),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=Zn(d,s,v),n!==null&&(sn(n,d,v,p),Do(n,d,v)),v}function sa(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Bf(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function mu(n,s){Bf(n,s),(n=n.alternate)&&Bf(n,s)}function C0(){return null}var Uf=typeof reportError=="function"?reportError:function(n){console.error(n)};function gu(n){this._internalRoot=n}ia.prototype.render=gu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));ra(n,s,null,null)},ia.prototype.unmount=gu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Cr(function(){ra(null,n,null,null)}),s[Sn]=null}};function ia(n){this._internalRoot=n}ia.prototype.unstable_scheduleHydration=function(n){if(n){var s=Sd();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Hn.length&&s!==0&&s<Hn[o].priority;o++);Hn.splice(o,0,n),o===0&&Ed(n)}};function yu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function oa(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Vf(){}function P0(n,s,o,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var N=sa(v);p.call(N)}}var v=$f(s,u,n,0,null,!1,!1,"",Vf);return n._reactRootContainer=v,n[Sn]=v.current,ai(n.nodeType===8?n.parentNode:n),Cr(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof u=="function"){var _=u;u=function(){var N=sa(S);_.call(N)}}var S=pu(n,0,!1,null,null,!1,!1,"",Vf);return n._reactRootContainer=S,n[Sn]=S.current,ai(n.nodeType===8?n.parentNode:n),Cr(function(){ra(s,S,o,u)}),S}function aa(n,s,o,u,d){var p=o._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var _=d;d=function(){var S=sa(v);_.call(S)}}ra(s,v,n,d)}else v=P0(o,s,n,d,u);return sa(v)}_d=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var o=Ks(s.pendingLanes);o!==0&&(Va(s,o|1),Et(s,Ve()),(_e&6)===0&&(fs=Ve()+500,Xn()))}break;case 13:Cr(function(){var u=Tn(n,1);if(u!==null){var d=wt();sn(u,n,1,d)}}),mu(n,1)}},Fa=function(n){if(n.tag===13){var s=Tn(n,134217728);if(s!==null){var o=wt();sn(s,n,134217728,o)}mu(n,134217728)}},xd=function(n){if(n.tag===13){var s=rr(n),o=Tn(n,s);if(o!==null){var u=wt();sn(o,n,s,u)}mu(n,s)}},Sd=function(){return ke},bd=function(n,s){var o=ke;try{return ke=n,s()}finally{ke=o}},zs=function(n,s,o){switch(s){case"input":if(wn(n,o),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var d=ko(u);if(!d)throw Error(r(90));$s(u),wn(u,d)}}}break;case"textarea":Qi(n,o);break;case"select":s=o.value,s!=null&&In(n,!!o.multiple,s,!1)}},Je=lu,ht=Cr;var A0={usingClientEntryPoint:!1,Events:[ci,es,ko,me,Ue,lu]},ki={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hd(n),n===null?null:n.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||C0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{so=la.inject(R0),dn=la}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0,Tt.createPortal=function(n,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(s))throw Error(r(200));return T0(n,s,null,o)},Tt.createRoot=function(n,s){if(!yu(n))throw Error(r(299));var o=!1,u="",d=Uf;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=pu(n,1,!1,null,null,o,!1,u,d),n[Sn]=s.current,ai(n.nodeType===8?n.parentNode:n),new gu(s)},Tt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=hd(s),n=n===null?null:n.stateNode,n},Tt.flushSync=function(n){return Cr(n)},Tt.hydrate=function(n,s,o){if(!oa(s))throw Error(r(200));return aa(null,n,s,!0,o)},Tt.hydrateRoot=function(n,s,o){if(!yu(n))throw Error(r(405));var u=o!=null&&o.hydratedSources||null,d=!1,p="",v=Uf;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),s=$f(s,null,n,1,o??null,d,!1,p,v),n[Sn]=s.current,ai(n),u)for(n=0;n<u.length;n++)o=u[n],d=o._getVersion,d=d(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,d]:s.mutableSourceEagerHydrationData.push(o,d);return new ia(s)},Tt.render=function(n,s,o){if(!oa(s))throw Error(r(200));return aa(null,n,s,!1,o)},Tt.unmountComponentAtNode=function(n){if(!oa(n))throw Error(r(40));return n._reactRootContainer?(Cr(function(){aa(null,null,n,!1,function(){n._reactRootContainer=null,n[Sn]=null})}),!0):!1},Tt.unstable_batchedUpdates=lu,Tt.unstable_renderSubtreeIntoContainer=function(n,s,o,u){if(!oa(o))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return aa(n,s,o,!1,u)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Jf;function $m(){if(Jf)return _u.exports;Jf=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_u.exports=M0(),_u.exports}var Yf;function $0(){if(Yf)return ua;Yf=1;var t=$m();return ua.createRoot=t.createRoot,ua.hydrateRoot=t.hydrateRoot,ua}var B0=$0(),Q=Cc();const W=Mm(Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V0=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,i)=>i?i.toUpperCase():r.toLowerCase()),Xf=t=>{const e=V0(t);return e.charAt(0).toUpperCase()+e.slice(1)},Bm=(...t)=>t.filter((e,r,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},f)=>Q.createElement("svg",{ref:f,...F0,width:e,height:e,stroke:t,strokeWidth:i?Number(r)*24/Number(e):r,className:Bm("lucide",a),...h},[...c.map(([m,y])=>Q.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const r=Q.forwardRef(({className:i,...a},l)=>Q.createElement(z0,{ref:l,iconNode:e,className:Bm(`lucide-${U0(Xf(t))}`,`lucide-${t}`,i),...a}));return r.displayName=Xf(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Um=Xt("arrow-left",W0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K0=Xt("chevron-down",H0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],G0=Xt("chevron-up",q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Y0=Xt("external-link",J0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Q0=Xt("gift",X0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],ew=Xt("loader",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vm=Xt("map-pin",tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rs=Xt("plus",nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],sw=Xt("sparkles",rw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Fm=Xt("trash-2",iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],aw=Xt("upload",ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uw=Xt("x",lw);function cw({onNavigate:t}){return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 sm:p-8",children:[b.jsx("div",{className:"text-center mb-6 sm:mb-8",children:b.jsx("h1",{className:"text-6xl sm:text-7xl md:text-9xl mb-4 text-[#3D3328]",style:{fontFamily:"DarumadropOne, serif"},children:"Benha's Wishlist"})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 w-full max-w-6xl group/cards",children:[b.jsxs("button",{onClick:()=>t("gifts"),className:"group card-item relative overflow-hidden rounded-[1.25rem] bg-white shadow-[0_8px_30px_rgba(217,118,82,0.12)] hover:shadow-[0_12px_40px_rgba(217,118,82,0.2)] transition-all duration-500 h-[400px] sm:h-[500px] group-hover/cards:opacity-40 hover:!opacity-100",children:[b.jsxs("div",{className:"absolute inset-0",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1667869285880-4097f8b153d6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBnaWZ0JTIwd3JhcHBlZCUyMGJveHxlbnwxfHx8fDE3Njc2MzY3NTB8MA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Beautifully wrapped gifts",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#3D3328]/90 via-[#3D3328]/40 to-transparent"})]}),b.jsx("div",{className:"relative h-full flex flex-col justify-end p-8 sm:p-10",children:b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-[#7C8B6E] flex items-center justify-center shadow-lg",children:b.jsx(Q0,{className:"w-6 h-6 text-white"})}),b.jsx("h2",{className:"text-3xl sm:text-4xl text-[#E4F1D7]",style:{fontFamily:"DarumadropOne, serif"},children:"Presents"})]})})]}),b.jsxs("button",{onClick:()=>t("places"),className:"group card-item relative overflow-hidden rounded-[1.25rem] bg-white shadow-[0_8px_30px_rgba(124,139,110,0.12)] hover:shadow-[0_12px_40px_rgba(124,139,110,0.2)] transition-all duration-500 h-[400px] sm:h-[500px] group-hover/cards:opacity-40 hover:!opacity-100",children:[b.jsxs("div",{className:"absolute inset-0",children:[b.jsx("img",{src:"https://benha-wishlist.s3.ap-southeast-2.amazonaws.com/Tokyo-Node-Cafe.jpg",alt:"Scenic mountain landscape",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#3D3328]/90 via-[#3D3328]/40 to-transparent"})]}),b.jsx("div",{className:"relative h-full flex flex-col justify-end p-8 sm:p-10",children:b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-[#7C8B6E] flex items-center justify-center shadow-lg",children:b.jsx(Vm,{className:"w-6 h-6 text-white"})}),b.jsx("h2",{className:"text-3xl sm:text-4xl text-[#E4F1D7]",style:{fontFamily:"DarumadropOne, serif"},children:"Locations"})]})})]})]})]})}function dw({gift:t,onDelete:e}){const[r,i]=Q.useState(!1),a={high:{label:"High Priority",bg:"bg-[#D97652]",text:"text-white"},medium:{label:"Someday",bg:"bg-[#C9A76B]",text:"text-white"},low:{label:"Dreaming",bg:"bg-[#9CAF88]",text:"text-white"}},l=a[t.priority]||a.medium,c=h=>h==="high"?"$$$":h==="medium"?"$$":"$";return b.jsxs("div",{className:"group bg-white rounded-[1.25rem] overflow-hidden shadow-[0_4px_20px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_30px_rgba(217,118,82,0.15)] transition-all duration-300",children:[b.jsxs("div",{className:"relative h-56 sm:h-64 overflow-hidden bg-[#EBE6DD]",children:[t.imageUrl?b.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#706B61]",children:b.jsx("span",{className:"text-sm",children:"No image"})}),b.jsx("div",{className:"absolute top-4 right-4",children:b.jsx("span",{className:`${l.bg} ${l.text} px-3 py-1.5 rounded-full text-xs shadow-lg`,children:l.label})}),b.jsx("button",{onClick:()=>e(t.id),className:"absolute top-4 left-4 w-8 h-8 bg-white/90 hover:bg-white rounded-full flex items-center justify-center opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200 shadow-lg","aria-label":"Delete gift",children:b.jsx(Fm,{className:"w-4 h-4 text-[#D94E3D]"})})]}),b.jsxs("div",{className:"p-5 sm:p-6",children:[b.jsx("h3",{className:"text-xl mb-2 text-[#3D3328] line-clamp-2",style:{fontFamily:"DarumadropOne, serif"},children:t.name}),b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsx("span",{className:"text-[#706B61]",children:c(t.priority)})}),t.link&&b.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#7C8B6E] hover:bg-[#6B7A5E] text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-colors duration-200 mb-3 shadow-sm",children:["View Link",b.jsx(Y0,{className:"w-4 h-4"})]}),t.note&&b.jsxs("div",{className:"border-t border-[#EBE6DD] pt-3",children:[b.jsxs("button",{onClick:()=>i(!r),className:"w-full flex items-center justify-between text-left text-sm text-[#706B61] hover:text-[#3D3328] transition-colors",children:[b.jsx("span",{children:"Her Note"}),r?b.jsx(G0,{className:"w-4 h-4"}):b.jsx(K0,{className:"w-4 h-4"})]}),r&&b.jsxs("p",{className:"mt-3 text-sm text-[#3D3328] leading-relaxed italic",children:['"',t.note,'"']})]})]})]})}function hw({gifts:t,onBack:e,onAddNew:r,onDelete:i}){return b.jsxs("div",{className:"min-h-screen p-4 sm:p-8",children:[b.jsxs("div",{className:"max-w-7xl mx-auto mb-8 sm:mb-12",children:[b.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-[#706B61] hover:text-[#3D3328] transition-colors mb-6",children:[b.jsx(Um,{className:"w-5 h-5"}),b.jsx("span",{children:"Back to Home"})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl sm:text-5xl mb-2 text-[#3D3328]",style:{fontFamily:"DarumadropOne, serif"},children:"The Boutique"}),b.jsx("p",{className:"text-lg text-[#706B61]",children:"Beautiful things to wrap and treasure"})]}),b.jsxs("button",{onClick:r,className:"bg-[#7C8B6E] hover:bg-[#6B7A5E] text-white px-6 py-3 rounded-xl flex items-center justify-center gap-2 transition-colors shadow-lg hover:shadow-xl sm:self-start",children:[b.jsx(Rs,{className:"w-5 h-5"}),"Add Gift"]})]})]}),b.jsx("div",{className:"max-w-7xl mx-auto",children:t.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx("div",{className:"w-20 h-20 bg-[#EBE6DD] rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Rs,{className:"w-10 h-10 text-[#706B61]"})}),b.jsx("h3",{className:"text-2xl mb-2 text-[#3D3328]",children:"No gifts yet"}),b.jsx("p",{className:"text-[#706B61] mb-6",children:"Start adding items to your wishlist"}),b.jsxs("button",{onClick:r,className:"bg-[#7C8B6E] hover:bg-[#6B7A5E] text-white px-6 py-3 rounded-xl inline-flex items-center gap-2 transition-colors",children:[b.jsx(Rs,{className:"w-5 h-5"}),"Add Your First Gift"]})]}):b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:t.map(a=>b.jsx(dw,{gift:a,onDelete:i},a.id))})})]})}function fw({place:t,onDelete:e}){const r={dreaming:{label:"Dreaming of",color:"text-[#C9A76B]",icon:""},booked:{label:"Booked",color:"text-[#D97652]",icon:""},visited:{label:"Visited",color:"text-[#7C8B6E]",icon:""}},i=r[t.status]||r.dreaming,l=(h=>{if(!h)return null;const f=/(https?:\/\/[^\s]+)/g,m=h.match(f);return m?m[0]:null})(t.note),c=t.mapLink||l;return b.jsxs("div",{className:"group bg-white rounded-[1.25rem] overflow-hidden shadow-[0_4px_20px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_30px_rgba(124,139,110,0.15)] transition-all duration-300",children:[b.jsxs("div",{className:"relative h-72 sm:h-80 overflow-hidden bg-[#EBE6DD]",children:[t.imageUrl?b.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#706B61]",children:b.jsx("span",{className:"text-sm",children:"No image"})}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#3D3328]/60 via-transparent to-transparent"}),b.jsx("div",{className:"absolute bottom-4 left-4",children:b.jsxs("div",{className:"bg-white/95 backdrop-blur-sm px-4 py-2 rounded-full flex items-center gap-2 shadow-lg",children:[b.jsx("span",{className:"text-sm",children:i.icon}),b.jsx("span",{className:`${i.color} text-sm`,children:i.label})]})}),c&&b.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-4 right-4 bg-white/95 backdrop-blur-sm px-4 py-2 rounded-full flex items-center gap-2 shadow-lg hover:bg-white transition-colors","aria-label":"View on map",children:[b.jsx(Vm,{className:"w-4 h-4 text-[#7C8B6E]"}),b.jsx("span",{className:"text-sm text-[#3D3328]",children:"Map"})]}),b.jsx("button",{onClick:()=>e(t.id),className:"absolute top-4 right-4 w-8 h-8 bg-white/90 hover:bg-white rounded-full flex items-center justify-center opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200 shadow-lg","aria-label":"Delete place",children:b.jsx(Fm,{className:"w-4 h-4 text-[#D94E3D]"})})]}),b.jsxs("div",{className:"p-5 sm:p-6",children:[b.jsxs("div",{className:"mb-3",children:[b.jsx("h3",{className:"text-2xl mb-1 text-[#3D3328]",style:{fontFamily:"DarumadropOne, serif"},children:t.name}),b.jsx("p",{className:"text-[#706B61]",children:t.location})]}),t.tags&&t.tags.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.map((h,f)=>b.jsx("span",{className:"bg-[#EBE6DD] text-[#3D3328] px-3 py-1 rounded-full text-sm",children:h},f))}),t.note&&b.jsxs("p",{className:"text-sm text-[#706B61] leading-relaxed italic border-t border-[#EBE6DD] pt-4",children:['"',t.note,'"']})]})]})}function pw({places:t,onBack:e,onAddNew:r,onDelete:i}){return b.jsxs("div",{className:"min-h-screen p-4 sm:p-8",children:[b.jsxs("div",{className:"max-w-7xl mx-auto mb-8 sm:mb-12",children:[b.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-[#706B61] hover:text-[#3D3328] transition-colors mb-6",children:[b.jsx(Um,{className:"w-5 h-5"}),b.jsx("span",{children:"Back to Home"})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl sm:text-5xl mb-2 text-[#3D3328]",style:{fontFamily:"DarumadropOne, serif"},children:"The Atlas"}),b.jsx("p",{className:"text-lg text-[#706B61]",children:"Places to explore and memories to make together"})]}),b.jsxs("button",{onClick:r,className:"bg-[#7C8B6E] hover:bg-[#6B7A5E] text-white px-6 py-3 rounded-xl flex items-center justify-center gap-2 transition-colors shadow-lg hover:shadow-xl sm:self-start",children:[b.jsx(Rs,{className:"w-5 h-5"}),"Add Place"]})]})]}),b.jsx("div",{className:"max-w-7xl mx-auto",children:t.length===0?b.jsxs("div",{className:"text-center py-20",children:[b.jsx("div",{className:"w-20 h-20 bg-[#EBE6DD] rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Rs,{className:"w-10 h-10 text-[#706B61]"})}),b.jsx("h3",{className:"text-2xl mb-2 text-[#3D3328]",children:"No destinations yet"}),b.jsx("p",{className:"text-[#706B61] mb-6",children:"Start planning your adventures"}),b.jsxs("button",{onClick:r,className:"bg-[#7C8B6E] hover:bg-[#6B7A5E] text-white px-6 py-3 rounded-xl inline-flex items-center gap-2 transition-colors",children:[b.jsx(Rs,{className:"w-5 h-5"}),"Add Your First Destination"]})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:t.map(a=>b.jsx(fw,{place:a,onDelete:i},a.id))})})]})}var mw=$m();const gw=Mm(mw);function yw(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const vw=t=>{switch(t){case"success":return xw;case"info":return bw;case"warning":return Sw;case"error":return kw;default:return null}},ww=Array(12).fill(0),_w=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},ww.map((r,i)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),xw=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Sw=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bw=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kw=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ew=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Tw=()=>{const[t,e]=W.useState(document.hidden);return W.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let qu=1;class Cw{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:i,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:qu++,c=this.toasts.find(f=>f.id===l),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:i}),{...f,...e,id:l,dismissible:h,title:i}):f):this.addToast({title:i,...a,dismissible:h,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=i!==void 0,c;const h=a.then(async m=>{if(c=["resolve",m],W.isValidElement(m))l=!1,this.create({id:i,type:"default",message:m});else if(Aw(m)&&!m.ok){l=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,E=typeof g=="object"&&!W.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:w,...E})}else if(m instanceof Error){l=!1;const g=typeof r.error=="function"?await r.error(m):r.error,w=typeof r.description=="function"?await r.description(m):r.description,E=typeof g=="object"&&!W.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:w,...E})}else if(r.success!==void 0){l=!1;const g=typeof r.success=="function"?await r.success(m):r.success,w=typeof r.description=="function"?await r.description(m):r.description,E=typeof g=="object"&&!W.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:w,...E})}}).catch(async m=>{if(c=["reject",m],r.error!==void 0){l=!1;const y=typeof r.error=="function"?await r.error(m):r.error,g=typeof r.description=="function"?await r.description(m):r.description,x=typeof y=="object"&&!W.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:g,...x})}}).finally(()=>{l&&(this.dismiss(i),i=void 0),r.finally==null||r.finally.call(r)}),f=()=>new Promise((m,y)=>h.then(()=>c[0]==="reject"?y(c[1]):m(c[1])).catch(y));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(e,r)=>{const i=(r==null?void 0:r.id)||qu++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ct=new Cw,Pw=(t,e)=>{const r=(e==null?void 0:e.id)||qu++;return Ct.addToast({title:t,...e,id:r}),r},Aw=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Rw=Pw,jw=()=>Ct.toasts,Ow=()=>Ct.getActiveToasts(),qt=Object.assign(Rw,{success:Ct.success,info:Ct.info,warning:Ct.warning,error:Ct.error,custom:Ct.custom,message:Ct.message,promise:Ct.promise,dismiss:Ct.dismiss,loading:Ct.loading},{getHistory:jw,getToasts:Ow});yw("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ca(t){return t.label!==void 0}const Nw=3,Dw="24px",Iw="16px",Qf=4e3,Lw=356,Mw=14,$w=45,Bw=200;function gn(...t){return t.filter(Boolean).join(" ")}function Uw(t){const[e,r]=t.split("-"),i=[];return e&&i.push(e),r&&i.push(r),i}const Vw=t=>{var e,r,i,a,l,c,h,f,m;const{invert:y,toast:g,unstyled:w,interacting:x,setHeights:E,visibleToasts:k,heights:P,index:A,toasts:D,expanded:O,removeToast:$,defaultRichColors:V,closeButton:z,style:te,cancelButtonStyle:J,actionButtonStyle:K,className:he="",descriptionClassName:ve="",duration:ze,position:Be,gap:et,expandByDefault:Ae,classNames:fe,icons:oe,closeButtonAriaLabel:U="Close toast"}=t,[G,H]=W.useState(null),[T,I]=W.useState(null),[Z,ue]=W.useState(!1),[ge,ie]=W.useState(!1),[xe,we]=W.useState(!1),[be,Ge]=W.useState(!1),[zr,$s]=W.useState(!1),[Wr,fr]=W.useState(0),[Xi,Bs]=W.useState(0),wn=W.useRef(g.duration||ze||Qf),Us=W.useRef(null),At=W.useRef(null),pr=A===0,In=A+1<=k,it=g.type,_n=g.dismissible!==!1,Qi=g.className||"",Zi=g.descriptionClassName||"",mr=W.useMemo(()=>P.findIndex(me=>me.toastId===g.id)||0,[P,g.id]),Vs=W.useMemo(()=>{var me;return(me=g.closeButton)!=null?me:z},[g.closeButton,z]),gr=W.useMemo(()=>g.duration||ze||Qf,[g.duration,ze]),Hr=W.useRef(0),$t=W.useRef(0),Ln=W.useRef(0),Mn=W.useRef(null),[eo,to]=Be.split("-"),no=W.useMemo(()=>P.reduce((me,Ue,Je)=>Je>=mr?me:me+Ue.height,0),[P,mr]),Kr=Tw(),Fs=g.invert||y,yr=it==="loading";$t.current=W.useMemo(()=>mr*et+no,[mr,no]),W.useEffect(()=>{wn.current=gr},[gr]),W.useEffect(()=>{ue(!0)},[]),W.useEffect(()=>{const me=At.current;if(me){const Ue=me.getBoundingClientRect().height;return Bs(Ue),E(Je=>[{toastId:g.id,height:Ue,position:g.position},...Je]),()=>E(Je=>Je.filter(ht=>ht.toastId!==g.id))}},[E,g.id]),W.useLayoutEffect(()=>{if(!Z)return;const me=At.current,Ue=me.style.height;me.style.height="auto";const Je=me.getBoundingClientRect().height;me.style.height=Ue,Bs(Je),E(ht=>ht.find(We=>We.toastId===g.id)?ht.map(We=>We.toastId===g.id?{...We,height:Je}:We):[{toastId:g.id,height:Je,position:g.position},...ht])},[Z,g.title,g.description,E,g.id]);const Bt=W.useCallback(()=>{ie(!0),fr($t.current),E(me=>me.filter(Ue=>Ue.toastId!==g.id)),setTimeout(()=>{$(g)},Bw)},[g,$,E,$t]);W.useEffect(()=>{if(g.promise&&it==="loading"||g.duration===1/0||g.type==="loading")return;let me;return O||x||Kr?(()=>{if(Ln.current<Hr.current){const ht=new Date().getTime()-Hr.current;wn.current=wn.current-ht}Ln.current=new Date().getTime()})():(()=>{wn.current!==1/0&&(Hr.current=new Date().getTime(),me=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Bt()},wn.current))})(),()=>clearTimeout(me)},[O,x,g,it,Kr,Bt]),W.useEffect(()=>{g.delete&&Bt()},[Bt,g.delete]);function zs(){var me;if(oe!=null&&oe.loading){var Ue;return W.createElement("div",{className:gn(fe==null?void 0:fe.loader,g==null||(Ue=g.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":it==="loading"},oe.loading)}return W.createElement(_w,{className:gn(fe==null?void 0:fe.loader,g==null||(me=g.classNames)==null?void 0:me.loader),visible:it==="loading"})}const $n=g.icon||(oe==null?void 0:oe[it])||vw(it);var xn,Ws;return W.createElement("li",{tabIndex:0,ref:At,className:gn(he,Qi,fe==null?void 0:fe.toast,g==null||(e=g.classNames)==null?void 0:e.toast,fe==null?void 0:fe.default,fe==null?void 0:fe[it],g==null||(r=g.classNames)==null?void 0:r[it]),"data-sonner-toast":"","data-rich-colors":(xn=g.richColors)!=null?xn:V,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":Z,"data-promise":!!g.promise,"data-swiped":zr,"data-removed":ge,"data-visible":In,"data-y-position":eo,"data-x-position":to,"data-index":A,"data-front":pr,"data-swiping":xe,"data-dismissible":_n,"data-type":it,"data-invert":Fs,"data-swipe-out":be,"data-swipe-direction":T,"data-expanded":!!(O||Ae&&Z),style:{"--index":A,"--toasts-before":A,"--z-index":D.length-A,"--offset":`${ge?Wr:$t.current}px`,"--initial-height":Ae?"auto":`${Xi}px`,...te,...g.style},onDragEnd:()=>{we(!1),H(null),Mn.current=null},onPointerDown:me=>{yr||!_n||(Us.current=new Date,fr($t.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(we(!0),Mn.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Ue,Je;if(be||!_n)return;Mn.current=null;const ht=Number(((me=At.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((Ue=At.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),We=new Date().getTime()-((Je=Us.current)==null?void 0:Je.getTime()),tt=G==="x"?ht:Bn,Un=Math.abs(tt)/We;if(Math.abs(tt)>=$w||Un>.11){fr($t.current),g.onDismiss==null||g.onDismiss.call(g,g),I(G==="x"?ht>0?"right":"left":Bn>0?"down":"up"),Bt(),Ge(!0);return}else{var ot,Rt;(ot=At.current)==null||ot.style.setProperty("--swipe-amount-x","0px"),(Rt=At.current)==null||Rt.style.setProperty("--swipe-amount-y","0px")}$s(!1),we(!1),H(null)},onPointerMove:me=>{var Ue,Je,ht;if(!Mn.current||!_n||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;const We=me.clientY-Mn.current.y,tt=me.clientX-Mn.current.x;var Un;const ot=(Un=t.swipeDirections)!=null?Un:Uw(Be);!G&&(Math.abs(tt)>1||Math.abs(We)>1)&&H(Math.abs(tt)>Math.abs(We)?"x":"y");let Rt={x:0,y:0};const Vn=Ut=>1/(1.5+Math.abs(Ut)/20);if(G==="y"){if(ot.includes("top")||ot.includes("bottom"))if(ot.includes("top")&&We<0||ot.includes("bottom")&&We>0)Rt.y=We;else{const Ut=We*Vn(We);Rt.y=Math.abs(Ut)<Math.abs(We)?Ut:We}}else if(G==="x"&&(ot.includes("left")||ot.includes("right")))if(ot.includes("left")&&tt<0||ot.includes("right")&&tt>0)Rt.x=tt;else{const Ut=tt*Vn(tt);Rt.x=Math.abs(Ut)<Math.abs(tt)?Ut:tt}(Math.abs(Rt.x)>0||Math.abs(Rt.y)>0)&&$s(!0),(Je=At.current)==null||Je.style.setProperty("--swipe-amount-x",`${Rt.x}px`),(ht=At.current)==null||ht.style.setProperty("--swipe-amount-y",`${Rt.y}px`)}},Vs&&!g.jsx&&it!=="loading"?W.createElement("button",{"aria-label":U,"data-disabled":yr,"data-close-button":!0,onClick:yr||!_n?()=>{}:()=>{Bt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:gn(fe==null?void 0:fe.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(Ws=oe==null?void 0:oe.close)!=null?Ws:Ew):null,(it||g.icon||g.promise)&&g.icon!==null&&((oe==null?void 0:oe[it])!==null||g.icon)?W.createElement("div",{"data-icon":"",className:gn(fe==null?void 0:fe.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||zs():null,g.type!=="loading"?$n:null):null,W.createElement("div",{"data-content":"",className:gn(fe==null?void 0:fe.content,g==null||(l=g.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:gn(fe==null?void 0:fe.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:gn(ve,Zi,fe==null?void 0:fe.description,g==null||(h=g.classNames)==null?void 0:h.description)},typeof g.description=="function"?g.description():g.description):null),W.isValidElement(g.cancel)?g.cancel:g.cancel&&ca(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||J,onClick:me=>{ca(g.cancel)&&_n&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,me),Bt())},className:gn(fe==null?void 0:fe.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,W.isValidElement(g.action)?g.action:g.action&&ca(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||K,onClick:me=>{ca(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,me),!me.defaultPrevented&&Bt())},className:gn(fe==null?void 0:fe.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function Zf(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Fw(t,e){const r={};return[t,e].forEach((i,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",h=l?Iw:Dw;function f(m){["top","right","bottom","left"].forEach(y=>{r[`${c}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(m=>{i[m]===void 0?r[`${c}-${m}`]=h:r[`${c}-${m}`]=typeof i[m]=="number"?`${i[m]}px`:i[m]}):f(h)}),r}const zw=W.forwardRef(function(e,r){const{invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:h,className:f,offset:m,mobileOffset:y,theme:g="light",richColors:w,duration:x,style:E,visibleToasts:k=Nw,toastOptions:P,dir:A=Zf(),gap:D=Mw,icons:O,containerAriaLabel:$="Notifications"}=e,[V,z]=W.useState([]),te=W.useMemo(()=>Array.from(new Set([a].concat(V.filter(T=>T.position).map(T=>T.position)))),[V,a]),[J,K]=W.useState([]),[he,ve]=W.useState(!1),[ze,Be]=W.useState(!1),[et,Ae]=W.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=W.useRef(null),oe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),G=W.useRef(!1),H=W.useCallback(T=>{z(I=>{var Z;return(Z=I.find(ue=>ue.id===T.id))!=null&&Z.delete||Ct.dismiss(T.id),I.filter(({id:ue})=>ue!==T.id)})},[]);return W.useEffect(()=>Ct.subscribe(T=>{if(T.dismiss){requestAnimationFrame(()=>{z(I=>I.map(Z=>Z.id===T.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{gw.flushSync(()=>{z(I=>{const Z=I.findIndex(ue=>ue.id===T.id);return Z!==-1?[...I.slice(0,Z),{...I[Z],...T},...I.slice(Z+1)]:[T,...I]})})})}),[V]),W.useEffect(()=>{if(g!=="system"){Ae(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ae("dark"):Ae("light")),typeof window>"u")return;const T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:I})=>{Ae(I?"dark":"light")})}catch{T.addListener(({matches:Z})=>{try{Ae(Z?"dark":"light")}catch(ue){console.error(ue)}})}},[g]),W.useEffect(()=>{V.length<=1&&ve(!1)},[V]),W.useEffect(()=>{const T=I=>{var Z;if(l.every(ie=>I[ie]||I.code===ie)){var ge;ve(!0),(ge=fe.current)==null||ge.focus()}I.code==="Escape"&&(document.activeElement===fe.current||(Z=fe.current)!=null&&Z.contains(document.activeElement))&&ve(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[l]),W.useEffect(()=>{if(fe.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,G.current=!1)}},[fe.current]),W.createElement("section",{ref:r,"aria-label":`${$} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},te.map((T,I)=>{var Z;const[ue,ge]=T.split("-");return V.length?W.createElement("ol",{key:T,dir:A==="auto"?Zf():A,tabIndex:-1,ref:fe,className:f,"data-sonner-toaster":!0,"data-sonner-theme":et,"data-y-position":ue,"data-lifted":he&&V.length>1&&!c,"data-x-position":ge,style:{"--front-toast-height":`${((Z=J[0])==null?void 0:Z.height)||0}px`,"--width":`${Lw}px`,"--gap":`${D}px`,...E,...Fw(m,y)},onBlur:ie=>{G.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(G.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||G.current||(G.current=!0,U.current=ie.relatedTarget)},onMouseEnter:()=>ve(!0),onMouseMove:()=>ve(!0),onMouseLeave:()=>{ze||ve(!1)},onDragEnd:()=>ve(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},V.filter(ie=>!ie.position&&I===0||ie.position===T).map((ie,xe)=>{var we,be;return W.createElement(Vw,{key:ie.id,icons:O,index:xe,toast:ie,defaultRichColors:w,duration:(we=P==null?void 0:P.duration)!=null?we:x,className:P==null?void 0:P.className,descriptionClassName:P==null?void 0:P.descriptionClassName,invert:i,visibleToasts:k,closeButton:(be=P==null?void 0:P.closeButton)!=null?be:h,interacting:ze,position:T,style:P==null?void 0:P.style,unstyled:P==null?void 0:P.unstyled,classNames:P==null?void 0:P.classNames,cancelButtonStyle:P==null?void 0:P.cancelButtonStyle,actionButtonStyle:P==null?void 0:P.actionButtonStyle,closeButtonAriaLabel:P==null?void 0:P.closeButtonAriaLabel,removeToast:H,toasts:V.filter(Ge=>Ge.position==ie.position),heights:J.filter(Ge=>Ge.position==ie.position),setHeights:K,expandByDefault:c,gap:D,expanded:he,swipeDirections:e.swipeDirections})})):null}))});function ja(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]]);return r}function Ww(t,e,r,i){function a(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function h(y){try{m(i.next(y))}catch(g){c(g)}}function f(y){try{m(i.throw(y))}catch(g){c(g)}}function m(y){y.done?l(y.value):a(y.value).then(h,f)}m((i=i.apply(t,e||[])).next())})}const Hw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Pc extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class Kw extends Pc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ep extends Pc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tp extends Pc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gu||(Gu={}));class qw{constructor(e,{headers:r={},customFetch:i,region:a=Gu.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Hw(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ww(this,arguments,void 0,function*(r,i={}){var a;let l,c;try{const{headers:h,method:f,body:m,signal:y,timeout:g}=i;let w={},{region:x}=i;x||(x=this.region);const E=new URL(`${this.url}/${r}`);x&&x!=="any"&&(w["x-region"]=x,E.searchParams.set("forceFunctionRegion",x));let k;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(w["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(w["Content-Type"]="application/json",k=JSON.stringify(m)):k=m;let P=y;g&&(c=new AbortController,l=setTimeout(()=>c.abort(),g),y?(P=c.signal,y.addEventListener("abort",()=>c.abort())):P=c.signal);const A=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:k,signal:P}).catch(V=>{throw new Kw(V)}),D=A.headers.get("x-relay-error");if(D&&D==="true")throw new ep(A);if(!A.ok)throw new tp(A);let O=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),$;return O==="application/json"?$=yield A.json():O==="application/octet-stream"||O==="application/pdf"?$=yield A.blob():O==="text/event-stream"?$=A:O==="multipart/form-data"?$=yield A.formData():$=yield A.text(),{data:$,error:null,response:A}}catch(h){return{data:null,error:h,response:h instanceof tp||h instanceof ep?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var Gw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Jw=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,h=null,f=null,m=l.status,y=l.statusText;if(l.ok){var g,w;if(r.method!=="HEAD"){var x;const A=await l.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=A:h=JSON.parse(A))}const k=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),P=(w=l.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");k&&P&&P.length>1&&(f=parseInt(P[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var E;const k=await l.text();try{c=JSON.parse(k),Array.isArray(c)&&l.status===404&&(h=[],c=null,m=200,y="OK")}catch{l.status===404&&k===""?(m=204,y="No Content"):c={message:k}}if(c&&r.isMaybeSingle&&(!(c==null||(E=c.details)===null||E===void 0)&&E.includes("0 rows"))&&(c=null,m=200,y="OK"),c&&r.shouldThrowOnError)throw new Gw(c)}return{error:c,data:h,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c;let h="";const f=l==null?void 0:l.cause;if(f){var m,y,g,w;const E=(m=f==null?void 0:f.message)!==null&&m!==void 0?m:"",k=(y=f==null?void 0:f.code)!==null&&y!==void 0?y:"";h=`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(w=f==null?void 0:f.name)!==null&&w!==void 0?w:"Error"}: ${E}`,k&&(h+=` (${k})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var x;h=(x=l==null?void 0:l.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(c=l==null?void 0:l.name)!==null&&c!==void 0?c:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},Yw=class extends Jw{select(t){let e=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:l="text"}={}){var c;const h=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const np=new RegExp("[,()]");var xs=class extends Yw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&np.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(i=>typeof i=="string"&&np.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${l}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Xw=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=i}select(t,e){const{head:r=!1,count:i}=e??{},a=r?"HEAD":"GET";let l=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new xs({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var i;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new xs({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new xs({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:e}={}){var r;const i="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new xs({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new xs({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Qw=class zm{constructor(e,{headers:r={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Xw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:i=!1,get:a=!1,count:l}={}){var c;let h;const f=new URL(`${this.url}/rpc/${e}`);let m;i||a?(h=i?"HEAD":"GET",Object.entries(r).filter(([g,w])=>w!==void 0).map(([g,w])=>[g,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([g,w])=>{f.searchParams.append(g,w)})):(h="POST",m=r);const y=new Headers(this.headers);return l&&y.set("Prefer",`count=${l}`),new xs({method:h,url:f,headers:y,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class Zw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const e_="2.89.0",t_=`realtime-js/${e_}`,Wm="1.0.0",n_="2.0.0",rp=Wm,Ju=1e4,r_=1e3,s_=100;var lr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(lr||(lr={}));var Qe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qe||(Qe={}));var cn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(cn||(cn={}));var Yu;(function(t){t.websocket="websocket"})(Yu||(Yu={}));var Lr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Lr||(Lr={}));class i_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,i){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(y).length===0?"":JSON.stringify(y);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+c.length+m.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let E=new DataView(x),k=0;E.setUint8(k++,this.KINDS.userBroadcastPush),E.setUint8(k++,f.length),E.setUint8(k++,h.length),E.setUint8(k++,c.length),E.setUint8(k++,m.length),E.setUint8(k++,g.length),E.setUint8(k++,r),Array.from(f,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(h,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(c,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(m,A=>E.setUint8(k++,A.charCodeAt(0))),Array.from(g,A=>E.setUint8(k++,A.charCodeAt(0)));var P=new Uint8Array(x.byteLength+i.byteLength);return P.set(new Uint8Array(x),0),P.set(new Uint8Array(i),x.byteLength),P.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,h,f]=i;return r({join_ref:a,ref:l,topic:c,event:h,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),h=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=i.decode(e.slice(f,f+a));f=f+a;const y=i.decode(e.slice(f,f+l));f=f+l;const g=i.decode(e.slice(f,f+c));f=f+c;const w=e.slice(f,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,E={type:this.BROADCAST_EVENT,event:y,payload:x};return c>0&&(E.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Hm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Te||(Te={}));const sp=(t,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=o_(c,t,e,a),l),{}):{}},o_=(t,e,r,i)=>{const a=e.find(h=>h.name===t),l=a==null?void 0:a.type,c=r[t];return l&&!i.includes(l)?Km(l,c):Xu(c)},Km=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return c_(e,r)}switch(t){case Te.bool:return a_(e);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return l_(e);case Te.json:case Te.jsonb:return u_(e);case Te.timestamp:return d_(e);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Xu(e);default:return Xu(e)}},Xu=t=>t,a_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},l_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},u_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},c_=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,i=t[r];if(t[0]==="{"&&i==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Km(e,h))}return t},d_=t=>typeof t=="string"?t.replace(" ","T"):t,qm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class bu{constructor(e,r,i={},a=Ju){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ip;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ip||(ip={}));class Ai{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,a,l,c),this.pendingDiffs.forEach(f=>{this.state=Ai.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ai.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const l=this.cloneDeep(e),c=this.transformState(r),h={},f={};return this.map(l,(m,y)=>{c[m]||(f[m]=y)}),this.map(c,(m,y)=>{const g=l[m];if(g){const w=y.map(P=>P.presence_ref),x=g.map(P=>P.presence_ref),E=y.filter(P=>x.indexOf(P.presence_ref)<0),k=g.filter(P=>w.indexOf(P.presence_ref)<0);E.length>0&&(h[m]=E),k.length>0&&(f[m]=k)}else h[m]=y}),this.syncDiff(l,{joins:h,leaves:f},i,a)}static syncDiff(e,r,i,a){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,f)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),y.length>0){const g=e[h].map(x=>x.presence_ref),w=y.filter(x=>g.indexOf(x.presence_ref)<0);e[h].unshift(...w)}i(h,y,f)}),this.map(c,(h,f)=>{let m=e[h];if(!m)return;const y=f.map(g=>g.presence_ref);m=m.filter(g=>y.indexOf(g.presence_ref)<0),e[h]=m,a(h,m,f),m.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var op;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(op||(op={}));var Ri;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ri||(Ri={}));var jn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class ks{constructor(e,r={config:{}},i){var a,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bu(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Hm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Ai(this),this.broadcastEndpointURL=qm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:c,presence:h,private:f}}=this.params,m=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Ri.PRESENCE]&&this.bindings[Ri.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},w={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(jn.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e==null||e(jn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,P=(E=k==null?void 0:k.length)!==null&&E!==void 0?E:0,A=[];for(let D=0;D<P;D++){const O=k[D],{filter:{event:$,schema:V,table:z,filter:te}}=O,J=x&&x[D];if(J&&J.event===$&&ks.isFilterValueEqual(J.schema,V)&&ks.isFilterValueEqual(J.table,z)&&ks.isFilterValueEqual(J.filter,te))A.push(Object.assign(Object.assign({},O),{id:J.id}));else{this.unsubscribe(),this.state=Qe.errored,e==null||e(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(jn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Qe.errored,e==null||e(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Qe.joined&&e===Ri.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new bu(this,cn.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),c}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new bu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>s_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:y}=cn;if(i&&[h,f,m,y].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,r,i);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var E,k,P;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((P=(k=x.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===c}).map(x=>x.callback(w,i)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var E,k,P,A,D,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const $=x.id,V=(E=x.filter)===null||E===void 0?void 0:E.event;return $&&((k=r.ids)===null||k===void 0?void 0:k.includes($))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const $=(D=(A=x==null?void 0:x.filter)===null||A===void 0?void 0:A.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return $==="*"||$===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:k,table:P,commit_timestamp:A,type:D,errors:O}=E;w=Object.assign(Object.assign({},{schema:k,table:P,commit_timestamp:A,eventType:D,new:{},old:{},errors:O}),this._getPayloadRecords(E))}x.callback(w,i)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&ks.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(cn.close,{},e)}_onError(e){this._on(cn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=sp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=sp(e.columns,e.old_record)),r}}const ku=()=>{},da={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h_=[1e3,2e3,5e3,1e4],f_=1e4,p_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m_{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ju,this.transport=null,this.heartbeatIntervalMs=da.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ku,this.ref=0,this.reconnectTimer=null,this.vsn=rp,this.logger=ku,this.conn=null,this.sendBuffer=[],this.serializer=new i_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Yu.websocket}`,this.httpEndpoint=qm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case lr.connecting:return Lr.Connecting;case lr.open:return Lr.Open;case lr.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new ks(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(r_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},da.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=r,h=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${i} ${a} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(a,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===lr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===lr.open||this.conn.readyState===lr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(cn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([p_],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,i=!1;if(e)r=e,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const l={access_token:r,version:t_};r&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(cn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Hm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},da.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,l,c,h,f,m,y,g,w,x;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Ju,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:da.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:ku,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:rp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(E=>h_[E-1]||f_),this.vsn){case Wm:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:((E,k)=>k(JSON.stringify(E))),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:((E,k)=>k(JSON.parse(E)));break;case n_:this.encode=(w=e==null?void 0:e.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ii=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function g_(t,e,r){const i=new URL(e,t);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function y_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function v_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:l,headers:c}){const h=g_(t.baseUrl,i,a),f=await y_(t.auth),m=await e(h,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),y=await m.text(),g=(m.headers.get("content-type")||"").includes("application/json"),w=g&&y?JSON.parse(y):y;if(!m.ok){const x=g?w:void 0,E=x==null?void 0:x.error;throw new Ii((E==null?void 0:E.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:x})}return{status:m.status,headers:m.headers,data:w}}}}function ha(t){return t.join("")}var w_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ha(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ha(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ha(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ha(t.namespace)}`}),!0}catch(e){if(e instanceof Ii&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ii&&r.status===409)return;throw r}}};function ms(t){return t.join("")}var __=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ms(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ms(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ii&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ii&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},x_=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=v_({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new w_(this.client,e),this.tableOps=new __(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Oa=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function De(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var S_=class extends Oa{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qu=class extends Oa{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Ac=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),b_=()=>Response,Zu=t=>{if(Array.isArray(t))return t.map(r=>Zu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Zu(i)}),e},k_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},E_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Li(t){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(t)}function T_(t,e){if(Li(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Li(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C_(t){var e=T_(t,"string");return Li(e)=="symbol"?e:e+""}function P_(t,e,r){return(e=C_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ap(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ap(Object(r),!0).forEach(function(i){P_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const Eu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},A_=async(t,e,r)=>{t instanceof await b_()&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const a=t.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new S_(Eu(i),a,l))}).catch(i=>{e(new Qu(Eu(i),i))}):e(new Qu(Eu(t),t))},R_=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?a:(k_(i)?(a.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),de(de({},a),r))};async function Ki(t,e,r,i,a,l){return new Promise((c,h)=>{t(r,R_(e,i,a,l)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>A_(f,h,i))})}async function Mi(t,e,r,i){return Ki(t,"GET",e,r,i)}async function un(t,e,r,i,a){return Ki(t,"POST",e,i,a,r)}async function ec(t,e,r,i,a){return Ki(t,"PUT",e,i,a,r)}async function j_(t,e,r,i){return Ki(t,"HEAD",e,de(de({},r),{},{noResolveJson:!0}),i)}async function Rc(t,e,r,i,a){return Ki(t,"DELETE",e,i,a,r)}var O_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}}};let Gm;Gm=Symbol.toStringTag;var N_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Gm]="BlobDownloadBuilder",this.promise=null}asStream(){return new O_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}}};const D_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var I_=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Ac(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,i){var a=this;try{let l;const c=de(de({},lp),i);let h=de(de({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",a.encodeMetadata(f)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",a.encodeMetadata(f))):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,f&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i!=null&&i.headers&&(h=de(de({},h),i.headers));const m=a._removeEmptyFolders(e),y=a._getFinalPath(m),g=await(t=="PUT"?ec:un)(a.fetch,`${a.url}/object/${y}`,l,de({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,i){var a=this;const l=a._removeEmptyFolders(t),c=a._getFinalPath(l),h=new URL(a.url+`/object/upload/sign/${c}`);h.searchParams.set("token",e);try{let f;const m=de({upsert:lp.upsert},i),y=de(de({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:l,fullPath:(await ec(a.fetch,h.toString(),f,{headers:y})).Key},error:null}}catch(f){if(a.shouldThrowOnError)throw f;if(De(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var r=this;try{let i=r._getFinalPath(t);const a=de({},r.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const l=await un(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(r.url+l.url),h=c.searchParams.get("token");if(!h)throw new Oa("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var i=this;try{return{data:await un(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async copy(t,e,r){var i=this;try{return{data:{path:(await un(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:i.headers})).Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var i=this;try{let a=i._getFinalPath(t),l=await un(i.fetch,`${i.url}/object/sign/${a}`,de({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:i.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var i=this;try{const a=await un(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Mi(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new N_(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Zu(await Mi(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await j_(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(De(i)&&i instanceof Qu){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const r=this._getFinalPath(t),i=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}async remove(t){var e=this;try{return{data:await Rc(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async list(t,e,r){var i=this;try{const a=de(de(de({},D_),e),{},{prefix:t||""});return{data:await un(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},r),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const i=de({},t);return{data:await un(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},e),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Jm="2.89.0",Ym={"X-Client-Info":`storage-js/${Jm}`};var L_=class{constructor(t,e={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=de(de({},Ym),e),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Mi(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Mi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await un(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}}async updateBucket(t,e){var r=this;try{return{data:await ec(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}}async emptyBucket(t){var e=this;try{return{data:await un(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},M_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},Ym),e),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await un(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const i=r.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return{data:await Mi(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!E_(t))throw new Oa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new x_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(a,l){const c=a[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(a,h),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}};const jc={"X-Client-Info":`storage-js/${Jm}`,"Content-Type":"application/json"};var Xm=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Lt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Tu=class extends Xm{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$_=class extends Xm{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Oc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),B_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},up=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U_=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Tu(up(l),i,c))}).catch(()=>{const l=i+"";e(new Tu(a.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";e(new Tu(a.statusText||`HTTP ${i} error`,i,l))}}else e(new $_(up(t),t))},V_=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return i?(B_(i)?(a.headers=de({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,de(de({},a),r)):a};async function F_(t,e,r,i,a,l){return new Promise((c,h)=>{t(r,V_(e,i,a,l)).then(f=>{if(!f.ok)throw f;if(i!=null&&i.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>U_(f,h,i))})}async function Mt(t,e,r,i,a){return F_(t,"POST",e,i,a,r)}var z_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},jc),e),this.fetch=Oc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}}async listIndexes(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Lt(i))return{data:null,error:i};throw i}}},W_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},jc),e),this.fetch=Oc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Mt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}},H_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=de(de({},jc),e),this.fetch=Oc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Mt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Lt(r))return{data:null,error:r};throw r}}},K_=class extends H_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new q_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},q_=class extends z_{constructor(t,e,r,i){super(t,e,i),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new G_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},G_=class extends W_{constructor(t,e,r,i,a){super(t,e,a),this.vectorBucketName=r,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,de(de({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},J_=class extends L_{constructor(t,e={},r,i){super(t,e,r,i)}from(t){return new I_(this.url,this.headers,t,this.fetch)}get vectors(){return new K_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new M_(this.url+"/iceberg",this.headers,this.fetch)}};const Qm="2.89.0",Ss=30*1e3,tc=3,Cu=tc*Ss,Y_="http://localhost:9999",X_="supabase.auth.token",Q_={"X-Client-Info":`gotrue-js/${Qm}`},nc="X-Supabase-Api-Version",Zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ex=600*1e3;class $i extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class tx extends $i{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function nx(t){return se(t)&&t.name==="AuthApiError"}class Mr extends $i{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Dn extends $i{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}}class It extends Dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rx(t){return se(t)&&t.name==="AuthSessionMissingError"}class gs extends Dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fa extends Dn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pa extends Dn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sx(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class cp extends Dn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ix extends Dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rc extends Dn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Pu(t){return se(t)&&t.name==="AuthRetryableFetchError"}class dp extends Dn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class sc extends Dn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hp=` 	
\r=`.split(""),ox=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hp.length;e+=1)t[hp[e].charCodeAt(0)]=-2;for(let e=0;e<Sa.length;e+=1)t[Sa[e].charCodeAt(0)]=e;return t})();function fp(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Sa[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Sa[i]),e.queuedBits-=6}}function eg(t,e,r){const i=ox[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pp(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{ux(c,i,r)};for(let c=0;c<t.length;c+=1)eg(t.charCodeAt(c),a,l);return e.join("")}function ax(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lx(t,e){for(let r=0;r<t.length;r+=1){let i=t.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ax(i,e)}}function ux(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function js(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)eg(t.charCodeAt(a),r,i);return new Uint8Array(e)}function cx(t){const e=[];return lx(t,r=>e.push(r)),new Uint8Array(e)}function $r(t){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return t.forEach(a=>fp(a,r,i)),fp(null,r,i),e.join("")}function dx(t){return Math.round(Date.now()/1e3)+t}function hx(){return Symbol("auth-callback")}const ct=()=>typeof window<"u"&&typeof document<"u",jr={tested:!1,writable:!1},tg=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jr.tested)return jr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jr.tested=!0,jr.writable=!0}catch{jr.tested=!0,jr.writable=!1}return jr.writable};function fx(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const ng=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),px=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Or=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ut=async(t,e)=>{await t.removeItem(e)};class Na{constructor(){this.promise=new Na.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Na.promiseConstructor=Promise;function Au(t){const e=t.split(".");if(e.length!==3)throw new sc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Z_.test(e[i]))throw new sc("JWT not in base64url format");return{header:JSON.parse(pp(e[0])),payload:JSON.parse(pp(e[1])),signature:js(e[2]),raw:{header:e[0],payload:e[1]}}}async function mx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gx(t,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function yx(t){return("0"+t.toString(16)).substr(-2)}function vx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,yx).join("")}async function wx(t){const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function _x(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(t,e,r=!1){const i=vx();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await bs(t,`${e}-code-verifier`,a);const l=await _x(i);return[l,i===l?"plain":"s256"]}const xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sx(t){const e=t.headers.get(nc);if(!e||!e.match(xx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function bx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function kx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(t){if(!Ex.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ru(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tx(t,e){return new Proxy(t,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function mp(t){return JSON.parse(JSON.stringify(t))}const Dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cx=[502,503,504];async function gp(t){var e;if(!px(t))throw new rc(Dr(t),0);if(Cx.includes(t.status))throw new rc(Dr(t),t.status);let r;try{r=await t.json()}catch(l){throw new Mr(Dr(l),l)}let i;const a=Sx(t);if(a&&a.getTime()>=Zm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new dp(Dr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new dp(Dr(r),t.status,r.weak_password.reasons);throw new tx(Dr(r),t.status||500,i)}const Px=(t,e,r,i)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ce(t,e,r,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[nc]||(l[nc]=Zm["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await Ax(t,e,r+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function Ax(t,e,r,i,a,l){const c=Px(e,i,a,l);let h;try{h=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new rc(Dr(f),0)}if(h.ok||await gp(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(f){await gp(f)}}function an(t){var e;let r=null;Ox(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=dx(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:i},error:null}}function yp(t){const e=an(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ur(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rx(t){return{data:t,error:null}}function jx(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=t,c=ja(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},f=Object.assign({},c);return{data:{properties:h,user:f},error:null}}function vp(t){return t}function Ox(t){return t.access_token&&t.refresh_token&&t.expires_in}const ju=["global","local","others"];class Nx{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=ng(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ju[0]){if(ju.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ju.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ur})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=ja(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:jx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,l,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:vp});if(y.error)throw y.error;const g=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(E.split(";")[1].split("=")[1]);m[`${P}Page`]=k}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(se(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){vs(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vs(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ur})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){vs(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ur})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){vs(e.userId);try{const{data:r,error:i}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vs(e.userId),vs(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,l,c,h,f;try{const m={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:vp});if(y.error)throw y.error;const g=await y.json(),w=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(E.split(";")[1].split("=")[1]);m[`${P}Page`]=k}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},g),m),error:null}}catch(m){if(se(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}}function wp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ws={debug:!!(globalThis&&tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Dx extends rg{}async function Ix(t,e,r){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Dx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ws.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Lx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mx(t){return parseInt(t,16)}function $x(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Bx(t){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:f,resources:m,scheme:y,uri:g,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=sg(t.address),E=y?`${y}://${i}`:i,k=t.statement?`${t.statement}
`:"",P=`${E} wants you to sign in with your Ethereum account:
${x}

${k}`;let A=`URI: ${g}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),h&&(A+=`
Not Before: ${h.toISOString()}`),f&&(A+=`
Request ID: ${f}`),m){let D=`
Resources:`;for(const O of m){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);D+=`
- ${O}`}A+=D}return`${P}
${A}`}class Ke extends Error{constructor({message:e,code:r,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ba extends Ke{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ux({error:t,options:e}){var r,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ig(c)){if(l.rp.id!==c)return new Ke({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Vx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ke({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(ig(i)){if(r.rpId!==i)return new Ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Fx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zx=new Fx;function Wx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:i}=t,a=ja(t,["challenge","user","excludeCredentials"]),l=js(e).buffer,c=Object.assign(Object.assign({},r),{id:js(r.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:js(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function Hx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,i=ja(t,["challenge","allowCredentials"]),a=js(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const h=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:js(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function Kx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:$r(new Uint8Array(t.response.attestationObject)),clientDataJSON:$r(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,i=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:$r(new Uint8Array(a.authenticatorData)),clientDataJSON:$r(new Uint8Array(a.clientDataJSON)),signature:$r(new Uint8Array(a.signature)),userHandle:a.userHandle?$r(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ig(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _p(){var t,e;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Gx(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ba("Browser returned unexpected credential type",e)}:{data:null,error:new ba("Empty credential response",e)}}catch(e){return{data:null,error:Ux({error:e,options:t})}}}async function Jx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ba("Browser returned unexpected credential type",e)}:{data:null,error:new ba("Empty credential response",e)}}catch(e){return{data:null,error:Vx({error:e,options:t})}}}const Yx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ka(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of t)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(r(c))i[l]=c;else if(e(c)){const h=i[l];e(h)?i[l]=ka(h,c):i[l]=ka(c)}else i[l]=c}return i}function Qx(t,e){return ka(Yx,t,e||{})}function Zx(t,e){return ka(Xx,t,e||{})}class eS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:h};const f=a??zx.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=Qx(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:g}=await Gx({publicKey:m,signal:f});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}case"request":{const m=Zx(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:g}=await Jx(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:g}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Mr("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new $i("rpId is required for WebAuthn authentication")};try{if(!_p())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:i,credential_response:f.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Mr("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new $i("rpId is required for WebAuthn registration")};try{if(!_p())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var g;return(g=y.data)===null||g===void 0?void 0:g.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Mr("Unexpected error in register",c)}}}}Lx();const tS={url:Y_,storageKey:X_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xp(t,e,r){return await r()}const _s={};class Bi{get jwks(){var e,r;return(r=(e=_s[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=_s[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},tS),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Bi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Bi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ct()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Nx({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ng(l.fetch),this.lock=l.lock||xp,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&ct()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=Ix:this.lock=xp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wp(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=wp(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qm}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(ct()&&(r=fx(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ct()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),sx(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?this._returnResult({error:r}):this._returnResult({error:new Mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:an}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,a;try{let l;if("email"in e){const{email:y,password:g,options:w}=e;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await ys(this.storage,this.storageKey)),l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:y,password:g,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:x,code_challenge_method:E},xform:an})}else if("phone"in e){const{phone:y,password:g,options:w}=e;l=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:g,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(a=w==null?void 0:w.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:an})}else throw new fa("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:h}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yp})}else if("phone"in e){const{phone:l,password:c,options:h}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yp})}else throw new fa("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new gs;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,l,c,h,f,m,y,g,w;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:k,wallet:P,statement:A,options:D}=e;let O;if(ct())if(typeof P=="object")O=P;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")O=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=P}const $=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href),V=await O.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=sg(V[0]);let te=(i=D==null?void 0:D.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!te){const K=await O.request({method:"eth_chainId"});te=Mx(K)}const J={domain:$.host,address:z,statement:A,uri:$.href,version:"1",chainId:te,nonce:(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=D==null?void 0:D.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=D==null?void 0:D.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=D==null?void 0:D.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=D==null?void 0:D.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=Bx(J),E=await O.request({method:"personal_sign",params:[$x(x),z]})}try{const{data:k,error:P}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:E},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:an});if(P)throw P;if(!k||!k.session||!k.user){const A=new gs;return this._returnResult({data:{user:null,session:null},error:A})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:P})}catch(k){if(se(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var r,i,a,l,c,h,f,m,y,g,w,x;let E,k;if("message"in e)E=e.message,k=e.signature;else{const{chain:P,wallet:A,statement:D,options:O}=e;let $;if(ct())if(typeof A=="object")$=A;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))$=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=A}const V=new URL((r=O==null?void 0:O.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){const z=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),D?{statement:D}:null));let te;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")te=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)te=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)E=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),k=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${V.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(a=(i=O==null?void 0:O.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((h=O==null?void 0:O.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((m=O==null?void 0:O.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(y=O==null?void 0:O.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const z=await $.signMessage(new TextEncoder().encode(E),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=z}}try{const{data:P,error:A}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:$r(k)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:an});if(A)throw A;if(!P||!P.session||!P.user){const D=new gs;return this._returnResult({data:{user:null,session:null},error:D})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:A})}catch(P){if(se(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(e){const r=await Or(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new ix;const{data:l,error:c}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:an});if(await ut(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:l,nonce:c}=e,h=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:an}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const y=new gs;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,l,c;try{if("email"in e){const{email:h,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ys(this.storage,this.storageKey));const{error:g}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(l=f==null?void 0:f.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(c=f==null?void 0:f.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new fa("You must provide either an email or phone number.")}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,i;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:an});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,l,c;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await ys(this.storage,this.storageKey));const m=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:Rx});return!((l=m.data)===null||l===void 0)&&l.url&&ct()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new It;const{error:a}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:h}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new fa("You must provide either an email or phone number and a type")}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Cu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await Or(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Ru()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=Tx(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ur}):await this._useSession(async r=>{var i,a,l;const{data:c,error:h}=r;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ur})})}catch(r){if(se(r))return rx(r)&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new It;const c=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await ys(this.storage,this.storageKey));const{data:m,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:c.access_token,xform:ur});if(y)throw y;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:c}=Au(e.access_token);if(c.exp&&(i=c.exp,a=i<=r),a){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:c,error:h}=r;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ct())throw new pa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new cp("No code detected.");const{data:D,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:f,token_type:m}=e;if(!l||!h||!c||!m)throw new pa("No session defined in URL");const y=Math.round(Date.now()/1e3),g=parseInt(h);let w=y+g;f&&(w=parseInt(f));const x=w-y;x*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const E=w-g;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:k,error:P}=await this._getUser(l);if(P)throw P;const A={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:g,expires_at:w,refresh_token:c,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(nx(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hx(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ys(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var c,h,f,m,y;const{data:g,error:w}=l;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(m=g.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return ct()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:c,provider:h,token:f,access_token:m,nonce:y}=e,g=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:f,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:an}),{data:w,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new gs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(a){if(await ut(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)throw c;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await gx(async a=>(a>0&&await mx(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:an})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Pu(l)&&Date.now()+c-i<Ss})}catch(i){if(this._debug(r,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),ct()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Or(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await bs(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Ru()}else if(a&&!a.user&&!a.user){const c=await Or(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await ut(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,a)):a.user=Ru()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Cu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Pu(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Na;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new It;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),se(l)){const c={data:null,error:l};return Pu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ut(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await bs(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=mp(a);await bs(this.storage,this.storageKey,l)}else{const a=mp(r);await bs(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ut(this.storage,this.storageKey),await ut(this.storage,this.storageKey+"-code-verifier"),await ut(this.storage,this.storageKey+"-user"),this.userStorage&&await ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ss}ms, refresh threshold is ${tc} ticks`),a<=tc&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await ys(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Kx(e.webauthn.credential_response):qx(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Wx(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Hx(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Au(i.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new It})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new It});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new It});const c=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&ct()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new It})})}catch(e){if(se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+ex>a)return i;const{data:l,error:c}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:x,error:E}=await this.getSession();if(E||!x.session)return this._returnResult({data:null,error:E});i=x.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:f}}=Au(i);r!=null&&r.allowExpired||bx(l.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:l,header:a,signature:c},error:null}}const y=kx(a.alg),g=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,g,c,cx(`${h}.${f}`)))throw new sc("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}Bi.nextInstanceID={};const nS=Bi,rS="2.89.0";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const sS={"X-Client-Info":`supabase-js-${Ci}/${rS}`},iS={headers:sS},oS={schema:"public"},aS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lS={};function Ui(t){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(t)}function uS(t,e){if(Ui(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(Ui(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cS(t){var e=uS(t,"string");return Ui(e)=="symbol"?e:e+""}function dS(t,e,r){return(e=cS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,i)}return r}function Me(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sp(Object(r),!0).forEach(function(i){dS(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sp(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}const hS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fS=()=>Headers,pS=(t,e,r)=>{const i=hS(r),a=fS();return async(l,c)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let m=new a(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),i(l,Me(Me({},c),{},{headers:m}))}};function mS(t){return t.endsWith("/")?t:t+"/"}function gS(t,e){var r,i;const{db:a,auth:l,realtime:c,global:h}=t,{db:f,auth:m,realtime:y,global:g}=e,w={db:Me(Me({},f),a),auth:Me(Me({},m),l),realtime:Me(Me({},y),c),storage:{},global:Me(Me(Me({},g),h),{},{headers:Me(Me({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function yS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var vS=class extends nS{constructor(t){super(t)}},wS=class{constructor(t,e,r){var i,a;this.supabaseUrl=t,this.supabaseKey=e;const l=yS(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:oS,realtime:lS,auth:Me(Me({},aS),{},{storageKey:c}),global:iS},f=gS(r??{},h);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=pS(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Qw(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new J_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new qw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:h,debug:f,throwOnError:m},y,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vS({url:this.authUrl.href,headers:Me(Me({},w),y),storageKey:l,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:h,debug:f,throwOnError:m,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new m_(this.realtimeUrl.href,Me(Me({},t),{},{params:Me(Me({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const _S=(t,e,r)=>new wS(t,e,r);function xS(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const og="rohxgnritamuplyviofo",Rn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJvaHhnbnJpdGFtdXBseXZpb2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2Mjc4MzYsImV4cCI6MjA4MzIwMzgzNn0.cmtmcMfhiJvON5xZ7SvUYqIFBd4UyD2GcyAIHvX6nnA",SS=`https://${og}.supabase.co`,bp=_S(SS,Rn);function bS({isOpen:t,onClose:e,type:r,onSubmit:i}){const[a,l]=Q.useState({name:"",link:"",location:"",mapLink:"",priority:"medium",status:"dreaming",tags:"",note:"",imageUrl:""}),[c,h]=Q.useState(null),[f,m]=Q.useState(null),[y,g]=Q.useState(!1),w=Q.useRef(null);if(!t)return null;const x=k=>{var A;const P=(A=k.target.files)==null?void 0:A[0];if(P){h(P);const D=new FileReader;D.onloadend=()=>{m(D.result)},D.readAsDataURL(P)}},E=async k=>{k.preventDefault(),g(!0);try{let P=a.imageUrl;if(c)try{const D=Date.now(),O=Math.random().toString(36).substring(2,15),$=c.name.split(".").pop()||"jpg",V=`${D}-${O}.${$}`,{data:z,error:te}=await bp.storage.from("wishlist-images").upload(V,c,{cacheControl:"3600",upsert:!1});if(te)throw te;const{data:{publicUrl:J}}=bp.storage.from("wishlist-images").getPublicUrl(z.path);P=J,qt.success("Image uploaded successfully!")}catch(D){console.error("Error uploading image:",D),qt.error("Failed to upload image. Please try again."),g(!1);return}const A={name:a.name,note:a.note,imageUrl:P};r==="gift"?(A.link=a.link,A.priority=a.priority):(A.location=a.location,A.status=a.status,A.tags=a.tags.split(",").map(D=>D.trim()).filter(D=>D),A.mapLink=a.mapLink),await i(A),l({name:"",link:"",location:"",mapLink:"",priority:"medium",status:"dreaming",tags:"",note:"",imageUrl:""}),h(null),m(null),e()}catch(P){console.error("Error submitting form:",P)}finally{g(!1)}};return b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-[#3D3328]/60 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white rounded-[1.25rem] shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"sticky top-0 bg-white border-b border-[#EBE6DD] p-6 flex items-center justify-between rounded-t-[1.25rem]",children:[b.jsxs("h2",{className:"text-2xl text-[#3D3328]",children:["Add New ",r==="gift"?"Gift":"Place"]}),b.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-[#EBE6DD] hover:bg-[#D1C9BC] flex items-center justify-center transition-colors","aria-label":"Close modal",children:b.jsx(uw,{className:"w-5 h-5 text-[#3D3328]"})})]}),b.jsxs("form",{onSubmit:E,className:"p-6 space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Image"}),b.jsx("div",{onClick:()=>{var k;return(k=w.current)==null?void 0:k.click()},className:"border-2 border-dashed border-[#D1C9BC] rounded-xl p-8 text-center cursor-pointer hover:border-[#D97652] transition-colors bg-[#FAF7F2]",children:f?b.jsx("img",{src:f,alt:"Preview",className:"max-h-48 mx-auto rounded-lg"}):b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsx("div",{className:"w-12 h-12 bg-[#EBE6DD] rounded-full flex items-center justify-center",children:b.jsx(aw,{className:"w-6 h-6 text-[#706B61]"})}),b.jsx("p",{className:"text-[#706B61]",children:"Click to upload or drag and drop"}),b.jsx("p",{className:"text-sm text-[#706B61]",children:"PNG, JPG up to 5MB"})]})}),b.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:x,className:"hidden"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Or Image URL"}),b.jsx("input",{type:"url",value:a.imageUrl,onChange:k=>l({...a,imageUrl:k.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-[#3D3328] mb-2",children:[r==="gift"?"Item Name":"Place Name"," *"]}),b.jsx("input",{type:"text",required:!0,value:a.name,onChange:k=>l({...a,name:k.target.value}),placeholder:r==="gift"?"e.g., Cashmere Scarf":"e.g., Santorini",className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white"})]}),r==="gift"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Link"}),b.jsx("input",{type:"url",value:a.link,onChange:k=>l({...a,link:k.target.value}),placeholder:"https://example.com/product",className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Priority"}),b.jsxs("select",{value:a.priority,onChange:k=>l({...a,priority:k.target.value}),className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white",children:[b.jsx("option",{value:"high",children:"High Priority"}),b.jsx("option",{value:"medium",children:"Someday"}),b.jsx("option",{value:"low",children:"Dreaming"})]})]})]}),r==="place"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Location *"}),b.jsx("input",{type:"text",required:!0,value:a.location,onChange:k=>l({...a,location:k.target.value}),placeholder:"e.g., Greece",className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Status"}),b.jsxs("select",{value:a.status,onChange:k=>l({...a,status:k.target.value}),className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white",children:[b.jsx("option",{value:"dreaming",children:"Dreaming of"}),b.jsx("option",{value:"booked",children:"Booked"}),b.jsx("option",{value:"visited",children:"Visited"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:"Tags (comma-separated)"}),b.jsx("input",{type:"text",value:a.tags,onChange:k=>l({...a,tags:k.target.value}),placeholder:"e.g.,  Foodie,  Nature,  Travel",className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[#3D3328] mb-2",children:r==="gift"?"Why I want this":"Why this place"}),b.jsx("textarea",{value:a.note,onChange:k=>l({...a,note:k.target.value}),placeholder:r==="gift"?"e.g., It matches my winter coat perfectly!":"e.g., The sunset views are breathtaking. https://maps.google.com/?q=Santorini,Greece",rows:4,className:"w-full px-4 py-3 rounded-xl border border-[#D1C9BC] focus:border-[#D97652] focus:outline-none focus:ring-2 focus:ring-[#D97652]/20 bg-white resize-none"}),r==="place"&&b.jsx("p",{className:"text-sm text-[#706B61] mt-1",children:" Tip: Include a Google Maps link in your note to show a Map button"})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 rounded-xl border border-[#D1C9BC] text-[#3D3328] hover:bg-[#EBE6DD] transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:y,className:`flex-1 px-6 py-3 rounded-xl ${r==="gift"?"bg-[#D97652]":"bg-[#7C8B6E]"} text-white hover:opacity-90 transition-opacity flex items-center justify-center gap-2 disabled:opacity-50`,children:y?b.jsxs(b.Fragment,{children:[b.jsx(ew,{className:"w-5 h-5 animate-spin"}),"Adding..."]}):"Add Item"})]})]})]})})}const ag=Q.createContext({});function kS(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nc=typeof window<"u",ES=Nc?Q.useLayoutEffect:Q.useEffect,Dc=Q.createContext(null);function Ic(t,e){t.indexOf(e)===-1&&t.push(e)}function Lc(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const On=(t,e,r)=>r>e?e:r<t?t:r;let Mc=()=>{};const Nn={},lg=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ug(t){return typeof t=="object"&&t!==null}const cg=t=>/^0[^.\s]+$/u.test(t);function $c(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yt=t=>t,TS=(t,e)=>r=>e(t(r)),qi=(...t)=>t.reduce(TS),Vi=(t,e,r)=>{const i=e-t;return i===0?1:(r-t)/i};class Bc{constructor(){this.subscriptions=[]}add(e){return Ic(this.subscriptions,e),()=>Lc(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yn=t=>t*1e3,Jt=t=>t/1e3;function dg(t,e){return e?t*(1e3/e):0}const hg=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,CS=1e-7,PS=12;function AS(t,e,r,i,a){let l,c,h=0;do c=e+(r-e)/2,l=hg(c,i,a)-t,l>0?r=c:e=c;while(Math.abs(l)>CS&&++h<PS);return c}function Gi(t,e,r,i){if(t===e&&r===i)return Yt;const a=l=>AS(l,0,1,t,r);return l=>l===0||l===1?l:hg(a(l),e,i)}const fg=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pg=t=>e=>1-t(1-e),mg=Gi(.33,1.53,.69,.99),Uc=pg(mg),gg=fg(Uc),yg=t=>(t*=2)<1?.5*Uc(t):.5*(2-Math.pow(2,-10*(t-1))),Vc=t=>1-Math.sin(Math.acos(t)),vg=pg(Vc),wg=fg(Vc),RS=Gi(.42,0,1,1),jS=Gi(0,0,.58,1),_g=Gi(.42,0,.58,1),OS=t=>Array.isArray(t)&&typeof t[0]!="number",xg=t=>Array.isArray(t)&&typeof t[0]=="number",NS={linear:Yt,easeIn:RS,easeInOut:_g,easeOut:jS,circIn:Vc,circInOut:wg,circOut:vg,backIn:Uc,backInOut:gg,backOut:mg,anticipate:yg},DS=t=>typeof t=="string",kp=t=>{if(xg(t)){Mc(t.length===4);const[e,r,i,a]=t;return Gi(e,r,i,a)}else if(DS(t))return NS[t];return t},ma=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IS(t,e){let r=new Set,i=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){c.has(y)&&(m.schedule(y),t()),y(h)}const m={schedule:(y,g=!1,w=!1)=>{const E=w&&a?r:i;return g&&c.add(y),E.has(y)||E.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[r,i]=[i,r],r.forEach(f),r.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const LS=40;function Sg(t,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=ma.reduce((O,$)=>(O[$]=IS(l),O),{}),{setup:h,read:f,resolveKeyframes:m,preUpdate:y,update:g,preRender:w,render:x,postRender:E}=c,k=()=>{const O=Nn.useManualTiming?a.timestamp:performance.now();r=!1,Nn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,LS),1)),a.timestamp=O,a.isProcessing=!0,h.process(a),f.process(a),m.process(a),y.process(a),g.process(a),w.process(a),x.process(a),E.process(a),a.isProcessing=!1,r&&e&&(i=!1,t(k))},P=()=>{r=!0,i=!0,a.isProcessing||t(k)};return{schedule:ma.reduce((O,$)=>{const V=c[$];return O[$]=(z,te=!1,J=!1)=>(r||P(),V.schedule(z,te,J)),O},{}),cancel:O=>{for(let $=0;$<ma.length;$++)c[ma[$]].cancel(O)},state:a,steps:c}}const{schedule:je,cancel:cr,state:dt,steps:Ou}=Sg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0);let va;function MS(){va=void 0}const Pt={now:()=>(va===void 0&&Pt.set(dt.isProcessing||Nn.useManualTiming?dt.timestamp:performance.now()),va),set:t=>{va=t,queueMicrotask(MS)}},bg=t=>e=>typeof e=="string"&&e.startsWith(t),kg=bg("--"),$S=bg("var(--"),Fc=t=>$S(t)?BS.test(t.split("/*")[0].trim()):!1,BS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Is={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fi={...Is,transform:t=>On(0,1,t)},ga={...Is,default:1},ji=t=>Math.round(t*1e5)/1e5,zc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function US(t){return t==null}const VS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wc=(t,e)=>r=>!!(typeof r=="string"&&VS.test(r)&&r.startsWith(t)||e&&!US(r)&&Object.prototype.hasOwnProperty.call(r,e)),Eg=(t,e,r)=>i=>{if(typeof i!="string")return i;const[a,l,c,h]=i.match(zc);return{[t]:parseFloat(a),[e]:parseFloat(l),[r]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},FS=t=>On(0,255,t),Nu={...Is,transform:t=>Math.round(FS(t))},Br={test:Wc("rgb","red"),parse:Eg("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:i=1})=>"rgba("+Nu.transform(t)+", "+Nu.transform(e)+", "+Nu.transform(r)+", "+ji(Fi.transform(i))+")"};function zS(t){let e="",r="",i="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ic={test:Wc("#"),parse:zS,transform:Br.transform},Ji=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ar=Ji("deg"),vn=Ji("%"),Y=Ji("px"),WS=Ji("vh"),HS=Ji("vw"),Ep={...vn,parse:t=>vn.parse(t)/100,transform:t=>vn.transform(t*100)},Es={test:Wc("hsl","hue"),parse:Eg("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(t)+", "+vn.transform(ji(e))+", "+vn.transform(ji(r))+", "+ji(Fi.transform(i))+")"},qe={test:t=>Br.test(t)||ic.test(t)||Es.test(t),parse:t=>Br.test(t)?Br.parse(t):Es.test(t)?Es.parse(t):ic.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Br.transform(t):Es.transform(t),getAnimatableNone:t=>{const e=qe.parse(t);return e.alpha=0,qe.transform(e)}},KS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qS(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zc))==null?void 0:e.length)||0)+(((r=t.match(KS))==null?void 0:r.length)||0)>0}const Tg="number",Cg="color",GS="var",JS="var(",Tp="${}",YS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zi(t){const e=t.toString(),r=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(YS,f=>(qe.test(f)?(i.color.push(l),a.push(Cg),r.push(qe.parse(f))):f.startsWith(JS)?(i.var.push(l),a.push(GS),r.push(f)):(i.number.push(l),a.push(Tg),r.push(parseFloat(f))),++l,Tp)).split(Tp);return{values:r,split:h,indexes:i,types:a}}function Pg(t){return zi(t).values}function Ag(t){const{split:e,types:r}=zi(t),i=e.length;return a=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],a[c]!==void 0){const h=r[c];h===Tg?l+=ji(a[c]):h===Cg?l+=qe.transform(a[c]):l+=a[c]}return l}}const XS=t=>typeof t=="number"?0:qe.test(t)?qe.getAnimatableNone(t):t;function QS(t){const e=Pg(t);return Ag(t)(e.map(XS))}const dr={test:qS,parse:Pg,createTransformer:Ag,getAnimatableNone:QS};function Du(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ZS({hue:t,saturation:e,lightness:r,alpha:i}){t/=360,e/=100,r/=100;let a=0,l=0,c=0;if(!e)a=l=c=r;else{const h=r<.5?r*(1+e):r+e-r*e,f=2*r-h;a=Du(f,h,t+1/3),l=Du(f,h,t),c=Du(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Ea(t,e){return r=>r>0?e:t}const Ie=(t,e,r)=>t+(e-t)*r,Iu=(t,e,r)=>{const i=t*t,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},e1=[ic,Br,Es],t1=t=>e1.find(e=>e.test(t));function Cp(t){const e=t1(t);if(!e)return!1;let r=e.parse(t);return e===Es&&(r=ZS(r)),r}const Pp=(t,e)=>{const r=Cp(t),i=Cp(e);if(!r||!i)return Ea(t,e);const a={...r};return l=>(a.red=Iu(r.red,i.red,l),a.green=Iu(r.green,i.green,l),a.blue=Iu(r.blue,i.blue,l),a.alpha=Ie(r.alpha,i.alpha,l),Br.transform(a))},oc=new Set(["none","hidden"]);function n1(t,e){return oc.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function r1(t,e){return r=>Ie(t,e,r)}function Hc(t){return typeof t=="number"?r1:typeof t=="string"?Fc(t)?Ea:qe.test(t)?Pp:o1:Array.isArray(t)?Rg:typeof t=="object"?qe.test(t)?Pp:s1:Ea}function Rg(t,e){const r=[...t],i=r.length,a=t.map((l,c)=>Hc(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)r[c]=a[c](l);return r}}function s1(t,e){const r={...t,...e},i={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(i[a]=Hc(t[a])(t[a],e[a]));return a=>{for(const l in i)r[l]=i[l](a);return r}}function i1(t,e){const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=t.values[c]??0;r[a]=h,i[l]++}return r}const o1=(t,e)=>{const r=dr.createTransformer(e),i=zi(t),a=zi(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?oc.has(t)&&!a.values.length||oc.has(e)&&!i.values.length?n1(t,e):qi(Rg(i1(i,a),a.values),r):Ea(t,e)};function jg(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ie(t,e,r):Hc(t)(t,e)}const a1=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>je.update(e,r),stop:()=>cr(e),now:()=>dt.isProcessing?dt.timestamp:Pt.now()}},Og=(t,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ta=2e4;function Kc(t){let e=0;const r=50;let i=t.next(e);for(;!i.done&&e<Ta;)e+=r,i=t.next(e);return e>=Ta?1/0:e}function l1(t,e=100,r){const i=r({...t,keyframes:[0,e]}),a=Math.min(Kc(i),Ta);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:Jt(a)}}const u1=5;function Ng(t,e,r){const i=Math.max(e-u1,0);return dg(r-t(i),e-i)}const $e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lu=.001;function c1({duration:t=$e.duration,bounce:e=$e.bounce,velocity:r=$e.velocity,mass:i=$e.mass}){let a,l,c=1-e;c=On($e.minDamping,$e.maxDamping,c),t=On($e.minDuration,$e.maxDuration,Jt(t)),c<1?(a=m=>{const y=m*c,g=y*t,w=y-r,x=ac(m,c),E=Math.exp(-g);return Lu-w/x*E},l=m=>{const g=m*c*t,w=g*r+r,x=Math.pow(c,2)*Math.pow(m,2)*t,E=Math.exp(-g),k=ac(Math.pow(m,2),c);return(-a(m)+Lu>0?-1:1)*((w-x)*E)/k}):(a=m=>{const y=Math.exp(-m*t),g=(m-r)*t+1;return-Lu+y*g},l=m=>{const y=Math.exp(-m*t),g=(r-m)*(t*t);return y*g});const h=5/t,f=h1(a,l,h);if(t=yn(t),isNaN(f))return{stiffness:$e.stiffness,damping:$e.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:t}}}const d1=12;function h1(t,e,r){let i=r;for(let a=1;a<d1;a++)i=i-t(i)/e(i);return i}function ac(t,e){return t*Math.sqrt(1-e*e)}const f1=["duration","bounce"],p1=["stiffness","damping","mass"];function Ap(t,e){return e.some(r=>t[r]!==void 0)}function m1(t){let e={velocity:$e.velocity,stiffness:$e.stiffness,damping:$e.damping,mass:$e.mass,isResolvedFromDuration:!1,...t};if(!Ap(t,p1)&&Ap(t,f1))if(t.visualDuration){const r=t.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,l=2*On(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:$e.mass,stiffness:a,damping:l}}else{const r=c1(t);e={...e,...r,mass:$e.mass},e.isResolvedFromDuration=!0}return e}function Ca(t=$e.visualDuration,e=$e.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:m,mass:y,duration:g,velocity:w,isResolvedFromDuration:x}=m1({...r,velocity:-Jt(r.velocity||0)}),E=w||0,k=m/(2*Math.sqrt(f*y)),P=c-l,A=Jt(Math.sqrt(f/y)),D=Math.abs(P)<5;i||(i=D?$e.restSpeed.granular:$e.restSpeed.default),a||(a=D?$e.restDelta.granular:$e.restDelta.default);let O;if(k<1){const V=ac(A,k);O=z=>{const te=Math.exp(-k*A*z);return c-te*((E+k*A*P)/V*Math.sin(V*z)+P*Math.cos(V*z))}}else if(k===1)O=V=>c-Math.exp(-A*V)*(P+(E+A*P)*V);else{const V=A*Math.sqrt(k*k-1);O=z=>{const te=Math.exp(-k*A*z),J=Math.min(V*z,300);return c-te*((E+k*A*P)*Math.sinh(J)+V*P*Math.cosh(J))/V}}const $={calculatedDuration:x&&g||null,next:V=>{const z=O(V);if(x)h.done=V>=g;else{let te=V===0?E:0;k<1&&(te=V===0?yn(E):Ng(O,V,z));const J=Math.abs(te)<=i,K=Math.abs(c-z)<=a;h.done=J&&K}return h.value=h.done?c:z,h},toString:()=>{const V=Math.min(Kc($),Ta),z=Og(te=>$.next(V*te).value,V,30);return V+"ms "+z},toTransition:()=>{}};return $}Ca.applyToOptions=t=>{const e=l1(t,100,Ca);return t.ease=e.ease,t.duration=yn(e.duration),t.type="keyframes",t};function lc({keyframes:t,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:f,restDelta:m=.5,restSpeed:y}){const g=t[0],w={done:!1,value:g},x=J=>h!==void 0&&J<h||f!==void 0&&J>f,E=J=>h===void 0?f:f===void 0||Math.abs(h-J)<Math.abs(f-J)?h:f;let k=r*e;const P=g+k,A=c===void 0?P:c(P);A!==P&&(k=A-g);const D=J=>-k*Math.exp(-J/i),O=J=>A+D(J),$=J=>{const K=D(J),he=O(J);w.done=Math.abs(K)<=m,w.value=w.done?A:he};let V,z;const te=J=>{x(w.value)&&(V=J,z=Ca({keyframes:[w.value,E(w.value)],velocity:Ng(O,J,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return te(0),{calculatedDuration:null,next:J=>{let K=!1;return!z&&V===void 0&&(K=!0,$(J),te(J)),V!==void 0&&J>=V?z.next(J-V):(!K&&$(J),w)}}}function g1(t,e,r){const i=[],a=r||Nn.mix||jg,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Yt:e;h=qi(f,h)}i.push(h)}return i}function y1(t,e,{clamp:r=!0,ease:i,mixer:a}={}){const l=t.length;if(Mc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=g1(e,i,a),f=h.length,m=y=>{if(c&&y<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(y<t[g+1]);g++);const w=Vi(t[g],t[g+1],y);return h[g](w)};return r?y=>m(On(t[0],t[l-1],y)):m}function v1(t,e){const r=t[t.length-1];for(let i=1;i<=e;i++){const a=Vi(0,e,i);t.push(Ie(r,1,a))}}function w1(t){const e=[0];return v1(e,t.length-1),e}function _1(t,e){return t.map(r=>r*e)}function x1(t,e){return t.map(()=>e||_g).splice(0,t.length-1)}function Oi({duration:t=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=OS(i)?i.map(kp):kp(i),l={done:!1,value:e[0]},c=_1(r&&r.length===e.length?r:w1(e),t),h=y1(c,e,{ease:Array.isArray(a)?a:x1(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const S1=t=>t!==null;function qc(t,{repeat:e,repeatType:r="loop"},i,a=1){const l=t.filter(S1),h=a<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const b1={decay:lc,inertia:lc,tween:Oi,keyframes:Oi,spring:Ca};function Dg(t){typeof t.type=="string"&&(t.type=b1[t.type])}class Gc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const k1=t=>t/100;class Jc extends Gc{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Pt.now()&&this.tick(Pt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Dg(e);const{type:r=Oi,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const f=r||Oi;f!==Oi&&typeof h[0]!="number"&&(this.mixKeyframes=qi(k1,jg(h[0],h[1])),h=[0,100]);const m=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Kc(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:g,repeatType:w,repeatDelay:x,type:E,onUpdate:k,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const A=this.currentTime-m*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?A<0:A>a;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,$=i;if(g){const J=Math.min(this.currentTime,a)/h;let K=Math.floor(J),he=J%1;!he&&J>=1&&(he=1),he===1&&K--,K=Math.min(K,g+1),!!(K%2)&&(w==="reverse"?(he=1-he,x&&(he-=x/h)):w==="mirror"&&($=c)),O=On(0,1,he)*h}const V=D?{done:!1,value:y[0]}:$.next(O);l&&(V.value=l(V.value));let{done:z}=V;!D&&f!==null&&(z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const te=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return te&&E!==lc&&(V.value=qc(y,this.options,P,this.speed)),k&&k(V.value),te&&this.finish(),V}then(e,r){return this.finished.then(e,r)}get duration(){return Jt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jt(e)}get time(){return Jt(this.currentTime)}set time(e){var r;e=yn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Jt(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=a1,startTime:r}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function E1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ur=t=>t*180/Math.PI,uc=t=>{const e=Ur(Math.atan2(t[1],t[0]));return cc(e)},T1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:uc,rotateZ:uc,skewX:t=>Ur(Math.atan(t[1])),skewY:t=>Ur(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cc=t=>(t=t%360,t<0&&(t+=360),t),Rp=uc,jp=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Op=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),C1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jp,scaleY:Op,scale:t=>(jp(t)+Op(t))/2,rotateX:t=>cc(Ur(Math.atan2(t[6],t[5]))),rotateY:t=>cc(Ur(Math.atan2(-t[2],t[0]))),rotateZ:Rp,rotate:Rp,skewX:t=>Ur(Math.atan(t[4])),skewY:t=>Ur(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dc(t){return t.includes("scale")?1:0}function hc(t,e){if(!t||t==="none")return dc(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(r)i=C1,a=r;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=T1,a=h}if(!a)return dc(e);const l=i[e],c=a[1].split(",").map(A1);return typeof l=="function"?l(c):c[l]}const P1=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return hc(r,e)};function A1(t){return parseFloat(t.trim())}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ms=new Set(Ls),Np=t=>t===Is||t===Y,R1=new Set(["x","y","z"]),j1=Ls.filter(t=>!R1.has(t));function O1(t){const e=[];return j1.forEach(r=>{const i=t.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Vr={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>hc(e,"x"),y:(t,{transform:e})=>hc(e,"y")};Vr.translateX=Vr.x;Vr.translateY=Vr.y;const Fr=new Set;let fc=!1,pc=!1,mc=!1;function Ig(){if(pc){const t=Array.from(Fr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=O1(i);a.length&&(r.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([l,c])=>{var h;(h=i.getValue(l))==null||h.set(c)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}pc=!1,fc=!1,Fr.forEach(t=>t.complete(mc)),Fr.clear()}function Lg(){Fr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pc=!0)})}function N1(){mc=!0,Lg(),Ig(),mc=!1}class Yc{constructor(e,r,i,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Fr.add(this),fc||(fc=!0,je.read(Lg),je.resolveKeyframes(Ig))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&r){const h=i.readValue(r,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}E1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fr.delete(this)}cancel(){this.state==="scheduled"&&(Fr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const D1=t=>t.startsWith("--");function I1(t,e,r){D1(e)?t.style.setProperty(e,r):t.style[e]=r}const L1=$c(()=>window.ScrollTimeline!==void 0),M1={};function $1(t,e){const r=$c(t);return()=>M1[e]??r()}const Mg=$1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pi=([t,e,r,i])=>`cubic-bezier(${t}, ${e}, ${r}, ${i})`,Dp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pi([0,.65,.55,1]),circOut:Pi([.55,0,1,.45]),backIn:Pi([.31,.01,.66,-.59]),backOut:Pi([.33,1.53,.69,.99])};function $g(t,e){if(t)return typeof t=="function"?Mg()?Og(t,e):"ease-out":xg(t)?Pi(t):Array.isArray(t)?t.map(r=>$g(r,e)||Dp.easeOut):Dp[t]}function B1(t,e,r,{delay:i=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:f}={},m=void 0){const y={[e]:r};f&&(y.offset=f);const g=$g(h,a);Array.isArray(g)&&(y.easing=g);const w={delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(y,w)}function Bg(t){return typeof t=="function"&&"applyToOptions"in t}function U1({type:t,...e}){return Bg(t)&&Mg()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class V1 extends Gc{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:i,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Mc(typeof e.type!="string");const m=U1(e);this.animation=B1(r,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=qc(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):I1(r,i,y),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,i;const e=((i=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:i.call(r).duration)||0;return Jt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Jt(e)}get time(){return Jt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&L1()?(this.animation.timeline=e,Yt):r(this)}}const Ug={anticipate:yg,backInOut:gg,circInOut:wg};function F1(t){return t in Ug}function z1(t){typeof t.ease=="string"&&F1(t.ease)&&(t.ease=Ug[t.ease])}const Ip=10;class W1 extends V1{constructor(e){z1(e),Dg(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:a,element:l,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const h=new Jc({...c,autoplay:!1}),f=yn(this.finishedTime??this.time);r.setWithVelocity(h.sample(f-Ip).value,h.sample(f).value,Ip),h.stop()}}const Lp=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dr.test(t)||t==="0")&&!t.startsWith("url("));function H1(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function K1(t,e,r,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Lp(a,e),h=Lp(l,e);return!c||!h?!1:H1(t)||(r==="spring"||Bg(r))&&i}function gc(t){t.duration=0,t.type="keyframes"}const q1=new Set(["opacity","clipPath","filter","transform"]),G1=$c(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J1(t){var y;const{motionValue:e,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return G1()&&r&&q1.has(r)&&(r!=="transform"||!m)&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}const Y1=40;class X1 extends Gc{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:f,motionValue:m,element:y,...g}){var E;super(),this.stop=()=>{var k,P;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Pt.now();const w={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:y,...g},x=(y==null?void 0:y.KeyframeResolver)||Yc;this.keyframeResolver=new x(h,(k,P,A)=>this.onKeyframesResolved(k,P,w,!A),f,m,y),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,r,i,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:f,isHandoff:m,onUpdate:y}=i;this.resolvedAt=Pt.now(),K1(e,l,c,h)||((Nn.instantAnimations||!f)&&(y==null||y(qc(e,i,r))),e[0]=e[e.length-1],gc(i),i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Y1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},x=!m&&J1(w)?new W1({...w,element:w.motionValue.owner.current}):new Jc(w);x.finished.then(()=>this.notifyFinished()).catch(Yt),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),N1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Q1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Z1(t){const e=Q1.exec(t);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function Vg(t,e,r=1){const[i,a]=Z1(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return lg(c)?parseFloat(c):c}return Fc(a)?Vg(a,e,r+1):a}function Xc(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Fg=new Set(["width","height","top","left","right","bottom",...Ls]),eb={test:t=>t==="auto",parse:t=>t},zg=t=>e=>e.test(t),Wg=[Is,Y,vn,ar,HS,WS,eb],Mp=t=>Wg.find(zg(t));function tb(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cg(t):!0}const nb=new Set(["brightness","contrast","saturate","opacity"]);function rb(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=r.match(zc)||[];if(!i)return t;const a=r.replace(i,"");let l=nb.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+a+")"}const sb=/\b([a-z-]*)\(.*?\)/gu,yc={...dr,getAnimatableNone:t=>{const e=t.match(sb);return e?e.map(rb).join(" "):t}},$p={...Is,transform:Math.round},ib={rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:ga,scaleX:ga,scaleY:ga,scaleZ:ga,skew:ar,skewX:ar,skewY:ar,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:Fi,originX:Ep,originY:Ep,originZ:Y},Qc={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,inset:Y,insetBlock:Y,insetBlockStart:Y,insetBlockEnd:Y,insetInline:Y,insetInlineStart:Y,insetInlineEnd:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,paddingBlock:Y,paddingBlockStart:Y,paddingBlockEnd:Y,paddingInline:Y,paddingInlineStart:Y,paddingInlineEnd:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,marginBlock:Y,marginBlockStart:Y,marginBlockEnd:Y,marginInline:Y,marginInlineStart:Y,marginInlineEnd:Y,backgroundPositionX:Y,backgroundPositionY:Y,...ib,zIndex:$p,fillOpacity:Fi,strokeOpacity:Fi,numOctaves:$p},ob={...Qc,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:yc,WebkitFilter:yc},Hg=t=>ob[t];function Kg(t,e){let r=Hg(t);return r!==yc&&(r=dr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ab=new Set(["auto","none","0"]);function lb(t,e,r){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!ab.has(l)&&zi(l).values.length&&(a=t[i]),i++}if(a&&r)for(const l of e)t[l]=Kg(r,a)}class ub extends Yc{constructor(e,r,i,a,l){super(e,r,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Fc(m))){const y=Vg(m,r.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Fg.has(i)||e.length!==2)return;const[a,l]=e,c=Mp(a),h=Mp(l);if(c!==h)if(Np(c)&&Np(h))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Vr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||tb(e[a]))&&i.push(a);i.length&&lb(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Vr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function cb(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(r==null?void 0:r[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const qg=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function db(t){return ug(t)&&"offsetHeight"in t}const Bp=30,hb=t=>!isNaN(parseFloat(t));class fb{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const a=Pt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Pt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Bc);const i=this.events[e].add(r);return e==="change"?()=>{i(),je.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Bp);return dg(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(t,e){return new fb(t,e)}const{schedule:Zc}=Sg(queueMicrotask,!1),ln={x:!1,y:!1};function Gg(){return ln.x||ln.y}function pb(t){return t==="x"||t==="y"?ln[t]?null:(ln[t]=!0,()=>{ln[t]=!1}):ln.x||ln.y?null:(ln.x=ln.y=!0,()=>{ln.x=ln.y=!1})}function Jg(t,e){const r=cb(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function Up(t){return!(t.pointerType==="touch"||Gg())}function mb(t,e,r={}){const[i,a,l]=Jg(t,r),c=h=>{if(!Up(h))return;const{target:f}=h,m=e(f,h);if(typeof m!="function"||!f)return;const y=g=>{Up(g)&&(m(g),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const Yg=(t,e)=>e?t===e?!0:Yg(t,e.parentElement):!1,ed=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yb(t){return gb.has(t.tagName)||t.tabIndex!==-1}const wa=new WeakSet;function Vp(t){return e=>{e.key==="Enter"&&t(e)}}function Mu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vb=(t,e)=>{const r=t.currentTarget;if(!r)return;const i=Vp(()=>{if(wa.has(r))return;Mu(r,"down");const a=Vp(()=>{Mu(r,"up")}),l=()=>Mu(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function Fp(t){return ed(t)&&!Gg()}function wb(t,e,r={}){const[i,a,l]=Jg(t,r),c=h=>{const f=h.currentTarget;if(!Fp(h))return;wa.add(f);const m=e(f,h),y=(x,E)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",w),wa.has(f)&&wa.delete(f),Fp(x)&&typeof m=="function"&&m(x,{success:E})},g=x=>{y(x,f===window||f===document||r.useGlobalTarget||Yg(f,x.target))},w=x=>{y(x,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(r.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),db(h)&&(h.addEventListener("focus",m=>vb(m,a)),!yb(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Xg(t){return ug(t)&&"ownerSVGElement"in t}function _b(t){return Xg(t)&&t.tagName==="svg"}const yt=t=>!!(t&&t.getVelocity),xb=[...Wg,qe,dr],Sb=t=>xb.find(zg(t)),Qg=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bb(t=!0){const e=Q.useContext(Dc);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,l=Q.useId();Q.useEffect(()=>{if(t)return a(l)},[t]);const c=Q.useCallback(()=>t&&i&&i(l),[l,i,t]);return!r&&i?[!1,c]:[!0]}const Zg=Q.createContext({strict:!1}),zp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ds={};for(const t in zp)Ds[t]={isEnabled:e=>zp[t].some(r=>!!e[r])};function kb(t){for(const e in t)Ds[e]={...Ds[e],...t[e]}}const Eb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Eb.has(t)}let ey=t=>!Pa(t);function Tb(t){typeof t=="function"&&(ey=e=>e.startsWith("on")?!Pa(e):t(e))}try{Tb(require("@emotion/is-prop-valid").default)}catch{}function Cb(t,e,r){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(ey(a)||r===!0&&Pa(a)||!e&&!Pa(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Da=Q.createContext({});function Ia(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wi(t){return typeof t=="string"||Array.isArray(t)}const td=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nd=["initial",...td];function La(t){return Ia(t.animate)||nd.some(e=>Wi(t[e]))}function ty(t){return!!(La(t)||t.variants)}function Pb(t,e){if(La(t)){const{initial:r,animate:i}=t;return{initial:r===!1||Wi(r)?r:void 0,animate:Wi(i)?i:void 0}}return t.inherit!==!1?e:{}}function Ab(t){const{initial:e,animate:r}=Pb(t,Q.useContext(Da));return Q.useMemo(()=>({initial:e,animate:r}),[Wp(e),Wp(r)])}function Wp(t){return Array.isArray(t)?t.join(" "):t}function Hp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ti={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const r=Hp(t,e.target.x),i=Hp(t,e.target.y);return`${r}% ${i}%`}},Rb={correct:(t,{treeScale:e,projectionDelta:r})=>{const i=t,a=dr.parse(t);if(a.length>5)return i;const l=dr.createTransformer(t),c=typeof a[0]!="number"?1:0,h=r.x.scale*e.x,f=r.y.scale*e.y;a[0+c]/=h,a[1+c]/=f;const m=Ie(h,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},vc={borderRadius:{...Ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ti,borderTopRightRadius:Ti,borderBottomLeftRadius:Ti,borderBottomRightRadius:Ti,boxShadow:Rb};function ny(t,{layout:e,layoutId:r}){return Ms.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!vc[t]||t==="opacity")}const jb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ob=Ls.length;function Nb(t,e,r){let i="",a=!0;for(let l=0;l<Ob;l++){const c=Ls[l],h=t[c];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(c.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||r){const m=qg(h,Qc[c]);if(!f){a=!1;const y=jb[c]||c;i+=`${y}(${m}) `}r&&(e[c]=m)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function rd(t,e,r){const{style:i,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const f in e){const m=e[f];if(Ms.has(f)){c=!0;continue}else if(kg(f)){a[f]=m;continue}else{const y=qg(m,Qc[f]);f.startsWith("origin")?(h=!0,l[f]=y):i[f]=y}}if(e.transform||(c||r?i.transform=Nb(e,t.transform,r):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:m="50%",originZ:y=0}=l;i.transformOrigin=`${f} ${m} ${y}`}}const sd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ry(t,e,r){for(const i in e)!yt(e[i])&&!ny(i,r)&&(t[i]=e[i])}function Db({transformTemplate:t},e){return Q.useMemo(()=>{const r=sd();return rd(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Ib(t,e){const r=t.style||{},i={};return ry(i,r,t),Object.assign(i,Db(t,e)),i}function Lb(t,e){const r={},i=Ib(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Mb={offset:"stroke-dashoffset",array:"stroke-dasharray"},$b={offset:"strokeDashoffset",array:"strokeDasharray"};function Bb(t,e,r=1,i=0,a=!0){t.pathLength=1;const l=a?Mb:$b;t[l.offset]=Y.transform(-i);const c=Y.transform(e),h=Y.transform(r);t[l.array]=`${c} ${h}`}const Ub=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sy(t,{attrX:e,attrY:r,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},f,m,y){if(rd(t,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w}=t;g.transform&&(w.transform=g.transform,delete g.transform),(w.transform||g.transformOrigin)&&(w.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),w.transform&&(w.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete g.transformBox);for(const x of Ub)g[x]!==void 0&&(w[x]=g[x],delete g[x]);e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),i!==void 0&&(g.scale=i),a!==void 0&&Bb(g,a,l,c,!1)}const iy=()=>({...sd(),attrs:{}}),oy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Vb(t,e,r,i){const a=Q.useMemo(()=>{const l=iy();return sy(l,e,oy(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ry(l,t.style,t),a.style={...l,...a.style}}return a}const Fb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function id(t){return typeof t!="string"||t.includes("-")?!1:!!(Fb.indexOf(t)>-1||/[A-Z]/u.test(t))}function zb(t,e,r,{latestValues:i},a,l=!1,c){const f=(c??id(t)?Vb:Lb)(e,i,a,t),m=Cb(e,typeof t=="string",l),y=t!==Q.Fragment?{...m,...f,ref:r}:{},{children:g}=e,w=Q.useMemo(()=>yt(g)?g.get():g,[g]);return Q.createElement(t,{...y,children:w})}function Kp(t){const e=[{},{}];return t==null||t.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function od(t,e,r,i){if(typeof e=="function"){const[a,l]=Kp(i);e=e(r!==void 0?r:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Kp(i);e=e(r!==void 0?r:t.custom,a,l)}return e}function _a(t){return yt(t)?t.get():t}function Wb({scrapeMotionValuesFromProps:t,createRenderState:e},r,i,a){return{latestValues:Hb(r,i,a,t),renderState:e()}}function Hb(t,e,r,i){const a={},l=i(t,{});for(const w in l)a[w]=_a(l[w]);let{initial:c,animate:h}=t;const f=La(t),m=ty(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=r?r.initial===!1:!1;y=y||c===!1;const g=y?h:c;if(g&&typeof g!="boolean"&&!Ia(g)){const w=Array.isArray(g)?g:[g];for(let x=0;x<w.length;x++){const E=od(t,w[x]);if(E){const{transitionEnd:k,transition:P,...A}=E;for(const D in A){let O=A[D];if(Array.isArray(O)){const $=y?O.length-1:0;O=O[$]}O!==null&&(a[D]=O)}for(const D in k)a[D]=k[D]}}}return a}const ay=t=>(e,r)=>{const i=Q.useContext(Da),a=Q.useContext(Dc),l=()=>Wb(t,e,i,a);return r?l():kS(l)};function ad(t,e,r){var l;const{style:i}=t,a={};for(const c in i)(yt(i[c])||e.style&&yt(e.style[c])||ny(c,t)||((l=r==null?void 0:r.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const Kb=ay({scrapeMotionValuesFromProps:ad,createRenderState:sd});function ly(t,e,r){const i=ad(t,e,r);for(const a in t)if(yt(t[a])||yt(e[a])){const l=Ls.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const qb=ay({scrapeMotionValuesFromProps:ly,createRenderState:iy}),Gb=Symbol.for("motionComponentSymbol");function Ts(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qp(t,e){if(typeof t=="function")return t(e);Ts(t)&&(t.current=e)}function Jb(t,e,r){const i=Q.useRef(null);return Q.useCallback(a=>{if(a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),r)if(a){const l=qp(r,a);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):qp(r,a)},[e,t,r])}const ld=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Yb="framerAppearId",uy="data-"+ld(Yb),cy=Q.createContext({});function Xb(t,e,r,i,a,l){var P,A;const{visualElement:c}=Q.useContext(Da),h=Q.useContext(Zg),f=Q.useContext(Dc),m=Q.useContext(Qg).reducedMotion,y=Q.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:c,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const g=y.current,w=Q.useContext(cy);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&Qb(y.current,r,a,w);const x=Q.useRef(!1);Q.useInsertionEffect(()=>{g&&x.current&&g.update(r,f)});const E=r[uy],k=Q.useRef(!!E&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,E))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,E)));return ES(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),Q.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,E)}),k.current=!1),g.enteringChildren=void 0)}),g}function Qb(t,e,r,i){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:dy(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Ts(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:m})}function dy(t){if(t)return t.options.allowProjection!==!1?t.projection:dy(t.parent)}function $u(t,{forwardMotionProps:e=!1,type:r}={},i,a){i&&kb(i);const l=r?r==="svg":id(t),c=l?qb:Kb;function h(m,y){let g;const w={...Q.useContext(Qg),...m,layoutId:Zb(m)},{isStatic:x}=w,E=Ab(m),k=c(m,x);if(!x&&Nc){ek();const P=tk(w);g=P.MeasureLayout,E.visualElement=Xb(t,k,w,a,P.ProjectionNode,l)}return b.jsxs(Da.Provider,{value:E,children:[g&&E.visualElement?b.jsx(g,{visualElement:E.visualElement,...w}):null,zb(t,m,Jb(k,E.visualElement,y),k,x,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=Q.forwardRef(h);return f[Gb]=t,f}function Zb({layoutId:t}){const e=Q.useContext(ag).id;return e&&t!==void 0?e+"-"+t:t}function ek(t,e){Q.useContext(Zg).strict}function tk(t){const{drag:e,layout:r}=Ds;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function nk(t,e){if(typeof Proxy>"u")return $u;const r=new Map,i=(l,c)=>$u(l,c,t,e),a=(l,c)=>i(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?i:(r.has(c)||r.set(c,$u(c,void 0,t,e)),r.get(c))})}function hy({top:t,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:t,max:i}}}function rk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sk(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Bu(t){return t===void 0||t===1}function wc({scale:t,scaleX:e,scaleY:r}){return!Bu(t)||!Bu(e)||!Bu(r)}function Ir(t){return wc(t)||fy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fy(t){return Gp(t.x)||Gp(t.y)}function Gp(t){return t&&t!=="0%"}function Aa(t,e,r){const i=t-r,a=e*i;return r+a}function Jp(t,e,r,i,a){return a!==void 0&&(t=Aa(t,a,i)),Aa(t,r,i)+e}function _c(t,e=0,r=1,i,a){t.min=Jp(t.min,e,r,i,a),t.max=Jp(t.max,e,r,i,a)}function py(t,{x:e,y:r}){_c(t.x,e.translate,e.scale,e.originPoint),_c(t.y,r.translate,r.scale,r.originPoint)}const Yp=.999999999999,Xp=1.0000000000001;function ik(t,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=r[h],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ps(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,py(t,c)),i&&Ir(l.latestValues)&&Ps(t,l.latestValues))}e.x<Xp&&e.x>Yp&&(e.x=1),e.y<Xp&&e.y>Yp&&(e.y=1)}function Cs(t,e){t.min=t.min+e,t.max=t.max+e}function Qp(t,e,r,i,a=.5){const l=Ie(t.min,t.max,a);_c(t,e,r,l,i)}function Ps(t,e){Qp(t.x,e.x,e.scaleX,e.scale,e.originX),Qp(t.y,e.y,e.scaleY,e.scale,e.originY)}function my(t,e){return hy(sk(t.getBoundingClientRect(),e))}function ok(t,e,r){const i=my(t,r),{scroll:a}=e;return a&&(Cs(i.x,a.offset.x),Cs(i.y,a.offset.y)),i}const Zp=()=>({translate:0,scale:1,origin:0,originPoint:0}),As=()=>({x:Zp(),y:Zp()}),em=()=>({min:0,max:0}),Ze=()=>({x:em(),y:em()}),xc={current:null},gy={current:!1};function ak(){if(gy.current=!0,!!Nc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xc.current=t.matches;t.addEventListener("change",e),e()}else xc.current=!1}const lk=new WeakMap;function uk(t,e,r){for(const i in e){const a=e[i],l=r[i];if(yt(a))t.addValue(i,a);else if(yt(l))t.addValue(i,Ns(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const c=t.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(i);t.addValue(i,Ns(c!==void 0?c:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const tm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ck{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Pt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,je.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=La(r),this.isVariantNode=ty(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in g){const x=g[w];f[w]!==void 0&&yt(x)&&x.set(f[w])}}mount(e){var r;this.current=e,lk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(gy.current||ak(),this.shouldReduceMotion=xc.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ms.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&je.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ds){const r=Ds[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<tm.length;i++){const a=tm[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=uk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Ns(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(lg(i)||cg(i))?i=parseFloat(i):!Sb(i)&&dr.test(r)&&(i=Kg(e,r)),this.setBaseTarget(e,yt(i)?i.get():i)),yt(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var l;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=od(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Bc),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Zc.render(this.render)}}class yy extends ck{constructor(){super(...arguments),this.KeyframeResolver=ub}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function vy(t,{style:e,vars:r},i,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,i);for(c in r)l.setProperty(c,r[c])}function dk(t){return window.getComputedStyle(t)}class hk extends yy{constructor(){super(...arguments),this.type="html",this.renderInstance=vy}readValueFromInstance(e,r){var i;if(Ms.has(r))return(i=this.projection)!=null&&i.isProjecting?dc(r):P1(e,r);{const a=dk(e),l=(kg(r)?a.getPropertyValue(r):a[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:r}){return my(e,r)}build(e,r,i){rd(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return ad(e,r,i)}}const wy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fk(t,e,r,i){vy(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(wy.has(a)?a:ld(a),e.attrs[a])}class pk extends yy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ms.has(r)){const i=Hg(r);return i&&i.default||0}return r=wy.has(r)?r:ld(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return ly(e,r,i)}build(e,r,i){sy(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,a){fk(e,r,i,a)}mount(e){this.isSVGTag=oy(e.tagName),super.mount(e)}}const mk=(t,e)=>e.isSVG??id(t)?new pk(e):new hk(e,{allowProjection:t!==Q.Fragment});function Os(t,e,r){const i=t.getProps();return od(i,e,r!==void 0?r:i.custom,t)}const Sc=t=>Array.isArray(t);function gk(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ns(r))}function yk(t){return Sc(t)?t[t.length-1]||0:t}function vk(t,e){const r=Os(t,e);let{transitionEnd:i={},transition:a={},...l}=r||{};l={...l,...i};for(const c in l){const h=yk(l[c]);gk(t,c,h)}}function wk(t){return!!(yt(t)&&t.add)}function bc(t,e){const r=t.getValue("willChange");if(wk(r))return r.add(e);if(!r&&Nn.WillChange){const i=new Nn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function _y(t){return t.props[uy]}const _k=t=>t!==null;function xk(t,{repeat:e,repeatType:r="loop"},i){const a=t.filter(_k),l=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Sk={type:"spring",stiffness:500,damping:25,restSpeed:10},bk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kk={type:"keyframes",duration:.8},Ek={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tk=(t,{keyframes:e})=>e.length>2?kk:Ms.has(t)?t.startsWith("scale")?bk(e[1]):Sk:Ek;function Ck({when:t,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const ud=(t,e,r,i={},a,l)=>c=>{const h=Xc(i,t)||{},f=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-yn(f);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Ck(h)||Object.assign(y,Tk(t,y)),y.duration&&(y.duration=yn(y.duration)),y.repeatDelay&&(y.repeatDelay=yn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let g=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(gc(y),y.delay===0&&(g=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(g=!0,gc(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,g&&!l&&e.get()!==void 0){const w=xk(y.keyframes,h);if(w!==void 0){je.update(()=>{y.onUpdate(w),y.onComplete()});return}}return h.isSync?new Jc(y):new X1(y)};function Pk({protectedKeys:t,needsAnimating:e},r){const i=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function xy(t,e,{delay:r=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;i&&(l=i);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const g=t.getValue(y,t.latestValues[y]??null),w=h[y];if(w===void 0||m&&Pk(m,y))continue;const x={delay:r,...Xc(l||{},y)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(w)&&w===E&&!x.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const A=_y(t);if(A){const D=window.MotionHandoffAnimation(A,y,je);D!==null&&(x.startTime=D,k=!0)}}bc(t,y),g.start(ud(y,g,w,t.shouldReduceMotion&&Fg.has(y)?{type:!1}:x,t,k));const P=g.animation;P&&f.push(P)}return c&&Promise.all(f).then(()=>{je.update(()=>{c&&vk(t,c)})}),f}function Sy(t,e,r,i=0,a=1){const l=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=t.size,h=(c-1)*i;return typeof r=="function"?r(l,c):a===1?l*i:h-l*i}function kc(t,e,r={}){var f;const i=Os(t,e,r.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const l=i?()=>Promise.all(xy(t,i,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:g,staggerDirection:w}=a;return Ak(t,e,m,y,g,w,r)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,y]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>y())}else return Promise.all([l(),c(r.delay)])}function Ak(t,e,r=0,i=0,a=0,l=1,c){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(kc(f,e,{...c,delay:r+(typeof i=="function"?0:i)+Sy(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Rk(t,e,r={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>kc(t,l,r));i=Promise.all(a)}else if(typeof e=="string")i=kc(t,e,r);else{const a=typeof e=="function"?Os(t,e,r.custom):e;i=Promise.all(xy(t,a,r))}return i.then(()=>{t.notify("AnimationComplete",e)})}function by(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(e[i]!==t[i])return!1;return!0}const jk=nd.length;function ky(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?ky(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<jk;r++){const i=nd[r],a=t.props[i];(Wi(a)||a===!1)&&(e[i]=a)}return e}const Ok=[...td].reverse(),Nk=td.length;function Dk(t){return e=>Promise.all(e.map(({animation:r,options:i})=>Rk(t,r,i)))}function Ik(t){let e=Dk(t),r=nm(),i=!0;const a=f=>(m,y)=>{var w;const g=Os(t,y,f==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(g){const{transition:x,transitionEnd:E,...k}=g;m={...m,...k,...E}}return m};function l(f){e=f(t)}function c(f){const{props:m}=t,y=ky(t.parent)||{},g=[],w=new Set;let x={},E=1/0;for(let P=0;P<Nk;P++){const A=Ok[P],D=r[A],O=m[A]!==void 0?m[A]:y[A],$=Wi(O),V=A===f?D.isActive:null;V===!1&&(E=P);let z=O===y[A]&&O!==m[A]&&$;if(z&&i&&t.manuallyAnimateOnMount&&(z=!1),D.protectedKeys={...x},!D.isActive&&V===null||!O&&!D.prevProp||Ia(O)||typeof O=="boolean")continue;const te=Lk(D.prevProp,O);let J=te||A===f&&D.isActive&&!z&&$||P>E&&$,K=!1;const he=Array.isArray(O)?O:[O];let ve=he.reduce(a(A),{});V===!1&&(ve={});const{prevResolvedValues:ze={}}=D,Be={...ze,...ve},et=oe=>{J=!0,w.has(oe)&&(K=!0,w.delete(oe)),D.needsAnimating[oe]=!0;const U=t.getValue(oe);U&&(U.liveStyle=!1)};for(const oe in Be){const U=ve[oe],G=ze[oe];if(x.hasOwnProperty(oe))continue;let H=!1;Sc(U)&&Sc(G)?H=!by(U,G):H=U!==G,H?U!=null?et(oe):w.add(oe):U!==void 0&&w.has(oe)?et(oe):D.protectedKeys[oe]=!0}D.prevProp=O,D.prevResolvedValues=ve,D.isActive&&(x={...x,...ve}),i&&t.blockInitialAnimation&&(J=!1);const Ae=z&&te;J&&(!Ae||K)&&g.push(...he.map(oe=>{const U={type:A};if(typeof oe=="string"&&i&&!Ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,H=Os(G,oe);if(G.enteringChildren&&H){const{delayChildren:T}=H.transition||{};U.delay=Sy(G.enteringChildren,t,T)}}return{animation:oe,options:U}}))}if(w.size){const P={};if(typeof m.initial!="boolean"){const A=Os(t,Array.isArray(m.initial)?m.initial[0]:m.initial);A&&A.transition&&(P.transition=A.transition)}w.forEach(A=>{const D=t.getBaseTarget(A),O=t.getValue(A);O&&(O.liveStyle=!0),P[A]=D??null}),g.push({animation:P})}let k=!!g.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(g):Promise.resolve()}function h(f,m){var g;if(r[f].isActive===m)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(w=>{var x;return(x=w.animationState)==null?void 0:x.setActive(f,m)}),r[f].isActive=m;const y=c(f);for(const w in r)r[w].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>r,reset:()=>{r=nm()}}}function Lk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!by(e,t):!1}function Nr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nm(){return{animate:Nr(!0),whileInView:Nr(),whileHover:Nr(),whileTap:Nr(),whileDrag:Nr(),whileFocus:Nr(),exit:Nr()}}class hr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Mk extends hr{constructor(e){super(e),e.animationState||(e.animationState=Ik(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ia(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $k=0;class Bk extends hr{constructor(){super(...arguments),this.id=$k++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Uk={animation:{Feature:Mk},exit:{Feature:Bk}};function Hi(t,e,r,i={passive:!0}){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r)}function Yi(t){return{point:{x:t.pageX,y:t.pageY}}}const Vk=t=>e=>ed(e)&&t(e,Yi(e));function Ni(t,e,r,i){return Hi(t,e,Vk(r),i)}const Ey=1e-4,Fk=1-Ey,zk=1+Ey,Ty=.01,Wk=0-Ty,Hk=0+Ty;function _t(t){return t.max-t.min}function Kk(t,e,r){return Math.abs(t-e)<=r}function rm(t,e,r,i=.5){t.origin=i,t.originPoint=Ie(e.min,e.max,t.origin),t.scale=_t(r)/_t(e),t.translate=Ie(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Fk&&t.scale<=zk||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wk&&t.translate<=Hk||isNaN(t.translate))&&(t.translate=0)}function Di(t,e,r,i){rm(t.x,e.x,r.x,i?i.originX:void 0),rm(t.y,e.y,r.y,i?i.originY:void 0)}function sm(t,e,r){t.min=r.min+e.min,t.max=t.min+_t(e)}function qk(t,e,r){sm(t.x,e.x,r.x),sm(t.y,e.y,r.y)}function im(t,e,r){t.min=e.min-r.min,t.max=t.min+_t(e)}function Ra(t,e,r){im(t.x,e.x,r.x),im(t.y,e.y,r.y)}function Gt(t){return[t("x"),t("y")]}const Cy=({current:t})=>t?t.ownerDocument.defaultView:null,om=(t,e)=>Math.abs(t-e);function Gk(t,e){const r=om(t.x,e.x),i=om(t.y,e.y);return Math.sqrt(r**2+i**2)}class Py{constructor(e,r,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Vu(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,E=Gk(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!E)return;const{point:k}=w,{timestamp:P}=dt;this.history.push({...k,timestamp:P});const{onStart:A,onMove:D}=this.handlers;x||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Uu(x,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:E,onSessionEnd:k,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Vu(w.type==="pointercancel"?this.lastMoveEventInfo:Uu(x,this.transformPagePoint),this.history);this.startEvent&&E&&E(w,A),k&&k(w,A)},!ed(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=a||window;const h=Yi(e),f=Uu(h,this.transformPagePoint),{point:m}=f,{timestamp:y}=dt;this.history=[{...m,timestamp:y}];const{onSessionStart:g}=r;g&&g(e,Vu(f,this.history)),this.removeListeners=qi(Ni(this.contextWindow,"pointermove",this.handlePointerMove),Ni(this.contextWindow,"pointerup",this.handlePointerUp),Ni(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function Uu(t,e){return e?{point:e(t.point)}:t}function am(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vu({point:t},e){return{point:t,delta:am(t,Ay(e)),offset:am(t,Jk(e)),velocity:Yk(e,.1)}}function Jk(t){return t[0]}function Ay(t){return t[t.length-1]}function Yk(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,i=null;const a=Ay(t);for(;r>=0&&(i=t[r],!(a.timestamp-i.timestamp>yn(e)));)r--;if(!i)return{x:0,y:0};const l=Jt(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Xk(t,{min:e,max:r},i){return e!==void 0&&t<e?t=i?Ie(e,t,i.min):Math.max(t,e):r!==void 0&&t>r&&(t=i?Ie(r,t,i.max):Math.min(t,r)),t}function lm(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Qk(t,{top:e,left:r,bottom:i,right:a}){return{x:lm(t.x,r,a),y:lm(t.y,e,i)}}function um(t,e){let r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,i]=[i,r]),{min:r,max:i}}function Zk(t,e){return{x:um(t.x,e.x),y:um(t.y,e.y)}}function eE(t,e){let r=.5;const i=_t(t),a=_t(e);return a>i?r=Vi(e.min,e.max-i,t.min):i>a&&(r=Vi(t.min,t.max-a,e.min)),On(0,1,r)}function tE(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ec=.35;function nE(t=Ec){return t===!1?t=0:t===!0&&(t=Ec),{x:cm(t,"left","right"),y:cm(t,"top","bottom")}}function cm(t,e,r){return{min:dm(t,e),max:dm(t,r)}}function dm(t,e){return typeof t=="number"?t:t[e]||0}const rE=new WeakMap;class sE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yi(g).point)},c=(g,w)=>{const{drag:x,dragPropagation:E,onDragStart:k}=this.getProps();if(x&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pb(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gt(A=>{let D=this.getAxisMotionValue(A).get()||0;if(vn.test(D)){const{projection:O}=this.visualElement;if(O&&O.layout){const $=O.layout.layoutBox[A];$&&(D=_t($)*(parseFloat(D)/100))}}this.originPoint[A]=D}),k&&je.postRender(()=>k(g,w)),bc(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:E,onDirectionLock:k,onDrag:P}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=w;if(E&&this.currentDirection===null){this.currentDirection=iE(A),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",w.point,A),this.updateAxis("y",w.point,A),this.visualElement.render(),P&&P(g,w)},f=(g,w)=>{this.latestPointerEvent=g,this.latestPanInfo=w,this.stop(g,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Gt(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)==null?void 0:w.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Py(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:Cy(this.visualElement)})}stop(e,r){const i=e||this.latestPointerEvent,a=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&je.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!ya(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=Xk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Ts(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Qk(i.layoutBox,e):this.constraints=!1,this.elastic=nE(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=tE(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ts(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=ok(i,a.root,this.visualElement.getTransformPagePoint());let c=Zk(a.layout.layoutBox,l);if(r){const h=r(rk(c));this.hasMutatedConstraints=!!h,h&&(c=hy(h))}return c}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},m=Gt(y=>{if(!ya(y,r,this.currentDirection))return;let g=f&&f[y]||{};c&&(g={min:0,max:0});const w=a?200:1e6,x=a?40:1e7,E={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(y,E)});return Promise.all(m).then(h)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return bc(this.visualElement,e),i.start(ud(e,i,0,r,this.visualElement,!1))}stopAnimation(){Gt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gt(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Gt(r=>{const{drag:i}=this.getProps();if(!ya(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[r],f=l.get()||0;l.set(e[r]-Ie(c,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ts(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gt(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const f=h.get();a[c]=eE({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gt(c=>{if(!ya(c,e,null))return;const h=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];h.set(Ie(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;rE.set(this.visualElement,this);const e=this.visualElement.current,r=Ni(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ts(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),je.read(i);const c=Hi(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gt(y=>{const g=this.getAxisMotionValue(y);g&&(this.originPoint[y]+=f[y].translate,g.set(g.get()+f[y].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ec,dragMomentum:h=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function ya(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function iE(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class oE extends hr{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new sE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const hm=t=>(e,r)=>{t&&je.postRender(()=>t(e,r))};class aE extends hr{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new Py(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:hm(e),onStart:hm(r),onMove:i,onEnd:(l,c)=>{delete this.session,a&&je.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ni(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Fu=!1;class lE extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(r.group&&r.group.add(l),i&&i.register&&a&&i.register(l),Fu&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Fu=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||je.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zc.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;Fu=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ry(t){const[e,r]=bb(),i=Q.useContext(ag);return b.jsx(lE,{...t,layoutGroup:i,switchLayoutGroup:Q.useContext(cy),isPresent:e,safeToRemove:r})}function uE(t,e,r){const i=yt(t)?t:Ns(t);return i.start(ud("",i,e,r)),i.animation}const cE=(t,e)=>t.depth-e.depth;class dE{constructor(){this.children=[],this.isDirty=!1}add(e){Ic(this.children,e),this.isDirty=!0}remove(e){Lc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cE),this.isDirty=!1,this.children.forEach(e)}}function hE(t,e){const r=Pt.now(),i=({timestamp:a})=>{const l=a-r;l>=e&&(cr(i),t(l-e))};return je.setup(i,!0),()=>cr(i)}const jy=["TopLeft","TopRight","BottomLeft","BottomRight"],fE=jy.length,fm=t=>typeof t=="string"?parseFloat(t):t,pm=t=>typeof t=="number"||Y.test(t);function pE(t,e,r,i,a,l){a?(t.opacity=Ie(0,r.opacity??1,mE(i)),t.opacityExit=Ie(e.opacity??1,0,gE(i))):l&&(t.opacity=Ie(e.opacity??1,r.opacity??1,i));for(let c=0;c<fE;c++){const h=`border${jy[c]}Radius`;let f=mm(e,h),m=mm(r,h);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||pm(f)===pm(m)?(t[h]=Math.max(Ie(fm(f),fm(m),i),0),(vn.test(m)||vn.test(f))&&(t[h]+="%")):t[h]=m}(e.rotate||r.rotate)&&(t.rotate=Ie(e.rotate||0,r.rotate||0,i))}function mm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mE=Oy(0,.5,vg),gE=Oy(.5,.95,Yt);function Oy(t,e,r){return i=>i<t?0:i>e?1:r(Vi(t,e,i))}function gm(t,e){t.min=e.min,t.max=e.max}function on(t,e){gm(t.x,e.x),gm(t.y,e.y)}function ym(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vm(t,e,r,i,a){return t-=e,t=Aa(t,1/r,i),a!==void 0&&(t=Aa(t,1/a,i)),t}function yE(t,e=0,r=1,i=.5,a,l=t,c=t){if(vn.test(e)&&(e=parseFloat(e),e=Ie(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ie(l.min,l.max,i);t===l&&(h-=e),t.min=vm(t.min,e,r,h,a),t.max=vm(t.max,e,r,h,a)}function wm(t,e,[r,i,a],l,c){yE(t,e[r],e[i],e[a],e.scale,l,c)}const vE=["x","scaleX","originX"],wE=["y","scaleY","originY"];function _m(t,e,r,i){wm(t.x,e,vE,r?r.x:void 0,i?i.x:void 0),wm(t.y,e,wE,r?r.y:void 0,i?i.y:void 0)}function xm(t){return t.translate===0&&t.scale===1}function Ny(t){return xm(t.x)&&xm(t.y)}function Sm(t,e){return t.min===e.min&&t.max===e.max}function _E(t,e){return Sm(t.x,e.x)&&Sm(t.y,e.y)}function bm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Dy(t,e){return bm(t.x,e.x)&&bm(t.y,e.y)}function km(t){return _t(t.x)/_t(t.y)}function Em(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xE{constructor(){this.members=[]}add(e){Ic(this.members,e),e.scheduleRender()}remove(e){if(Lc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SE(t,e,r){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(r==null?void 0:r.z)||0;if((a||l||c)&&(i=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:m,rotate:y,rotateX:g,rotateY:w,skewX:x,skewY:E}=r;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),g&&(i+=`rotateX(${g}deg) `),w&&(i+=`rotateY(${w}deg) `),x&&(i+=`skewX(${x}deg) `),E&&(i+=`skewY(${E}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const zu=["","X","Y","Z"],bE=1e3;let kE=0;function Wu(t,e,r,i){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Iy(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=_y(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",je,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Iy(i)}function Ly({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=kE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(CE),this.nodes.forEach(jE),this.nodes.forEach(OE),this.nodes.forEach(PE)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new dE)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Bc),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const f=this.eventHandlers.get(c);f&&f.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Xg(c)&&!_b(c),this.instance=c;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,g=0;const w=()=>this.root.updateBlockedByResize=!1;je.read(()=>{g=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,y&&y(),y=hE(w,250),xa.hasAnimatedSinceResize&&(xa.hasAnimatedSinceResize=!1,this.nodes.forEach(Pm)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:g,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||m.getDefaultTransition()||ME,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=m.getProps(),A=!this.targetLayout||!Dy(this.targetLayout,x),D=!g&&w;if(this.options.layoutRoot||this.resumeFrom||D||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...Xc(E,"layout"),onPlay:k,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(y,D)}else g||Pm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NE),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Iy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const g=this.path[y];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RE),this.nodes.forEach(EE),this.nodes.forEach(TE)):this.nodes.forEach(Cm),this.clearAllSnapshots();const h=Pt.now();dt.delta=On(0,1e3/60,h-dt.timestamp),dt.timestamp=h,dt.isProcessing=!0,Ou.update.process(dt),Ou.preRender.process(dt),Ou.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AE),this.sharedNodes.forEach(DE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_t(this.snapshot.measuredBox.x)&&!_t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Ny(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Ir(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return c&&(f=this.removeTransform(f)),$E(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return Ze();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(BE))){const{scroll:y}=this.root;y&&(Cs(h.x,y.offset.x),Cs(h.y,y.offset.y))}return h}removeElementScroll(c){var f;const h=Ze();if(on(h,c),(f=this.scroll)!=null&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:g,options:w}=y;y!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&on(h,c),Cs(h.x,g.offset.x),Cs(h.y,g.offset.y))}return h}applyTransform(c,h=!1){const f=Ze();on(f,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ps(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ir(y.latestValues)&&Ps(f,y.latestValues)}return Ir(this.latestValues)&&Ps(f,this.latestValues),f}removeTransform(c){const h=Ze();on(h,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ir(m.latestValues))continue;wc(m.latestValues)&&m.updateSnapshot();const y=Ze(),g=m.measurePageBox();on(y,g),_m(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Ir(this.latestValues)&&_m(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:g}=this.options;if(!this.layout||!(y||g))return;this.resolvedRelativeTargetAt=dt.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),py(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wc(this.parent.latestValues)||fy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Ra(this.relativeTargetOrigin,h,f),on(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var E;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;on(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,w=this.treeScale.y;ik(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ze());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ym(this.prevProjectionDelta.x,this.projectionDelta.x),ym(this.prevProjectionDelta.y,this.projectionDelta.y)),Di(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==w||!Em(this.projectionDelta.x,this.prevProjectionDelta.x)||!Em(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=As(),this.projectionDelta=As(),this.projectionDeltaWithTransform=As()}setAnimationOrigin(c,h=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},g=As();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ze(),x=f?f.source:void 0,E=this.layout?this.layout.source:void 0,k=x!==E,P=this.getStack(),A=!P||P.members.length<=1,D=!!(k&&!A&&this.options.crossfade===!0&&!this.path.some(LE));this.animationProgress=0;let O;this.mixTargetDelta=$=>{const V=$/1e3;Am(g.x,c.x,V),Am(g.y,c.y,V),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ra(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IE(this.relativeTarget,this.relativeTargetOrigin,w,V),O&&_E(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ze()),on(O,this.relativeTarget)),k&&(this.animationValues=y,pE(y,m,this.latestValues,V,D,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,f,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{xa.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ns(0)),this.currentAnimation=uE(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:f,layout:m,latestValues:y}=c;if(!(!h||!f||!m)){if(this!==c&&this.layout&&m&&My(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Ze();const g=_t(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const w=_t(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+w}on(h,f),Ps(h,y),Di(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xE),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const m={};f.z&&Wu("z",c,m,this.animationValues);for(let y=0;y<zu.length;y++)Wu(`rotate${zu[y]}`,c,m,this.animationValues),Wu(`skew${zu[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=_a(h==null?void 0:h.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=_a(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let g=SE(this.projectionDeltaWithTransform,this.treeScale,y);f&&(g=f(y,g)),c.transform=g;const{x:w,y:x}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in vc){if(y[E]===void 0)continue;const{correct:k,applyTo:P,isCSSVariable:A}=vc[E],D=g==="none"?y[E]:k(y[E],m);if(P){const O=P.length;for(let $=0;$<O;$++)c[P[$]]=D}else A?this.options.visualElement.renderState.vars[E]=D:c[E]=D}this.options.layoutId&&(c.pointerEvents=m===this?_a(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Tm),this.root.sharedNodes.clear()}}}function EE(t){t.updateLayout()}function TE(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Gt(g=>{const w=c?e.measuredBox[g]:e.layoutBox[g],x=_t(w);w.min=i[g].min,w.max=w.min+x}):My(l,e.layoutBox,i)&&Gt(g=>{const w=c?e.measuredBox[g]:e.layoutBox[g],x=_t(i[g]);w.max=w.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const h=As();Di(h,i,e.layoutBox);const f=As();c?Di(f,t.applyTransform(a,!0),e.measuredBox):Di(f,i,e.layoutBox);const m=!Ny(h);let y=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:x}=g;if(w&&x){const E=Ze();Ra(E,e.layoutBox,w.layoutBox);const k=Ze();Ra(k,i,x.layoutBox),Dy(E,k)||(y=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=E,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function CE(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PE(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AE(t){t.clearSnapshot()}function Tm(t){t.clearMeasurements()}function Cm(t){t.isLayoutDirty=!1}function RE(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Pm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jE(t){t.resolveTargetDelta()}function OE(t){t.calcProjection()}function NE(t){t.resetSkewAndRotation()}function DE(t){t.removeLeadSnapshot()}function Am(t,e,r){t.translate=Ie(e.translate,0,r),t.scale=Ie(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Rm(t,e,r,i){t.min=Ie(e.min,r.min,i),t.max=Ie(e.max,r.max,i)}function IE(t,e,r,i){Rm(t.x,e.x,r.x,i),Rm(t.y,e.y,r.y,i)}function LE(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ME={duration:.45,ease:[.4,0,.1,1]},jm=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Om=jm("applewebkit/")&&!jm("chrome/")?Math.round:Yt;function Nm(t){t.min=Om(t.min),t.max=Om(t.max)}function $E(t){Nm(t.x),Nm(t.y)}function My(t,e,r){return t==="position"||t==="preserve-aspect"&&!Kk(km(e),km(r),.2)}function BE(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const UE=Ly({attachResizeListener:(t,e)=>Hi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hu={current:void 0},$y=Ly({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hu.current){const t=new UE({});t.mount(window),t.setOptions({layoutScroll:!0}),Hu.current=t}return Hu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VE={pan:{Feature:aE},drag:{Feature:oE,ProjectionNode:$y,MeasureLayout:Ry}};function Dm(t,e,r){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,l=i[a];l&&je.postRender(()=>l(e,Yi(e)))}class FE extends hr{mount(){const{current:e}=this.node;e&&(this.unmount=mb(e,(r,i)=>(Dm(this.node,i,"Start"),a=>Dm(this.node,a,"End"))))}unmount(){}}class zE extends hr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qi(Hi(this.node.current,"focus",()=>this.onFocus()),Hi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Im(t,e,r){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),l=i[a];l&&je.postRender(()=>l(e,Yi(e)))}class WE extends hr{mount(){const{current:e}=this.node;e&&(this.unmount=wb(e,(r,i)=>(Im(this.node,i,"Start"),(a,{success:l})=>Im(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tc=new WeakMap,Ku=new WeakMap,HE=t=>{const e=Tc.get(t.target);e&&e(t)},KE=t=>{t.forEach(HE)};function qE({root:t,...e}){const r=t||document;Ku.has(r)||Ku.set(r,{});const i=Ku.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(KE,{root:t,...e})),i[a]}function GE(t,e,r){const i=qE(e);return Tc.set(t,r),i.observe(t),()=>{Tc.delete(t),i.unobserve(t)}}const JE={some:0,all:1};class YE extends hr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:l}=e,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:JE[a]},h=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:g}=this.node.getProps(),w=m?y:g;w&&w(f)};return GE(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(XE(e,r))&&this.startObserver()}unmount(){}}function XE({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const QE={inView:{Feature:YE},tap:{Feature:WE},focus:{Feature:zE},hover:{Feature:FE}},ZE={layout:{ProjectionNode:$y,MeasureLayout:Ry}},eT={...Uk,...QE,...VE,...ZE},tT=nk(eT,mk),Lm={autumn:["#D97652","#C9A76B","#8B4513","#D4A574","#CD853F"],snow:["#FFFFFF","#F0F8FF","#E6F3FF"],sakura:["#FFC0CB","#FFB6C1","#FF69B4","#FFE4E1","#FFA5B8"],summer:["#FFD700","#FFA500","#FFDB58","#FFE066","#FFB90F"]};function nT({preset:t="autumn"}){const[e,r]=Q.useState([]);Q.useEffect(()=>{const l=Array.from({length:40},(c,h)=>({id:h,x:Math.random()*100,size:15+Math.random()*25,duration:8+Math.random()*12,delay:Math.random()*8,opacity:.3+Math.random()*.5,color:Lm[t][Math.floor(Math.random()*Lm[t].length)],blur:Math.random()>.5?0:Math.random()*2,rotation:Math.random()*360,scale:.5+Math.random()*.7}));r(l)},[t]);const i=l=>{const c=l.x,h=5+Math.random()*10;if(t==="summer")return{x:[`${c}vw`,`${c+h}vw`,`${c-h}vw`,`${c}vw`],y:["100vh","80vh","65vh","50vh","40vh"],opacity:[0,.8,1,.5,0]};{const f=t==="sakura"?720:360;return{x:[`${c}vw`,`${c+h}vw`,`${c-h}vw`,`${c}vw`],y:["-10vh","25vh","50vh","75vh","110vh"],rotate:[l.rotation,l.rotation+f*.25,l.rotation+f*.5,l.rotation+f*.75,l.rotation+f],opacity:l.opacity}}},a=l=>t==="summer"?b.jsx("div",{style:{width:l.size*.4,height:l.size*.4,borderRadius:"50%",backgroundColor:l.color,boxShadow:`0 0 ${l.size}px ${l.color}, 0 0 ${l.size*.5}px ${l.color}`,filter:"blur(1px)"}}):t==="snow"?b.jsx("div",{style:{width:l.size*.5,height:l.size*.5,borderRadius:"50%",backgroundColor:l.color,boxShadow:`0 0 ${l.size/2}px rgba(255, 255, 255, 0.8)`}}):t==="sakura"?b.jsxs("svg",{width:l.size,height:l.size,viewBox:"0 0 24 24",fill:l.color,children:[b.jsx("path",{d:"M12 2c-1.5 3-4 5-7 5 0 4 3 7 7 9 4-2 7-5 7-9-3 0-5.5-2-7-5z",opacity:"0.9"}),b.jsx("path",{d:"M12 2c1.5 3 4 5 7 5-1 2-2 4-7 9-5-5-6-7-7-9 3 0 5.5-2 7-5z",opacity:"0.7"})]}):b.jsx("svg",{width:l.size,height:l.size,viewBox:"0 0 24 24",fill:l.color,children:b.jsx("path",{d:"M12 2l-1.5 4.5L7 5l2 4-4.5-.5L6 12l-4 2 4.5 1.5L5 19l4.5-2 1.5 4.5L12 17l1.5 4.5L15 17l4.5 2-1.5-4.5L22 16l-4-2 1.5-3.5L15 11l2-4-3.5 1.5z"})});return b.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-50",children:e.map(l=>{const c=i(l),h=t==="summer";return b.jsx(tT.div,{initial:{x:`${l.x}vw`,y:h?"105vh":"-15vh",rotate:l.rotation,scale:l.scale,opacity:h?0:l.opacity},animate:c,transition:{duration:h?l.duration*1.5:l.duration,delay:l.delay,repeat:1/0,ease:h?"easeOut":"linear"},style:{position:"absolute",filter:l.blur>0?`blur(${l.blur}px)`:"none"},children:a(l)},l.id)})})}const rT=[{name:"Cashmere Wrap Scarf",link:"https://example.com",priority:"high",note:"The camel color would match my winter coat perfectly. So soft and cozy!",imageUrl:"https://images.unsplash.com/photo-1601924994987-69e26d50dc26?w=800"},{name:"Leather Bound Journal",link:"https://example.com",priority:"medium",note:"I want to start journaling our adventures together. Love the vintage aesthetic.",imageUrl:"https://images.unsplash.com/photo-1517842645767-c639042777db?w=800"},{name:"Handmade Ceramic Mug Set",link:"https://example.com",priority:"low",note:"These earthy tones are so beautiful. Perfect for our Sunday morning coffee ritual.",imageUrl:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=800"}],sT=[{name:"Santorini",location:"Greece",tags:[" Travel"," Sunset"," Foodie"],status:"dreaming",note:"The white buildings and blue domes look like a dream. I want to watch the sunset together in Oia. https://maps.google.com/?q=Santorini,Greece",imageUrl:"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?w=1200",mapLink:"https://maps.google.com/?q=Santorini,Greece"},{name:"Kyoto Gardens",location:"Japan",tags:[" Cherry Blossom"," Culture"," Food"],status:"dreaming",note:"The temples, gardens, and traditional tea houses. Spring cherry blossom season would be magical. https://maps.google.com/?q=Kyoto,Japan",imageUrl:"https://images.unsplash.com/photo-1592536511117-9d984977e751?w=1200",mapLink:"https://maps.google.com/?q=Kyoto,Japan"}];function iT(){const[t,e]=Q.useState("home"),[r,i]=Q.useState(!1),[a,l]=Q.useState("gift"),[c,h]=Q.useState([]),[f,m]=Q.useState([]),[y,g]=Q.useState(!0),[w,x]=Q.useState(!1),E=()=>{const K=["autumn","summer","sakura","snow"];return K[Math.floor(Math.random()*K.length)]},[k,P]=Q.useState(E()),A=`https://${og}.supabase.co/functions/v1/make-server-ebd4994c`;Q.useEffect(()=>{D()},[]);const D=async()=>{try{g(!0);const[K,he]=await Promise.all([fetch(`${A}/gifts`,{headers:{Authorization:`Bearer ${Rn}`}}),fetch(`${A}/places`,{headers:{Authorization:`Bearer ${Rn}`}})]);if(K.ok){const ve=await K.json();h(ve),ve.length===0&&O()}if(he.ok){const ve=await he.json();m(ve)}}catch(K){console.error("Error fetching data:",K),qt.error("Failed to load data")}finally{g(!1)}},O=async()=>{try{for(const K of rT)await fetch(`${A}/gifts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rn}`},body:JSON.stringify(K)});for(const K of sT)await fetch(`${A}/places`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rn}`},body:JSON.stringify(K)});D()}catch(K){console.error("Error seeding data:",K)}},$=async K=>{try{const he=await fetch(`${A}/gifts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rn}`},body:JSON.stringify(K)});if(!he.ok)throw new Error("Failed to add gift");const ve=await he.json();h([...c,ve]),qt.success("Gift added successfully!")}catch(he){throw console.error("Error adding gift:",he),qt.error("Failed to add gift"),he}},V=async K=>{try{const he=await fetch(`${A}/places`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Rn}`},body:JSON.stringify(K)});if(!he.ok)throw new Error("Failed to add place");const ve=await he.json();m([...f,ve]),qt.success("Place added successfully!")}catch(he){throw console.error("Error adding place:",he),qt.error("Failed to add place"),he}},z=async K=>{try{if(!(await fetch(`${A}/gifts/${K}`,{method:"DELETE",headers:{Authorization:`Bearer ${Rn}`}})).ok)throw new Error("Failed to delete gift");h(c.filter(ve=>ve.id!==K)),qt.success("Gift deleted")}catch(he){console.error("Error deleting gift:",he),qt.error("Failed to delete gift")}},te=async K=>{try{if(!(await fetch(`${A}/places/${K}`,{method:"DELETE",headers:{Authorization:`Bearer ${Rn}`}})).ok)throw new Error("Failed to delete place");m(f.filter(ve=>ve.id!==K)),qt.success("Place deleted")}catch(he){console.error("Error deleting place:",he),qt.error("Failed to delete place")}},J=K=>{l(K),i(!0)};return y?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"w-12 h-12 border-4 border-[#D97652] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),b.jsx("p",{className:"text-[#706B61]",children:"Loading your wishlist..."})]})}):b.jsxs(b.Fragment,{children:[b.jsx(zw,{position:"top-center",richColors:!0}),b.jsx(nT,{preset:k}),b.jsx("div",{className:"fixed top-6 right-6 z-50",children:b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:()=>x(!w),className:"bg-transparent rounded-full p-3 transition-all hover:scale-110","aria-label":"Change particle effects",children:b.jsx(sw,{className:"w-5 h-5 text-transparent opacity-0"})}),w&&b.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white/95 backdrop-blur-sm border-2 border-[#D97652]/30 rounded-2xl shadow-xl p-2 min-w-[180px]",children:[b.jsx("div",{className:"text-xs uppercase tracking-wider text-[#706B61] px-3 py-2 font-medium",children:"Particle Effect"}),["autumn","summer","sakura","snow"].map(K=>b.jsx("button",{onClick:()=>{P(K),x(!1),qt.success(`Switched to ${K} particles`)},className:`w-full text-left px-3 py-2 rounded-xl transition-all ${k===K?"bg-[#D97652] text-white":"hover:bg-[#F5F1E8] text-[#706B61]"}`,children:b.jsxs("div",{className:"flex items-center gap-2",children:[K==="autumn"&&b.jsx("span",{children:""}),K==="summer"&&b.jsx("span",{children:""}),K==="sakura"&&b.jsx("span",{children:""}),K==="snow"&&b.jsx("span",{children:""}),b.jsx("span",{className:"capitalize",children:K})]})},K))]})]})}),t==="home"&&b.jsx(cw,{onNavigate:e}),t==="gifts"&&b.jsx(hw,{gifts:c,onBack:()=>e("home"),onAddNew:()=>J("gift"),onDelete:z}),t==="places"&&b.jsx(pw,{places:f,onBack:()=>e("home"),onAddNew:()=>J("place"),onDelete:te}),b.jsx(bS,{isOpen:r,onClose:()=>i(!1),type:a,onSubmit:a==="gift"?$:V})]})}B0.createRoot(document.getElementById("root")).render(b.jsx(iT,{}));
